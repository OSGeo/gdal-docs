

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>OGC WKT Coordinate System Issues &mdash; GDAL  documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://gdal.orgtutorials/wktproblems.html"/>
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/gdal.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Development" href="../development/index.html" />
    <link rel="prev" title="OGR Coordinate Reference Systems and Coordinate Transformation tutorial" href="osr_api_tut.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/gdalicon.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../programs/index.html">Programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drivers/raster/index.html">Raster drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drivers/vector/index.html">Vector drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#raster">Raster</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#multidimensional-raster">Multidimensional raster</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#vector">Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#geographic-network-model">Geographic Network Model</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#projections-and-spatial-reference-systems-tutorial-osr-ogrspatialreference">Projections and Spatial Reference Systems tutorial (OSR - OGRSpatialReference)</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="osr_api_tut.html">OGR Coordinate Reference Systems and Coordinate Transformation tutorial</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">OGC WKT Coordinate System Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="osr_api_tut.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="osr_api_tut.html#references-and-applicable-standards">References and applicable standards</a></li>
<li class="toctree-l4"><a class="reference internal" href="osr_api_tut.html#defining-a-geographic-coordinate-reference-system">Defining a Geographic Coordinate Reference System</a></li>
<li class="toctree-l4"><a class="reference internal" href="osr_api_tut.html#crs-and-axis-order">CRS and axis order</a></li>
<li class="toctree-l4"><a class="reference internal" href="osr_api_tut.html#defining-a-projected-crs">Defining a Projected CRS</a></li>
<li class="toctree-l4"><a class="reference internal" href="osr_api_tut.html#querying-coordinate-reference-system">Querying Coordinate Reference System</a></li>
<li class="toctree-l4"><a class="reference internal" href="osr_api_tut.html#coordinate-transformation">Coordinate Transformation</a></li>
<li class="toctree-l4"><a class="reference internal" href="osr_api_tut.html#advanced-coordinate-transformation">Advanced Coordinate Transformation</a></li>
<li class="toctree-l4"><a class="reference internal" href="osr_api_tut.html#alternate-interfaces">Alternate Interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="osr_api_tut.html#history-and-implementation-considerations">History and implementation considerations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">How to contribute?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GDAL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html"> GDAL  documentation </a> &raquo;</li>
      
          <li><a href="index.html">Tutorials</a> &raquo;</li>
      
          <li><a href="osr_api_tut.html">OGR Coordinate Reference Systems and Coordinate Transformation tutorial</a> &raquo;</li>
      
      <li>OGC WKT Coordinate System Issues</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/edit//master/gdal/doc/source/tutorials/wktproblems.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="../development/index.html" class="btn btn-neutral float-right" title="Development" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="osr_api_tut.html" class="btn btn-neutral float-left" title="OGR Coordinate Reference Systems and Coordinate Transformation tutorial" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ogc-wkt-coordinate-system-issues">
<span id="wktproblems"></span><h1>OGC WKT Coordinate System Issues<a class="headerlink" href="#ogc-wkt-coordinate-system-issues" title="Permalink to this headline">¶</a></h1>
<p>This document is intended to discuss some issues that arrise in
attempting to use OpenGIS Well Known Text descriptions of coordinate
systems. It discusses various vendor implementations and issues between
the original <a class="reference external" href="http://portal.opengeospatial.org/files/?artifact_id=829">“Simple Features” specification (ie. SF-SQL
99-049)</a> and
the newer <a class="reference external" href="http://portal.opengeospatial.org/files/?artifact_id=999">Coordinate Transformation Services (CT) specification
(01-009)</a>
which defines an extended form of WKT.</p>
<div class="section" id="wkt-implementations">
<h2>WKT Implementations<a class="headerlink" href="#wkt-implementations" title="Permalink to this headline">¶</a></h2>
<p>At this time I am aware of at least the following software packages that
use some form of WKT internally, or for interchange of coordinate system
descriptions:</p>
<ul class="simple">
<li><p>Oracle Spatial (WKT is used internally in MDSYS.WKT, loosely SFSQL
based)</p></li>
<li><p>ESRI - The Arc8 system’s projection engine uses a roughly simple
features compatible description for projections. I believe ESRI
provided the WKT definition for the simple features spec.</p></li>
<li><p>Cadcorp - Has the ability to read and write CT 1.0 style WKT. Cadcorp
wrote the CT spec.</p></li>
<li><p>OGR/GDAL - reads/writes WKT as its internal coordinate system
description format. Attempts to support old and new forms as well as
forms from ESRI.</p></li>
<li><p>FME - Includes WKT read/write capabilities built on OGR.</p></li>
<li><p>MapGuide - Uses WKT in the SDP data access API. Roughly SF compliant.</p></li>
<li><p>PostGIS - Keeps WKT in the spatial_ref_sys table, but it is up to
clients to translate to PROJ.4 format for actual use. I believe the
spatial_ref_sys table is populated using OGR generated translations.</p></li>
</ul>
</div>
<div class="section" id="projection-parameters">
<h2>Projection Parameters<a class="headerlink" href="#projection-parameters" title="Permalink to this headline">¶</a></h2>
<p>The various specs do not list a set of projections, and the parameters
associated with them. This leads to various selection of parameter names
(and sometimes projection names) from different vendors. I have
attempted to maintain a list of WKT bindings for different projections
as part of my <a class="reference external" href="https://web.archive.org/web/20130728081442/http://www.remotesensing.org/geotiff/proj_list/">GeoTIFF Projections
List</a>
registry. Please try to adhere to the projection names and parameters
listed there. That list also tries to relate the projections to the
GeoTIFF, EPSG and PROJ.4 formulations where possible.</p>
<p>The one case where it isn’t followed by a vendor that I am aware of
ESRIs definition of Lambert Conformal Conic. In EPSG there is a 1SP and
a 2SP form of this. ESRI merges them, and just have different parameters
depending on the type.</p>
<p>One other issue is that the CT specification does explicitly list
parameters for the Transverse Mercator, LCC 1SP and LCC 2SP projections;
however, it lists standard_parallel1 and standard_parallel2 as
parameters for LCC 2SP which conflicts with the existing usage of
standard_parallel_1 and standard_parallel_2 and conflicts with examples
in the same CT spec. My position is that the table in section 10.x of
the CT spec is in error and that the widely used form is correct. Note
that the table in the CT spec conflicts with other examples in the same
spec.</p>
<p>A third issue is the formulation for Albers. While I have used
longitude_of_center and latitude_of_center ESRI uses Central_meridian
and latitude_of_origin.</p>
<p>ESRI:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROJECTION</span><span class="p">[</span><span class="s2">&quot;Albers&quot;</span><span class="p">],</span>
<span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;False_Easting&quot;</span><span class="p">,</span><span class="mf">1000000.0</span><span class="p">],</span>
<span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;False_Northing&quot;</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
<span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;Central_Meridian&quot;</span><span class="p">,</span><span class="o">-</span><span class="mf">126.0</span><span class="p">],</span>
<span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;Standard_Parallel_1&quot;</span><span class="p">,</span><span class="mf">50.0</span><span class="p">],</span>
<span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;Standard_Parallel_2&quot;</span><span class="p">,</span><span class="mf">58.5</span><span class="p">],</span>
<span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;Latitude_Of_Origin&quot;</span><span class="p">,</span><span class="mf">45.0</span><span class="p">],</span>
</pre></div>
</div>
<p>OGR:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROJECTION</span><span class="p">[</span><span class="s2">&quot;Albers&quot;</span><span class="p">],</span>
<span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;standard_parallel_1&quot;</span><span class="p">,</span><span class="mi">50</span><span class="p">],</span>
<span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;standard_parallel_2&quot;</span><span class="p">,</span><span class="mf">58.5</span><span class="p">],</span>
<span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;longitude_of_center&quot;</span><span class="p">,</span><span class="o">-</span><span class="mi">126</span><span class="p">],</span>
<span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;latitude_of_center&quot;</span><span class="p">,</span><span class="mi">45</span><span class="p">],</span>
<span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;false_easting&quot;</span><span class="p">,</span><span class="mi">1000000</span><span class="p">],</span>
<span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;false_northing&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
</pre></div>
</div>
</div>
<div class="section" id="datum-names">
<h2>Datum Names<a class="headerlink" href="#datum-names" title="Permalink to this headline">¶</a></h2>
<p>In Simple Features style WKT, the name associated with a datum is the
only way to identify the datum. In CT WKT the datum can also have a
TOWGS84 parameter indicating its relationship to WGS84, and an AUTHORITY
parameter relating it to EPSG or some other authority space. However, in
SF WKT the name itself is the only key.</p>
<p>By convention OGR and Cadcorp have translated the datum names in a
particular way from the EPSG database in order to produce comparible
names. The rule is to convert all non alphanumeric characters to
underscores, then to strip any leading, trailing or repeating
underscores. This produces well behaved datum names like
“Nouvelle_Triangulation_Francaise”.</p>
<p>However, other vendors have done different things. ESRI seems to follow
a similar convention but prefixes all datum names with “D_” as well,
giving names like “D_WGS_1972”. Also they have lots of other differences
for reasons that are not clear. For instance for what Cadcorp and OGR
call “Nouvelle_Triangulation_Francaise”, they call it “D_NTF”. Oracle
appears to use the raw names without cleanup. So for NTF they use “NTF
(Paris meridian)”.</p>
<p>The short result of this is that it is almost impossible to recognise
and compare datums between different Simple Features implementations,
though I have had some success in translating ESRI datum names to match
Cadcorp/OGR conventions, with some special casing.</p>
</div>
<div class="section" id="parameter-ordering">
<h2>Parameter Ordering<a class="headerlink" href="#parameter-ordering" title="Permalink to this headline">¶</a></h2>
<p>It is worthwhile keeping in mind that the BNF grammars for WKT in the SF
specs, and the CT spec imply specific orders for most items. For
instance the BNF for the PROJCS item in the CT spec is</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">projected</span> <span class="n">cs</span><span class="o">&gt;</span> <span class="o">=</span>
  <span class="n">PROJCS</span><span class="p">[</span><span class="s2">&quot;&lt;name&gt;&quot;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">geographic</span> <span class="n">cs</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">projection</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">parameter</span><span class="o">&gt;</span><span class="p">,}</span><span class="o">*</span> <span class="o">&lt;</span><span class="n">linear</span> <span class="n">unit</span><span class="o">&gt;</span> <span class="p">{,</span><span class="o">&lt;</span><span class="n">twin</span> <span class="n">axes</span><span class="o">&gt;</span><span class="p">}{,</span><span class="o">&lt;</span><span class="n">authority</span><span class="o">&gt;</span><span class="p">}]</span>
</pre></div>
</div>
<p>This clearly states that the PROJECTION keyword follows the GEOGCS,
followed by the UNIT, AXIS and AUTHORITY items. Providing them out of
order is technially a violation of the spec. On the other hand, WKT
consumers are encouraged to be flexible on ordering.</p>
</div>
<div class="section" id="units-of-parameters">
<h2>Units of PARAMETERs<a class="headerlink" href="#units-of-parameters" title="Permalink to this headline">¶</a></h2>
<p>The linear PARAMETER values in a PROJCS must be in terms of the linear
units for that PROJCS. I think the only linear units are the false
easting and northing type values. Thus, in common cases like a state
plane zone in feet, the false easting and northing will also be in feet.</p>
<p>The angular PARAMETER values in a PROJCS must be in terms of the angular
units of the GEOGCS. If the GEOGCS is in gradians, for instance, then
all the projection angles must also be in gradians!</p>
</div>
<div class="section" id="units-of-primem">
<h2>Units of PRIMEM<a class="headerlink" href="#units-of-primem" title="Permalink to this headline">¶</a></h2>
<p>What units should the prime meridian appear in?</p>
<ul>
<li><p>The CT 1.0 specification (7.3.14 PRIMEM) says <em>“The units of the must
be inferred from the context. If the PRIMEM clause occurs inside a
GEOGCS, then the longitude units will match those of the geographic
coordinate system.”</em> Note: for a geocentric coordinate system, it
says <em>“If the PRIMEM clause occurs inside a GEOCCS, then the units
will be in degrees”</em>.</p></li>
<li><p>The SF-SQL spec (99-049) does not attempt to address the issue of
units of the prime meridian.</p></li>
<li><p>Existing ESRI EPSG translation to WKT uses degrees for prime
meridian, even when the GEOGCS is in gradians as shown in their
translation of EPSG 4807:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GEOGCS</span><span class="p">[</span><span class="s2">&quot;GCS_NTF_Paris&quot;</span><span class="p">,</span>
  <span class="n">DATUM</span><span class="p">[</span><span class="s2">&quot;D_NTF&quot;</span><span class="p">,</span>
    <span class="n">SPHEROID</span><span class="p">[</span><span class="s2">&quot;Clarke_1880_IGN&quot;</span><span class="p">,</span><span class="mf">6378249.2</span><span class="p">,</span><span class="mf">293.46602</span><span class="p">]],</span>
  <span class="n">PRIMEM</span><span class="p">[</span><span class="s2">&quot;Paris&quot;</span><span class="p">,</span><span class="mf">2.337229166666667</span><span class="p">],</span>
  <span class="n">UNIT</span><span class="p">[</span><span class="s2">&quot;Grad&quot;</span><span class="p">,</span><span class="mf">0.015707963267948967</span><span class="p">]]</span>
</pre></div>
</div>
</li>
<li><p>OGR implements the same interpretation as ESRI for its
OGRSpatialReference class: the PRIMEM longitude is always in degrees.
See <a class="reference external" href="https://trac.osgeo.org/gdal/ticket/4524">GDAL Ticket #4524</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GEOGCS</span><span class="p">[</span><span class="s2">&quot;NTF (Paris)&quot;</span><span class="p">,</span>
    <span class="n">DATUM</span><span class="p">[</span><span class="s2">&quot;Nouvelle_Triangulation_Francaise_Paris&quot;</span><span class="p">,</span>
        <span class="n">SPHEROID</span><span class="p">[</span><span class="s2">&quot;Clarke 1880 (IGN)&quot;</span><span class="p">,</span><span class="mf">6378249.2</span><span class="p">,</span><span class="mf">293.4660212936269</span><span class="p">,</span>
            <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;7011&quot;</span><span class="p">]],</span>
        <span class="n">TOWGS84</span><span class="p">[</span><span class="o">-</span><span class="mi">168</span><span class="p">,</span><span class="o">-</span><span class="mi">60</span><span class="p">,</span><span class="mi">320</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
        <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;6807&quot;</span><span class="p">]],</span>
    <span class="n">PRIMEM</span><span class="p">[</span><span class="s2">&quot;Paris&quot;</span><span class="p">,</span><span class="mf">2.33722917</span><span class="p">,</span>
        <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;8903&quot;</span><span class="p">]],</span>
    <span class="n">UNIT</span><span class="p">[</span><span class="s2">&quot;grad&quot;</span><span class="p">,</span><span class="mf">0.01570796326794897</span><span class="p">,</span>
        <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;9105&quot;</span><span class="p">]],</span>
    <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;4807&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</li>
<li><p>Cadcorp implements according to the CT 1.0 specification as shown in
their translation of EPSG 4807:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GEOGCS</span><span class="p">[</span><span class="s2">&quot;NTF (Paris)&quot;</span><span class="p">,</span>
  <span class="n">DATUM</span><span class="p">[</span><span class="s2">&quot;Nouvelle_Triangulation_Francaise&quot;</span><span class="p">,</span>
    <span class="n">SPHEROID</span><span class="p">[</span><span class="s2">&quot;Clarke 1880 (IGN)&quot;</span><span class="p">,</span><span class="mf">6378249.2</span><span class="p">,</span><span class="mf">293.466021293627</span><span class="p">,</span>
      <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="mi">7011</span><span class="p">]],</span>
    <span class="n">TOWGS84</span><span class="p">[</span><span class="o">-</span><span class="mi">168</span><span class="p">,</span><span class="o">-</span><span class="mi">60</span><span class="p">,</span><span class="mi">320</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
    <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="mi">6275</span><span class="p">]],</span>
  <span class="n">PRIMEM</span><span class="p">[</span><span class="s2">&quot;Paris&quot;</span><span class="p">,</span><span class="mf">2.5969213</span><span class="p">,</span>
    <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="mi">8903</span><span class="p">]],</span>
  <span class="n">UNIT</span><span class="p">[</span><span class="s2">&quot;grad&quot;</span><span class="p">,</span><span class="mf">0.015707963267949</span><span class="p">,</span>
    <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="mi">9105</span><span class="p">]],</span>
  <span class="n">AXIS</span><span class="p">[</span><span class="s2">&quot;Lat&quot;</span><span class="p">,</span><span class="n">NORTH</span><span class="p">],</span>
  <span class="n">AXIS</span><span class="p">[</span><span class="s2">&quot;Long&quot;</span><span class="p">,</span><span class="n">EAST</span><span class="p">],</span>
  <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="mi">4807</span><span class="p">]]</span>
</pre></div>
</div>
</li>
<li><p>Oracle Spatial 8.1.7 uses the following definition for what I assume
is supposed to be EPSG 4807. Interestingly it does not bother with
using gradians, and it appears that the prime meridian is expressed
in radians with very low precision!</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GEOGCS</span> <span class="p">[</span> <span class="s2">&quot;Longitude / Latitude (NTF with Paris prime meridian)&quot;</span><span class="p">,</span>
  <span class="n">DATUM</span> <span class="p">[</span><span class="s2">&quot;NTF (Paris meridian)&quot;</span><span class="p">,</span>
    <span class="n">SPHEROID</span> <span class="p">[</span><span class="s2">&quot;Clarke 1880 (IGN)&quot;</span><span class="p">,</span> <span class="mf">6378249.200000</span><span class="p">,</span> <span class="mf">293.466021</span><span class="p">]],</span>
  <span class="n">PRIMEM</span> <span class="p">[</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mf">0.000649</span> <span class="p">],</span>
  <span class="n">UNIT</span> <span class="p">[</span><span class="s2">&quot;Decimal Degree&quot;</span><span class="p">,</span> <span class="mf">0.01745329251994330</span><span class="p">]]</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="sign-of-towgs84-rotations">
<h2>Sign of TOWGS84 Rotations<a class="headerlink" href="#sign-of-towgs84-rotations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="discussion">
<h3>Discussion<a class="headerlink" href="#discussion" title="Permalink to this headline">¶</a></h3>
<p>In EPSG there are two methods of defining the 7 parameter bursa wolf
parameters, 9606 (position vector 7-parameter) and 9607 (coordinate
frame rotation). The only difference is that the sign of the rotation
coefficients is reversed between them.</p>
<p>I (Frank Warmerdam) had somehow convinced myself that the TOWGS84 values
in WKT were supposed to be done using the sense in 9606 (position vector
7-parameter) and that if I read a 9607 I would need to switch the
rotation signs before putting it into a TOWGS84 chunk in WKT.</p>
<p>However, I see in the WKT dump you (Martin from Cadcorp) sent me you are
using the 9607 sense. For instance, this item appears to use 9607 values
directly without switching the sign.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GEOGCS</span><span class="p">[</span><span class="s2">&quot;DHDN&quot;</span><span class="p">,</span>
   <span class="n">DATUM</span><span class="p">[</span><span class="s2">&quot;Deutsche_Hauptdreiecksnetz&quot;</span><span class="p">,</span>
     <span class="n">SPHEROID</span><span class="p">[</span><span class="s2">&quot;Bessel 1841&quot;</span><span class="p">,</span><span class="mf">6377397.155</span><span class="p">,</span><span class="mf">299.1528128</span><span class="p">,</span><span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;7004&quot;</span><span class="p">]],</span>
     <span class="n">TOWGS84</span><span class="p">[</span><span class="mi">582</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span><span class="mi">414</span><span class="p">,</span><span class="o">-</span><span class="mf">1.04</span><span class="p">,</span><span class="o">-</span><span class="mf">0.35</span><span class="p">,</span><span class="mf">3.08</span><span class="p">,</span><span class="mf">8.3</span><span class="p">],</span>
     <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;6314&quot;</span><span class="p">]],</span>
   <span class="n">PRIMEM</span><span class="p">[</span><span class="s2">&quot;Greenwich&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;8901&quot;</span><span class="p">]],</span>
   <span class="n">UNIT</span><span class="p">[</span><span class="s2">&quot;DMSH&quot;</span><span class="p">,</span><span class="mf">0.0174532925199433</span><span class="p">,</span><span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;9108&quot;</span><span class="p">]],</span>
   <span class="n">AXIS</span><span class="p">[</span><span class="s2">&quot;Lat&quot;</span><span class="p">,</span><span class="n">NORTH</span><span class="p">],</span><span class="n">AXIS</span><span class="p">[</span><span class="s2">&quot;Long&quot;</span><span class="p">,</span><span class="n">EAST</span><span class="p">],</span><span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;4314&quot;</span><span class="p">]]</span>
</pre></div>
</div>
<p>I read over the TOWGS84[] clause in the 1.0 CT spec, and it just talks
about them being the Bursa Wolf transformation parameters (on page 22,
7.3.18). I also scanned through to 12.3.15.2 and 12.3.27 and they are
nonspecific as to the handedness of the TOWGS84 rotations.</p>
<p>I am seeking a clarification of whether TOWGS84 matches EPSG 9606 or
EPSG 9607. Furthermore, I would like to see any future rev of the spec
clarify this, referencing the EPSG method definitions.</p>
<p>Martin wrote back that he was uncertain on the correct signage and that
the Adam had programmed the Cadcorp implementation imperically,
according to what seemed to work for the test data available.</p>
<p>I am prepared to adhere to the Cadorp sign usage (as per EPSG 9607) if
this can be clarified in the specification.</p>
</div>
<div class="section" id="current-state-of-ogr-implementation">
<h3>Current state of OGR implementation<a class="headerlink" href="#current-state-of-ogr-implementation" title="Permalink to this headline">¶</a></h3>
<p>OGR imports from/exports to WKT assumes EPSG 9606 convention (position
vector 7-parameter), as <a class="reference external" href="http://proj4.org/parameters.html#towgs84-datum-transformation-to-wgs84">proj.4
does</a>.</p>
<p>When importing from EPSG parameters expressed with EPSG 9607, it does
the appropriate conversion (negating the sign of the rotation terms).</p>
</div>
</div>
<div class="section" id="longitudes-relative-to-primem">
<h2>Longitudes Relative to PRIMEM?<a class="headerlink" href="#longitudes-relative-to-primem" title="Permalink to this headline">¶</a></h2>
<p>Another related question is whether longtiudinal projection parameters
(ie. central meridian) are relative to the GEOGCS prime meridian or
relative to greenwich. While the simplest approach is to treat all
longitudes as relative to Greenwich, I somehow convinced myself at one
point that the longitudes were intended to be relative to the prime
meridian. However, a review of 7.3.11 (describing PARAMETER) in the CT
1.0 spec provides no support for this opinion, and an inspection of EPSG
25700 in Cadcorp also suggests that the central meridian is relative to
greenwich, not the prime meridian.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROJCS</span><span class="p">[</span><span class="s2">&quot;Makassar (Jakarta) / NEIEZ&quot;</span><span class="p">,</span>
    <span class="n">GEOGCS</span><span class="p">[</span><span class="s2">&quot;Makassar (Jakarta)&quot;</span><span class="p">,</span>
        <span class="n">DATUM</span><span class="p">[</span><span class="s2">&quot;Makassar&quot;</span><span class="p">,</span>
            <span class="n">SPHEROID</span><span class="p">[</span><span class="s2">&quot;Bessel 1841&quot;</span><span class="p">,</span><span class="mf">6377397.155</span><span class="p">,</span><span class="mf">299.1528128</span><span class="p">,</span>
                <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;7004&quot;</span><span class="p">]],</span>
            <span class="n">TOWGS84</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
            <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;6257&quot;</span><span class="p">]],</span>
        <span class="n">PRIMEM</span><span class="p">[</span><span class="s2">&quot;Jakarta&quot;</span><span class="p">,</span><span class="mf">106.807719444444</span><span class="p">,</span>
            <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;8908&quot;</span><span class="p">]],</span>
        <span class="n">UNIT</span><span class="p">[</span><span class="s2">&quot;DMSH&quot;</span><span class="p">,</span><span class="mf">0.0174532925199433</span><span class="p">,</span>
            <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;9108&quot;</span><span class="p">]],</span>
        <span class="n">AXIS</span><span class="p">[</span><span class="s2">&quot;Lat&quot;</span><span class="p">,</span><span class="s2">&quot;NORTH&quot;</span><span class="p">],</span>
        <span class="n">AXIS</span><span class="p">[</span><span class="s2">&quot;Long&quot;</span><span class="p">,</span><span class="s2">&quot;EAST&quot;</span><span class="p">],</span>
        <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;4804&quot;</span><span class="p">]],</span>
    <span class="n">PROJECTION</span><span class="p">[</span><span class="s2">&quot;Mercator_1SP&quot;</span><span class="p">,</span>
        <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;9804&quot;</span><span class="p">]],</span>
    <span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;latitude_of_origin&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
    <span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;central_meridian&quot;</span><span class="p">,</span><span class="mi">110</span><span class="p">],</span>
    <span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;scale_factor&quot;</span><span class="p">,</span><span class="mf">0.997</span><span class="p">],</span>
    <span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;false_easting&quot;</span><span class="p">,</span><span class="mi">3900000</span><span class="p">],</span>
    <span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;false_northing&quot;</span><span class="p">,</span><span class="mi">900000</span><span class="p">],</span>
    <span class="n">UNIT</span><span class="p">[</span><span class="s2">&quot;metre&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;9001&quot;</span><span class="p">]],</span>
    <span class="n">AXIS</span><span class="p">[</span><span class="s2">&quot;X&quot;</span><span class="p">,</span><span class="s2">&quot;EAST&quot;</span><span class="p">],</span>
    <span class="n">AXIS</span><span class="p">[</span><span class="s2">&quot;Y&quot;</span><span class="p">,</span><span class="s2">&quot;NORTH&quot;</span><span class="p">],</span>
    <span class="n">AUTHORITY</span><span class="p">[</span><span class="s2">&quot;EPSG&quot;</span><span class="p">,</span><span class="s2">&quot;25700&quot;</span><span class="p">]]</span>
</pre></div>
</div>
<p>Based on this, I am proceeding on the assumption that while parameters
are in the units of the GEOGCS they are not relative the GEOGCS prime
meridian.</p>
</div>
<div class="section" id="numerical-precision-in-wkt">
<h2>Numerical Precision in WKT<a class="headerlink" href="#numerical-precision-in-wkt" title="Permalink to this headline">¶</a></h2>
<p>The specification does not address the precision to which values in WKT
should be stored. Some implementations, such as Oracles apparently, use
rather limited precision for parameters such as Scale Factor making it
difficult to compare coordinate system descriptions or even to get
comparible numerical results.</p>
<p>The best practice is to preserve the original precision as specified in
the source database, such as EPSG where possible. Given that many
systems do not track precision, at least it is advisable to produce
values with the equivalent of the C “%.16g” format, maintaining 16
digits of precision, capturing most of the precision of a double
precision IEEE floating point value.</p>
</div>
<div class="section" id="other-notes">
<h2>Other Notes<a class="headerlink" href="#other-notes" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>ESRI seems to use Equidistant_Cylindrical for what I know as
Equirectangular.</p></li>
</ol>
<hr class="docutils" />
<p>History</p>
<ul class="simple">
<li><p>2018: Even Rouault: make it clear that OGR implements EPSG 9606
convention for TOWGS84.</p></li>
<li><p>2018: Even Rouault: remove mention about CT 1.0 specification (7.3.14
PRIMEM) having an error, and explicitly mentions that OGR uses
degrees for PRIMEM longitude.</p></li>
<li><p>2018: Even Rouault: add hyperlinks</p></li>
<li><p>2007 or before: Originally written by <a class="reference external" href="https://web.archive.org/web/20130728081442/http://pobox.com/~warmerdam">Frank
Warmerdam</a>.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../development/index.html" class="btn btn-neutral float-right" title="Development" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="osr_api_tut.html" class="btn btn-neutral float-left" title="OGR Coordinate Reference Systems and Coordinate Transformation tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2020 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>