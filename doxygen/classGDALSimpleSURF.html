<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GDAL: GDALSimpleSURF Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GDAL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classGDALSimpleSURF-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">GDALSimpleSURF Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class for searching corresponding points on images.  
 <a href="classGDALSimpleSURF.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="gdal__simplesurf_8h_source.html">gdal_simplesurf.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac76389892468bc582a0fac18ec132f0f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGDALSimpleSURF.html#ac76389892468bc582a0fac18ec132f0f">GDALSimpleSURF</a> (int nOctaveStart, int nOctaveEnd)</td></tr>
<tr class="memdesc:ac76389892468bc582a0fac18ec132f0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare class according to specified parameters.  <a href="#ac76389892468bc582a0fac18ec132f0f">More...</a><br /></td></tr>
<tr class="separator:ac76389892468bc582a0fac18ec132f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a613db6521d7cdd679db1da8c5c53cfaf"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classGDALFeaturePoint.html">GDALFeaturePoint</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGDALSimpleSURF.html#a613db6521d7cdd679db1da8c5c53cfaf">ExtractFeaturePoints</a> (<a class="el" href="classGDALIntegralImage.html">GDALIntegralImage</a> *poImg, double dfThreshold)</td></tr>
<tr class="memdesc:a613db6521d7cdd679db1da8c5c53cfaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find feature points using specified integral image.  <a href="#a613db6521d7cdd679db1da8c5c53cfaf">More...</a><br /></td></tr>
<tr class="separator:a613db6521d7cdd679db1da8c5c53cfaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad9c2f58697140b1971057877342ceea1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cpl__error_8h.html#a463ba7c7202a505416ff95b1aeefa2de">CPLErr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGDALSimpleSURF.html#ad9c2f58697140b1971057877342ceea1">ConvertRGBToLuminosity</a> (<a class="el" href="classGDALRasterBand.html">GDALRasterBand</a> *red, <a class="el" href="classGDALRasterBand.html">GDALRasterBand</a> *green, <a class="el" href="classGDALRasterBand.html">GDALRasterBand</a> *blue, int nXSize, int nYSize, double **padfImg, int nHeight, int nWidth)</td></tr>
<tr class="memdesc:ad9c2f58697140b1971057877342ceea1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert image with RGB channels to grayscale using "luminosity" method.  <a href="#ad9c2f58697140b1971057877342ceea1">More...</a><br /></td></tr>
<tr class="separator:ad9c2f58697140b1971057877342ceea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64d9c931e14cd62d7e81db3e059ef82e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cpl__error_8h.html#a463ba7c7202a505416ff95b1aeefa2de">CPLErr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGDALSimpleSURF.html#a64d9c931e14cd62d7e81db3e059ef82e">MatchFeaturePoints</a> (std::vector&lt; <a class="el" href="classGDALFeaturePoint.html">GDALFeaturePoint</a> *&gt; *poMatchPairs, std::vector&lt; <a class="el" href="classGDALFeaturePoint.html">GDALFeaturePoint</a> &gt; *poFirstCollect, std::vector&lt; <a class="el" href="classGDALFeaturePoint.html">GDALFeaturePoint</a> &gt; *poSecondCollect, double dfThreshold)</td></tr>
<tr class="memdesc:a64d9c931e14cd62d7e81db3e059ef82e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find corresponding points (equal points in two collections).  <a href="#a64d9c931e14cd62d7e81db3e059ef82e">More...</a><br /></td></tr>
<tr class="separator:a64d9c931e14cd62d7e81db3e059ef82e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for searching corresponding points on images. </p>
<dl class="section author"><dt>Author</dt><dd>Andrew Migal <a href="#" onclick="location.href='mai'+'lto:'+'mig'+'al'+'.dr'+'ew'+'@gm'+'ai'+'l.c'+'om'; return false;">migal<span style="display: none;">.nosp@m.</span>.dre<span style="display: none;">.nosp@m.</span>w@gma<span style="display: none;">.nosp@m.</span>il.c<span style="display: none;">.nosp@m.</span>om</a></dd></dl>
<p>Provides capability for detection feature points and finding equal points on different images. Class implements simplified version of SURF algorithm (Speeded Up Robust Features). As original, this realization is scale invariant, but sensitive to rotation. Images should have similar rotation angles (maximum difference is up to 10-15 degrees), otherwise algorithm produces incorrect and very unstable results. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac76389892468bc582a0fac18ec132f0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac76389892468bc582a0fac18ec132f0f">&#9670;&nbsp;</a></span>GDALSimpleSURF()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GDALSimpleSURF::GDALSimpleSURF </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nOctaveStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nOctaveEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare class according to specified parameters. </p>
<p>Octave numbers affects to amount of detected points and their robustness. Range between bottom and top octaves also affects to required time of detection points (if range is large, algorithm should perform more operations). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nOctaveStart</td><td>Number of bottom octave. Octave numbers starts with one </td></tr>
    <tr><td class="paramname">nOctaveEnd</td><td>Number of top octave. Should be equal or greater than OctaveStart</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Every octave finds points with specific size. For small images use small octave numbers, for high resolution - large. For 1024x1024 images it's normal to use any octave numbers from range 1-6. (for example, octave start - 1, octave end - 3, or octave start - 2, octave end - 2.) For larger images, try 1-10 range or even higher. Pay attention that number of detected point decreases quickly per octave for particular image. Algorithm finds more points in case of small octave numbers. If method detects nothing, reduce bottom bound of octave range.</dd></dl>
<p>NOTICE that every octave requires time to compute. Use a little range or only one octave if execution time is significant. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad9c2f58697140b1971057877342ceea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9c2f58697140b1971057877342ceea1">&#9670;&nbsp;</a></span>ConvertRGBToLuminosity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cpl__error_8h.html#a463ba7c7202a505416ff95b1aeefa2de">CPLErr</a> GDALSimpleSURF::ConvertRGBToLuminosity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGDALRasterBand.html">GDALRasterBand</a> *&#160;</td>
          <td class="paramname"><em>red</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classGDALRasterBand.html">GDALRasterBand</a> *&#160;</td>
          <td class="paramname"><em>green</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classGDALRasterBand.html">GDALRasterBand</a> *&#160;</td>
          <td class="paramname"><em>blue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nXSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nYSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double **&#160;</td>
          <td class="paramname"><em>padfImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nWidth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert image with RGB channels to grayscale using "luminosity" method. </p>
<p>Result is used in SURF-based algorithm, but may be used anywhere where grayscale images with nice contrast are required.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">red</td><td>Image's red channel </td></tr>
    <tr><td class="paramname">green</td><td>Image's green channel </td></tr>
    <tr><td class="paramname">blue</td><td>Image's blue channel </td></tr>
    <tr><td class="paramname">nXSize</td><td>Width of initial image </td></tr>
    <tr><td class="paramname">nYSize</td><td>Height of initial image </td></tr>
    <tr><td class="paramname">padfImg</td><td>Array for resulting grayscale image </td></tr>
    <tr><td class="paramname">nHeight</td><td>Height of resulting image </td></tr>
    <tr><td class="paramname">nWidth</td><td>Width of resulting image</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CE_None or CE_Failure if error occurs. </dd></dl>

</div>
</div>
<a id="a613db6521d7cdd679db1da8c5c53cfaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a613db6521d7cdd679db1da8c5c53cfaf">&#9670;&nbsp;</a></span>ExtractFeaturePoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classGDALFeaturePoint.html">GDALFeaturePoint</a> &gt; * GDALSimpleSURF::ExtractFeaturePoints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGDALIntegralImage.html">GDALIntegralImage</a> *&#160;</td>
          <td class="paramname"><em>poImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dfThreshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find feature points using specified integral image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">poImg</td><td>Integral image to be used </td></tr>
    <tr><td class="paramname">dfThreshold</td><td>Threshold for feature point recognition. Detected feature point will have Hessian value greater than this provided threshold.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Typical threshold's value is 0,001. But this value can be various in each case and depends on image's nature. For example, value can be 0.002 or 0.005. Fill free to experiment with it. If threshold is high, than number of detected feature points is small, and vice versa. </dd></dl>

</div>
</div>
<a id="a64d9c931e14cd62d7e81db3e059ef82e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64d9c931e14cd62d7e81db3e059ef82e">&#9670;&nbsp;</a></span>MatchFeaturePoints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cpl__error_8h.html#a463ba7c7202a505416ff95b1aeefa2de">CPLErr</a> GDALSimpleSURF::MatchFeaturePoints </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classGDALFeaturePoint.html">GDALFeaturePoint</a> *&gt; *&#160;</td>
          <td class="paramname"><em>poMatchPairs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classGDALFeaturePoint.html">GDALFeaturePoint</a> &gt; *&#160;</td>
          <td class="paramname"><em>poFirstCollect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classGDALFeaturePoint.html">GDALFeaturePoint</a> &gt; *&#160;</td>
          <td class="paramname"><em>poSecondCollect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dfThreshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find corresponding points (equal points in two collections). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">poMatchPairs</td><td>Resulting collection for matched points </td></tr>
    <tr><td class="paramname">poFirstCollect</td><td>Points on the first image </td></tr>
    <tr><td class="paramname">poSecondCollect</td><td>Points on the second image </td></tr>
    <tr><td class="paramname">dfThreshold</td><td>Value from 0 to 1. Threshold affects to number of matched points. If threshold is lower, amount of corresponding points is larger, and vice versa</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CE_None or CE_Failure if error occurs.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">poMatchPairs</td><td>Resulting collection for matched points </td></tr>
    <tr><td class="paramname">poFirstCollect</td><td>Points on the first image </td></tr>
    <tr><td class="paramname">poSecondCollect</td><td>Points on the second image </td></tr>
    <tr><td class="paramname">dfThreshold</td><td>Value from 0 to 1. Threshold affects to number of matched points. If threshold is higher, amount of corresponding points is larger, and vice versa</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Typical threshold's value is 0,1. BUT it's a very approximate guide. It can be 0,001 or even 1. This threshold provides direct adjustment of point matching. NOTICE that if threshold is lower, matches are more robust and correct, but number of matched points is smaller. Therefore if algorithm performs many false detections and produces bad results, reduce threshold. Otherwise, if algorithm finds nothing, increase threshold.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>CE_None or CE_Failure if error occurs. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="gdal__simplesurf_8h_source.html">gdal_simplesurf.h</a></li>
<li>gdal_simplesurf.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
