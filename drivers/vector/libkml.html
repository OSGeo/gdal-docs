

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>LIBKML Driver (.kml .kmz) &mdash; GDAL  documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://gdal.orgdrivers/vector/libkml.html"/>
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/gdal.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Access MDB databases" href="mdb.html" />
    <link rel="prev" title="KML - Keyhole Markup Language" href="kml.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/gdalicon.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programs/index.html">Programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raster/index.html">Raster drivers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Vector drivers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="aeronavfaa.html">Aeronav FAA</a></li>
<li class="toctree-l2"><a class="reference internal" href="amigocloud.html">AmigoCloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="ao.html">ESRI ArcObjects</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgen.html">ARCGEN - Arc/Info Generate</a></li>
<li class="toctree-l2"><a class="reference internal" href="avcbin.html">Arc/Info Binary Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="avce00.html">Arc/Info E00 (ASCII) Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="bna.html">BNA - Atlas BNA</a></li>
<li class="toctree-l2"><a class="reference internal" href="cad.html">CAD – AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="carto.html">Carto</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloudant.html">Cloudant – Cloudant</a></li>
<li class="toctree-l2"><a class="reference internal" href="couchdb.html">CouchDB - CouchDB/GeoCouch</a></li>
<li class="toctree-l2"><a class="reference internal" href="csv.html">Comma Separated Value (.csv)</a></li>
<li class="toctree-l2"><a class="reference internal" href="csw.html">CSW - OGC CSW (Catalog Service for the Web)</a></li>
<li class="toctree-l2"><a class="reference internal" href="db2.html">DB2 Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgn.html">Microstation DGN</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgnv8.html">Microstation DGN v8</a></li>
<li class="toctree-l2"><a class="reference internal" href="dods.html">DODS/OPeNDAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="dwg.html">AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="dxf.html">AutoCAD DXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="eeda.html">Google Earth Engine Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="edigeo.html">EDIGEO</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticsearch.html">ElasticSearch: Geographically Encoded Objects for ElasticSearch</a></li>
<li class="toctree-l2"><a class="reference internal" href="esrijson.html">ESRIJSON / FeatureService driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="filegdb.html">ESRI File Geodatabase (FileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="flatgeobuf.html">FlatGeobuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="fme.html">FMEObjects Gateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="geoconcept.html">GeoConcept text export</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojson.html">GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojsonseq.html">GeoJSONSeq: sequence of GeoJSON features</a></li>
<li class="toctree-l2"><a class="reference internal" href="geomedia.html">Geomedia MDB database</a></li>
<li class="toctree-l2"><a class="reference internal" href="georss.html">GeoRSS : Geographically Encoded Objects for RSS feeds</a></li>
<li class="toctree-l2"><a class="reference internal" href="gft.html">GFT - Google Fusion Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="gmlas.html">GMLAS - Geography Markup Language (GML) driven by application schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="gml.html">GML - Geography Markup Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="gmt.html">GMT ASCII Vectors (.gmt)</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpkg.html">GPKG – GeoPackage vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpsbabel.html">GPSBabel</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpx.html">GPX - GPS Exchange Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="grass.html">GRASS Vector Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="gtm.html">GTM - GPS TrackMaker</a></li>
<li class="toctree-l2"><a class="reference internal" href="htf.html">HTF - Hydrographic Transfer Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="idb.html">IDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="idrisi.html">Idrisi Vector (.VCT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ili.html">“INTERLIS 1” and “INTERLIS 2” drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="ingres.html">INGRES</a></li>
<li class="toctree-l2"><a class="reference internal" href="jml.html">JML: OpenJUMP JML format</a></li>
<li class="toctree-l2"><a class="reference internal" href="kml.html">KML - Keyhole Markup Language</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">LIBKML Driver (.kml .kmz)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#driver-capabilities">Driver capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="#datasource">Datasource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#styletable">StyleTable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#datasource-creation-options">Datasource creation options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#layer">Layer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#style">Style</a></li>
<li class="toctree-l4"><a class="reference internal" href="#schema">Schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="#layer-creation-options">Layer creation options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#feature">Feature</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#style-1">Style</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#fields">Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#geometry">Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vsi-virtual-file-system-api-support">VSI Virtual File System API support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mdb.html">Access MDB databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">Memory</a></li>
<li class="toctree-l2"><a class="reference internal" href="mitab.html">MapInfo TAB and MIF/MID</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodb.html">MongoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodbv3.html">MongoDBv3</a></li>
<li class="toctree-l2"><a class="reference internal" href="mssqlspatial.html">MSSQLSpatial - Microsoft SQL Server Spatial Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="mvt.html">MVT: Mapbox Vector Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="nas.html">NAS - ALKIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="netcdf.html">NetCDF: Network Common Data Form - Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="ngw.html">NGW – NextGIS Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntf.html">UK .NTF</a></li>
<li class="toctree-l2"><a class="reference internal" href="oapif.html">OGC API - Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="oci.html">Oracle Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="odbc.html">ODBC RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="ods.html">ODS - Open Document Spreadsheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="ogdi.html">OGDI Vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="openair.html">OpenAir - OpenAir Special Use Airspace Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="openfilegdb.html">ESRI File Geodatabase (OpenFileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="osm.html">OSM - OpenStreetMap XML and PBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="pds.html">PDS - Planetary Data Systems TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgdump.html">PostgreSQL SQL Dump</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgeo.html">ESRI Personal GeoDatabase</a></li>
<li class="toctree-l2"><a class="reference internal" href="pg.html">PostgreSQL / PostGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="plscenes.html">PLScenes (Planet Labs Scenes/Catalog API)</a></li>
<li class="toctree-l2"><a class="reference internal" href="s57.html">IHO S-57 (ENC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="sde.html">ESRI ArcSDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="sdts.html">SDTS</a></li>
<li class="toctree-l2"><a class="reference internal" href="segukooa.html">SEG-P1 / UKOOA P1/90</a></li>
<li class="toctree-l2"><a class="reference internal" href="segy.html">SEG-Y / SEGY</a></li>
<li class="toctree-l2"><a class="reference internal" href="selafin.html">Selafin files</a></li>
<li class="toctree-l2"><a class="reference internal" href="shapefile.html">ESRI Shapefile / DBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="sosi.html">Norwegian SOSI Standard</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlite.html">SQLite / Spatialite RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="sua.html">SUA - Tim Newport-Peace’s Special Use Airspace Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="svg.html">SVG - Scalable Vector Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="sxf.html">Storage and eXchange Format - SXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="tiger.html">U.S. Census TIGER/Line</a></li>
<li class="toctree-l2"><a class="reference internal" href="topojson.html">TopoJSON driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="vdv.html">VDV - VDV-451/VDV-452/INTREST Data Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="vfk.html">VFK - Czech Cadastral Exchange Data Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="vrt.html">VRT – Virtual Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="walk.html">Walk - Walk Spatial Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="wasp.html">WAsP - WAsP .map format</a></li>
<li class="toctree-l2"><a class="reference internal" href="wfs.html">WFS - OGC WFS service</a></li>
<li class="toctree-l2"><a class="reference internal" href="xls.html">XLS - MS Excel format</a></li>
<li class="toctree-l2"><a class="reference internal" href="xlsx.html">XLSX - MS Office Open XML spreadsheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="xplane.html">X-Plane/Flightgear aeronautical data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">How to contribute?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GDAL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html"> GDAL  documentation </a> &raquo;</li>
      
          <li><a href="index.html">Vector drivers</a> &raquo;</li>
      
      <li>LIBKML Driver (.kml .kmz)</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/blob//master/gdal/doc/source/drivers/vector/libkml.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="mdb.html" class="btn btn-neutral float-right" title="Access MDB databases" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="kml.html" class="btn btn-neutral float-left" title="KML - Keyhole Markup Language" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="libkml-driver-kml-kmz">
<span id="vector-libkml"></span><h1>LIBKML Driver (.kml .kmz)<a class="headerlink" href="#libkml-driver-kml-kmz" title="Permalink to this headline">¶</a></h1>
<div class="admonition supports_create" id="shortname-0">
<p class="admonition-title">Driver short name</p>
<p>LIBKML</p>
</div>
<p>The LIBKML driver is a client of
<a class="reference external" href="https://github.com/google/libkml">Libkml</a> from Google, a reference
implementation of <a class="reference external" href="http://www.opengeospatial.org/standards/kml/">KML</a>
reading and writing, in the form of a cross platform C++ library. You
must build and install Libkml in order to use this OGR driver. Note: you
need to build libkml from its latest SVN version (libkml 1.2 isn’t
enough).</p>
<p>Note that if you build and include this LIBKML driver, it will become
the default reader of KML for ogr, overriding the previous <a class="reference internal" href="kml.html#vector-kml"><span class="std std-ref">KML
driver</span></a>. You can still specify either KML or LIBKML as
the output driver via the command line</p>
<p>Libkml from Google provides reading services for any valid KML file.
However, please be advised that some KML facilities do not map into the
Simple Features specification OGR uses as its internal structure.
Therefore, a best effort will be made by the driver to understand the
content of a KML file read by libkml into ogr, but your mileage may
vary. Please try a few KML files as samples to get a sense of what is
understood. In particular, nesting of feature sets more than one deep
will be flattened to support ogr’s internal format.</p>
<div class="section" id="driver-capabilities">
<h2>Driver capabilities<a class="headerlink" href="#driver-capabilities" title="Permalink to this headline">¶</a></h2>
<div class="admonition supports_create" id="supports_create-0">
<p class="admonition-title">Supports Create()</p>
<p>This driver supports the <a class="reference internal" href="../../api/gdaldriver_cpp.html#_CPPv4N10GDALDriver6CreateEPKciii12GDALDataTypePPc" title="GDALDriver::Create"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALDriver::Create()</span></code></a> operation</p>
</div>
<div class="admonition supports_georeferencing" id="supports_georeferencing-0">
<p class="admonition-title">Supports Georeferencing</p>
<p>This driver supports georeferencing</p>
</div>
<div class="admonition supports_virtualio" id="supports_virtualio-0">
<p class="admonition-title">Supports VirtualIO</p>
<p>This driver supports <a class="reference internal" href="../../user/virtual_file_systems.html#virtual-file-systems"><span class="std std-ref">virtual I/O operations (/vsimem/, etc.)</span></a></p>
</div>
</div>
<div class="section" id="datasource">
<h2>Datasource<a class="headerlink" href="#datasource" title="Permalink to this headline">¶</a></h2>
<p>You may specify a datasource
as a kml file <code class="docutils literal notranslate"><span class="pre">somefile.kml</span></code> , a directory <code class="docutils literal notranslate"><span class="pre">somedir/</span></code> , or a kmz
file <code class="docutils literal notranslate"><span class="pre">somefile.kmz</span></code> .</p>
<p>By default on directory and kmz datasources, an index file of all the
layers will be read from or written to doc.kml. It contains a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#networklink">&lt;NetworkLink&gt;</a>
to each layer file in the datasource. This feature can be turned off by
setting the environment variable LIBKML_USE_DOC.KML to “no”</p>
<div class="section" id="styletable">
<h3>StyleTable<a class="headerlink" href="#styletable" title="Permalink to this headline">¶</a></h3>
<p>Datasource style tables are written to the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#document">&lt;Document&gt;</a>
in a .kml, style/style.kml in a kmz file, or style.kml in a directory,
as one or more
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#style">&lt;Style&gt;</a>
elements. Not all of <a class="reference internal" href="../../user/ogr_feature_style.html#ogr-feature-style"><span class="std std-ref">Feature Style Specification</span></a> can translate into
KML.</p>
</div>
<div class="section" id="datasource-creation-options">
<h3>Datasource creation options<a class="headerlink" href="#datasource-creation-options" title="Permalink to this headline">¶</a></h3>
<p>Starting with OGR 1.11, the following datasource creation options can be
used to generate a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#atomauthor">&lt;atom:Author&gt;</a>
element at the top Document level.</p>
<ul class="simple">
<li><p><strong>AUTHOR_NAME</strong></p></li>
<li><p><strong>AUTHOR_URI</strong></p></li>
<li><p><strong>AUTHOR_EMAIL</strong></p></li>
</ul>
<p>The href of an
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#atomlink">&lt;atom:link&gt;</a>
element at the top Document level can be specified with the <strong>LINK</strong>
creation option.</p>
<p>The
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#phonenumber">&lt;phoneNumber&gt;</a>
element at the top Document level can be specified with the
<strong>PHONENUMBER</strong> creation option. The value must follow the syntax of
<a class="reference external" href="http://tools.ietf.org/html/rfc3966">IETF RFC 3966</a>.</p>
<p>Starting with GDAL 2.2, the DOCUMENT_ID datasource creation option can
be used to specified the id of the root &lt;Document&gt; node. The default
value is root_doc.</p>
<div class="section" id="container-properties">
<h4>Container properties<a class="headerlink" href="#container-properties" title="Permalink to this headline">¶</a></h4>
<p>The following dataset creation options can be used to set container
options :</p>
<ul class="simple">
<li><p><strong>NAME</strong>:
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#name">&lt;name&gt;</a>
element</p></li>
<li><p><strong>VISIBILITY</strong>:
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#visibility">&lt;visibility&gt;</a>
element</p></li>
<li><p><strong>OPEN</strong>:
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#open">&lt;open&gt;</a>
element</p></li>
<li><p><strong>SNIPPET</strong>:
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#snippet">&lt;snippet&gt;</a>
element</p></li>
<li><p><strong>DESCRIPTION</strong>:
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#description">&lt;description&gt;</a>
element</p></li>
</ul>
</div>
<div class="section" id="list-style">
<h4>List style<a class="headerlink" href="#list-style" title="Permalink to this headline">¶</a></h4>
<p>The following dataset creation options can be used to control how the
main folder (folder of layers) appear in the Places panel of the Earth
browser, trough a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#liststyle">&lt;ListStyle&gt;</a>
element:</p>
<ul class="simple">
<li><p><strong>LISTSTYLE_TYPE</strong>: can be one of “check”, “radioFolder”,
“checkOffOnly” or “checkHideChildren”. Sets the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#listItemType">&lt;listItemType&gt;</a>
element.</p></li>
<li><p><strong>LISTSTYLE_ICON_HREF</strong>: URL of the icon to display for the main
folder. Sets the href element of the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#itemicon">&lt;ItemIcon&gt;</a>
element.</p></li>
</ul>
</div>
<div class="section" id="balloon-style">
<h4>Balloon style<a class="headerlink" href="#balloon-style" title="Permalink to this headline">¶</a></h4>
<p>If a style <em>foo</em> is defined, it is possible to add a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#balloonstyle">&lt;BalloonStyle&gt;</a>
element to it, by specifying the <strong>foo_BALLOONSTYLE_BGCOLOR</strong> and/or
<strong>foo_BALLOONSTYLE_TEXT</strong> elements.</p>
</div>
<div class="section" id="networklinkcontrol">
<h4>NetworkLinkControl<a class="headerlink" href="#networklinkcontrol" title="Permalink to this headline">¶</a></h4>
<p>A
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#networklinkcontrol">&lt;NetworkLinkControl&gt;</a>
element can be defined if at least one of the following dataset creation
option is specified:</p>
<ul class="simple">
<li><p><strong>NLC_MINREFRESHPERIOD</strong> : to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#minrefreshperiod">&lt;minRefreshPeriod&gt;</a>
element</p></li>
<li><p><strong>NLC_MAXSESSIONLENGTH</strong> : to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#maxsessionlength">&lt;maxSessionLength&gt;</a>
element</p></li>
<li><p><strong>NLC_COOKIE</strong> : to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#cookie">&lt;cookie&gt;</a>
element</p></li>
<li><p><strong>NLC_MESSAGE</strong> : to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#message">&lt;message&gt;</a>
element</p></li>
<li><p><strong>NLC_LINKNAME</strong> : to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#linkname">&lt;linkName&gt;</a>
element</p></li>
<li><p><strong>NLC_LINKDESCRIPTION</strong> : to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#linkdescription">&lt;linkDescription&gt;</a>
element</p></li>
<li><p><strong>NLC_LINKSNIPPET</strong> : to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#linksnippet">&lt;linkSnippet&gt;</a>
element</p></li>
<li><p><strong>NLC_EXPIRES</strong> : to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#expires">&lt;expires&gt;</a>
element</p></li>
</ul>
</div>
<div class="section" id="update-documents">
<h4>Update documents<a class="headerlink" href="#update-documents" title="Permalink to this headline">¶</a></h4>
<p>When defining the dataset creation option <strong>UPDATE_TARGETHREF</strong>, a
NetworkLinkControl KML file with an
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#update">&lt;Update&gt;</a>
element will be generated. See the <a class="reference external" href="https://developers.google.com/kml/documentation/updates">tutorial about
update</a>.</p>
<p>The CreateFeature() operation on a layer will be translated as a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#create">&lt;Create&gt;</a>
element.</p>
<p>The SetFeature() operation on a layer will be translated as a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#change">&lt;Change&gt;</a>
element.</p>
<p>The DeleteFeature() operation on a layer will be translated as a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#delete">&lt;Delete&gt;</a>
element.</p>
</div>
</div>
</div>
<div class="section" id="layer">
<h2>Layer<a class="headerlink" href="#layer" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../api/ogrlayer_cpp.html#_CPPv48OGRLayer" title="OGRLayer"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">OGRLayer</span></code></a> are mapped
to kml files as a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#document">&lt;Document&gt;</a>
or
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#folder">&lt;Folder&gt;</a>,
and in kmz files or directories as a separate kml file.</p>
<div class="section" id="style">
<h3>Style<a class="headerlink" href="#style" title="Permalink to this headline">¶</a></h3>
<p>Layer style tables can not be read from or written to a kml layer that
is a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#folder">&lt;Folder&gt;</a>,
otherwise they are in the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#document">&lt;Document&gt;</a>
that is the layer.</p>
</div>
<div class="section" id="schema">
<h3>Schema<a class="headerlink" href="#schema" title="Permalink to this headline">¶</a></h3>
<p>Read and write of
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#schema">&lt;Schema&gt;</a>
is supported for .kml files, .kmz files, and directories.</p>
</div>
<div class="section" id="layer-creation-options">
<h3>Layer creation options<a class="headerlink" href="#layer-creation-options" title="Permalink to this headline">¶</a></h3>
<p>Starting with OGR 1.11, the following layer creation options can be used
to generate a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#lookat">&lt;LookAt&gt;</a>
element at the layer level.</p>
<ul class="simple">
<li><p><strong>LOOKAT_LONGITUDE</strong> (required)</p></li>
<li><p><strong>LOOKAT_LATITUDE</strong> (required)</p></li>
<li><p><strong>LOOKAT_RANGE</strong> (required)</p></li>
<li><p><strong>LOOKAT_HEADING</strong></p></li>
<li><p><strong>LOOKAT_TILT</strong></p></li>
<li><p><strong>LOOKAT_ALTITUDE</strong></p></li>
<li><p><strong>LOOKAT_ALTITUDEMODE</strong></p></li>
</ul>
<p>Alternatively, a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#camera">&lt;Camera&gt;</a>
element can be generated.</p>
<ul class="simple">
<li><p><strong>CAMERA_LONGITUDE</strong> (required)</p></li>
<li><p><strong>CAMERA_LATITUDE</strong> (required)</p></li>
<li><p><strong>CAMERA_ALTITUDE</strong> (required)</p></li>
<li><p><strong>CAMERA_ALTITUDEMODE</strong> (required)</p></li>
<li><p><strong>CAMERA_HEADING</strong></p></li>
<li><p><strong>CAMERA_TILT</strong></p></li>
<li><p><strong>CAMERA_ROLL</strong></p></li>
</ul>
<p>A
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#region">&lt;Region&gt;</a>
element can be generated to control when objects of the layer are
visible or not. If REGION_XMIN, REGION_YMIN, REGION_XMAX and
REGION_YMAX, the region coordinates are determined from the spatial
extent of the features being written in the layer.</p>
<ul class="simple">
<li><p><strong>ADD_REGION=YES/NO</strong> : defaults to NO</p></li>
<li><p><strong>REGION_XMIN</strong> (optional) : defines the west coordinate of the
region.</p></li>
<li><p><strong>REGION_YMIN</strong> (optional) : defines the south coordinate of the
region.</p></li>
<li><p><strong>REGION_XMAX</strong> (optional) : defines the east coordinate of the
region.</p></li>
<li><p><strong>REGION_YMAX</strong> (optional) : defines the north coordinate of the
region.</p></li>
<li><p><strong>REGION_MIN_LOD_PIXELS</strong> (optional) : minimum size in pixels of the
region so that it is displayed. Defaults to 256.</p></li>
<li><p><strong>REGION_MAX_LOD_PIXELS</strong> (optional) : maximum size in pixels of the
region so that it is displayed. Defaults to -1 (infinite).</p></li>
<li><p><strong>REGION_MIN_FADE_EXTENT</strong> (optional) : distance over which the
geometry fades, from fully opaque to fully transparent. Defaults to
0.</p></li>
<li><p><strong>REGION_MAX_FADE_EXTENT</strong> (optional) : distance over which the
geometry fades, from fully transparent to fully opaque. Defaults to
0.</p></li>
</ul>
<p>A
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#screenoverlay">&lt;ScreenOverlay&gt;</a>
element can be added to display a logo, a legend, etc…</p>
<ul class="simple">
<li><p><strong>SO_HREF</strong> (required) : URL of the image to display.</p></li>
<li><p><strong>SO_NAME</strong> (optional)</p></li>
<li><p><strong>SO_DESCRIPTION</strong> (optional)</p></li>
<li><p><strong>SO_OVERLAY_X</strong> (optional)</p></li>
<li><p><strong>SO_OVERLAY_Y</strong> (optional)</p></li>
<li><p><strong>SO_OVERLAY_XUNITS</strong> (optional)</p></li>
<li><p><strong>SO_OVERLAY_YUNITS</strong> (optional)</p></li>
<li><p><strong>SO_SCREEN_X</strong> (optional). Defaults to 0.05</p></li>
<li><p><strong>SO_SCREEN_Y</strong> (optional). Defaults to 0.05</p></li>
<li><p><strong>SO_SCREEN_XUNITS</strong> (optional). Defaults to Fraction</p></li>
<li><p><strong>SO_SCREEN_YUNITS</strong> (optional). Defaults to Fraction</p></li>
<li><p><strong>SO_SIZE_X</strong> (optional)</p></li>
<li><p><strong>SO_SIZE_Y</strong> (optional)</p></li>
<li><p><strong>SO_SIZE_XUNITS</strong> (optional)</p></li>
<li><p><strong>SO_SIZE_YUNITS</strong> (optional)</p></li>
</ul>
<p>By default, layers are written as
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#document">&lt;Document&gt;</a>
elements. By settings the <strong>FOLDER</strong> layer creation option to YES, it is
also possible to write them as
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#folder">&lt;Folder&gt;</a>
elements (only in .kml files).</p>
<p>The following layer creation options can be used to set container
options :</p>
<ul class="simple">
<li><p><strong>NAME</strong>:
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#name">&lt;name&gt;</a>
element</p></li>
<li><p><strong>VISIBILITY</strong>:
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#visibility">&lt;visibility&gt;</a>
element</p></li>
<li><p><strong>OPEN</strong>:
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#open">&lt;open&gt;</a>
element</p></li>
<li><p><strong>SNIPPET</strong>:
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#snippet">&lt;snippet&gt;</a>
element</p></li>
<li><p><strong>DESCRIPTION</strong>:
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#description">&lt;description&gt;</a>
element</p></li>
</ul>
<p>The following layer creation options can be used to control how the
folder of a layer appear in the Places panel of the Earth browser,
trough a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#liststyle">&lt;ListStyle&gt;</a>
element:</p>
<ul class="simple">
<li><p><strong>LISTSTYLE_TYPE</strong>: can be one of “check”, “radioFolder”,
“checkOffOnly” or “checkHideChildren”. Sets the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#listItemType">&lt;listItemType&gt;</a>
element.</p></li>
<li><p><strong>LISTSTYLE_ICON_HREF</strong>: URL of the icon to display for the layer
folder. Sets the href element of the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#itemicon">&lt;ItemIcon&gt;</a>
element.</p></li>
</ul>
</div>
</div>
<div class="section" id="feature">
<h2>Feature<a class="headerlink" href="#feature" title="Permalink to this headline">¶</a></h2>
<p>An <a class="reference internal" href="../../api/ogrfeature_cpp.html#_CPPv410OGRFeature" title="OGRFeature"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">OGRFeature</span></code></a>
generally translates to kml as a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#placemark">&lt;Placemark&gt;</a>,
and vice-versa.</p>
<p>If the model field is defined, a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#model">&lt;Model&gt;</a>
object within the Placemark will be generated.</p>
<p>If the networklink field is defined, a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#networklink">&lt;NetworkLink&gt;</a>
will be generated. Other networklink fields are optional.</p>
<p>If the photooverlay field is defined, a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>
will be generated (provided that the camera_longitude, camera_latitude,
camera_altitude, camera_altitudemode, head and/or tilt and/or roll,
leftfov, rightfov, bottomfov, topfov, near fields are also set. The
shape field is optional.</p>
<p>In case the PhotoOverlay is a big image, it is highly recommended to
tile it and generate overview levels, as explained in the <a class="reference external" href="https://developers.google.com/kml/documentation/photos">PhotoOverlay
tutorial</a>. In
which case, the URL should contain the “$[level]”, “$[x]” and “$[y]”
sub-strings in the photooverlay field, and the imagepyramid_tilesize,
imagepyramid_maxwidth, imagepyramid_maxheight and
imagepyramid_gridorigin fields should be set.</p>
<p>Placemark, Model, NetworkLink and PhotoOverlay objects can have an
associated camera if the camera_longitude, camera_latitude,
camera_altitude, camera_altitudemode, head and/or tilt and/or roll
fields are defined.</p>
<p>Starting with OGR 1.10, KML
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#groundoverlay">&lt;GroundOverlay&gt;</a>
elements are supported for reading (unless the
LIBKML_READ_GROUND_OVERLAY configuration option is set to FALSE). For
such elements, there are icon and drawOrder fields.</p>
<div class="section" id="style-1">
<span id="id1"></span><h3>Style<a class="headerlink" href="#style-1" title="Permalink to this headline">¶</a></h3>
<p>Style Strings at the feature level are Mapped to KML as either a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#style">&lt;Style&gt;</a>
or
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#styleurl">&lt;StyleUrl&gt;</a>
in each
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#placemark">&lt;Placemark&gt;</a>.</p>
<p>When reading a kml feature and the environment variable
LIBKML_RESOLVE_STYLE is set to yes, styleurls are looked up in the style
tables and the features style string is set to the style from the table.
This is to allow reading of shared styles by applications, like
mapserver, that do not read style tables.</p>
<p>When reading a kml feature and the environment variable
LIBKML_EXTERNAL_STYLE is set to yes, a styleurl that is external to the
datasource is read from disk or fetched from the server and parsed into
the datasource style table. If the style kml can not be read or
LIBKML_EXTERNAL_STYLE is set to no then the styleurl is copied to the
style string.</p>
<p>When reading a kml StyleMap the default mapping is set to normal. If you
wish to use the highlighted styles set the environment variable
LIBKML_STYLEMAP_KEY to “highlight”</p>
<p>When writing a kml, if there exist 2 styles of the form
“astylename_normal” and “astylename_highlight” (where astylename is any
string), then a StyleMap object will be creating from both styles and
called “astylename”.</p>
</div>
</div>
<div class="section" id="fields">
<h2>Fields<a class="headerlink" href="#fields" title="Permalink to this headline">¶</a></h2>
<p>OGR fields (feature attributes) are mapped to kml with
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#schema">&lt;Schema&gt;</a>;
and
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#simpledata">&lt;SimpleData&gt;</a>,
except for some special fields as noted below.</p>
<p>Note: it is also possible to export fields as
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#data">&lt;Data&gt;</a>
elements if the LIBKML_USE_SCHEMADATA configuration option is set to NO.</p>
<p>A rich set of environment variables are available to define how fields
in input and output, map to a KML
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#placemark">&lt;Placemark&gt;</a>.
For example, if you want a field called ‘Cities’ to map to the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#name">&lt;name&gt;</a>;
tag in KML, you can set an environment variable.</p>
<dl class="simple">
<dt>Name</dt><dd><p>This String field maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#name">&lt;name&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_NAME_FIELD .</p>
</dd>
<dt>description</dt><dd><p>This String field maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#description">&lt;description&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_DESCRIPTION_FIELD .</p>
</dd>
<dt>timestamp</dt><dd><p>This string or datetime or date and/or time field maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#timestamp">&lt;timestamp&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_TIMESTAMP_FIELD .</p>
</dd>
<dt>begin</dt><dd><p>This string or datetime or date and/or time field maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#begin">&lt;begin&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_BEGIN_FIELD .</p>
</dd>
<dt>end</dt><dd><p>This string or datetime or date and/or time field maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#end">&lt;end&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_END_FIELD .</p>
</dd>
<dt>altitudeMode</dt><dd><p>This string field maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#altitudemode">&lt;altitudeMode&gt;</a>
or
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#gxaltitudemode">&lt;gx:altitudeMode&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_ALTITUDEMODE_FIELD .</p>
</dd>
<dt>tessellate</dt><dd><p>This integer field maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#tessellate">&lt;tessellate&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_TESSELLATE_FIELD .</p>
</dd>
<dt>extrude</dt><dd><p>This integer field maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#extrude">&lt;extrude&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_EXTRUDE_FIELD .</p>
</dd>
<dt>visibility</dt><dd><p>This integer field maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#visibility">&lt;visibility&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_VISIBILITY_FIELD .</p>
</dd>
<dt>icon</dt><dd><p>This string field maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#icon">&lt;icon&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_ICON_FIELD .</p>
</dd>
<dt>drawOrder</dt><dd><p>This integer field maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#draworder">&lt;drawOrder&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_DRAWORDER_FIELD .</p>
</dd>
<dt>snippet</dt><dd><p>This integer field maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#snippet">&lt;snippet&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_SNIPPET_FIELD .</p>
</dd>
<dt>heading</dt><dd><p>This real field maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#heading">&lt;heading&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_HEADING_FIELD. When reading, this field is present
only if a Placemark has a Camera with a heading element.</p>
</dd>
<dt>tilt</dt><dd><p>This real field maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#tilt">&lt;tilt&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_TILT_FIELD. When reading, this field is present only
if a Placemark has a Camera with a tilt element.</p>
</dd>
<dt>roll</dt><dd><p>This real field maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#roll">&lt;roll&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_ROLL_FIELD. When reading, this field is present only
if a Placemark has a Camera with a roll element.</p>
</dd>
<dt>model</dt><dd><p>This string field can be used to define the URL of a 3D
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#model">&lt;model&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_MODEL_FIELD.</p>
</dd>
<dt>scale_x</dt><dd><p>This real field maps to the x element of the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#scale">&lt;scale&gt;</a>
for a 3D model. The name of the ogr field can be changed with the
environment variable LIBKML_SCALE_X_FIELD.</p>
</dd>
<dt>scale_y</dt><dd><p>This real field maps to the y element of the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#scale">&lt;scale&gt;</a>for
a 3D model. The name of the ogr field can be changed with the
environment variable LIBKML_SCALE_Y_FIELD.</p>
</dd>
<dt>scale_z</dt><dd><p>This real field maps to the z element of the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#scale">&lt;scale&gt;</a>for
a 3D model. The name of the ogr field can be changed with the
environment variable LIBKML_SCALE_Z_FIELD.</p>
</dd>
<dt>networklink</dt><dd><p>This string field maps to the href element of the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#href">&lt;href&gt;</a>
of a NetworkLink. The name of the ogr field can be changed with the
environment variable LIBKML_NETWORKLINK_FIELD.</p>
</dd>
<dt>networklink_refreshvisibility</dt><dd><p>This integer field maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#refreshvisibility">&lt;refreshVisibility&gt;</a>
of a NetworkLink. The name of the ogr field can be changed with the
environment variable LIBKML_NETWORKLINK_REFRESHVISIBILITY_FIELD.</p>
</dd>
<dt>networklink_flytoview</dt><dd><p>This integer field maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#flytoview">&lt;flyToView&gt;</a>
of a NetworkLink. The name of the ogr field can be changed with the
environment variable LIBKML_NETWORKLINK_FLYTOVIEW_FIELD.</p>
</dd>
<dt>networklink_refreshmode</dt><dd><p>This string field maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#refreshmode">&lt;refreshMode&gt;</a>
of a NetworkLink. The name of the ogr field can be changed with the
environment variable LIBKML_NETWORKLINK_REFRESHMODE_FIELD.</p>
</dd>
<dt>networklink_refreshinterval</dt><dd><p>This real field maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#refreshinterval">&lt;refreshInterval&gt;</a>
of a NetworkLink. The name of the ogr field can be changed with the
environment variable LIBKML_NETWORKLINK_REFRESHINTERVAL_FIELD.</p>
</dd>
<dt>networklink_viewrefreshmode</dt><dd><p>This string field maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#viewrefreshmode">&lt;viewRefreshMode&gt;</a>
of a NetworkLink. The name of the ogr field can be changed with the
environment variable LIBKML_NETWORKLINK_VIEWREFRESHMODE_FIELD.</p>
</dd>
<dt>networklink_viewrefreshtime</dt><dd><p>This real field maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#viewrefreshtime">&lt;viewRefreshTime&gt;</a>
of a NetworkLink. The name of the ogr field can be changed with the
environment variable LIBKML_NETWORKLINK_VIEWREFRESHTIME_FIELD.</p>
</dd>
<dt>networklink_viewboundscale</dt><dd><p>This real field maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#viewboundscale">&lt;viewBoundScale&gt;</a>
of a NetworkLink. The name of the ogr field can be changed with the
environment variable LIBKML_NETWORKLINK_VIEWBOUNDSCALE_FIELD.</p>
</dd>
<dt>networklink_viewformat</dt><dd><p>This string field maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#viewformat">&lt;viewFormat&gt;</a>
of a NetworkLink. The name of the ogr field can be changed with the
environment variable LIBKML_NETWORKLINK_VIEWFORMAT_FIELD.</p>
</dd>
<dt>networklink_httpquery</dt><dd><p>This string field maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#httpquery">&lt;httpQuery&gt;</a>
of a NetworkLink. The name of the ogr field can be changed with the
environment variable LIBKML_NETWORKLINK_HTTPQUERY_FIELD.</p>
</dd>
<dt>camera_longitude</dt><dd><p>This real field maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#longitude">&lt;longitude&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#camera">&lt;Camera&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_CACameraMERA_LONGITUDE_FIELD.</p>
</dd>
<dt>camera_latitude</dt><dd><p>This real field maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#latitude">&lt;latitude&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#camera">&lt;Camera&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_CAMERA_LATITUDE_FIELD.</p>
</dd>
<dt>camera_altitude</dt><dd><p>This real field maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#altitude">&lt;altitude&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#camera">&lt;Camera&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_CAMERA_ALTITUDE_FIELD.</p>
</dd>
<dt>camera_altitudemode</dt><dd><p>This real field maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#altitudemode">&lt;altitudeMode&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#camera">&lt;Camera&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_CAMERA_ALTITUDEMODE_FIELD.</p>
</dd>
<dt>photooverlay</dt><dd><p>This string field maps to the href element of the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#href">&lt;href&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_PHOTOOVERLAY_FIELD.</p>
</dd>
<dt>leftfov</dt><dd><p>This real field maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#leftfov">&lt;LeftFov&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_LEFTFOV_FIELD.</p>
</dd>
<dt>rightfov</dt><dd><p>This real field maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#rightfov">&lt;RightFov&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_RightFOV_FIELD.</p>
</dd>
<dt>bottomfov</dt><dd><p>This real field maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#bottomfov">&lt;BottomFov&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_BOTTOMTFOV_FIELD.</p>
</dd>
<dt>topfov</dt><dd><p>This real field maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#topfov">&lt;TopFov&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_TOPFOV_FIELD.</p>
</dd>
<dt>near</dt><dd><p>This real field maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#leftfov">&lt;Near&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_NEAR_FIELD.</p>
</dd>
<dt>shape</dt><dd><p>This string field maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#shape">&lt;shape&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_SHAPE_FIELD.</p>
</dd>
<dt>imagepyramid_tilesize</dt><dd><p>This integer field maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#tilesize">&lt;tileSize&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#imagepyramid">&lt;ImagePyramid&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_IMAGEPYRAMID_TILESIZE.</p>
</dd>
<dt>imagepyramid_maxwidth</dt><dd><p>This integer field maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#maxwidth">&lt;maxWidth&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#imagepyramid">&lt;ImagePyramid&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_IMAGEPYRAMID_MAXWIDTH.</p>
</dd>
<dt>imagepyramid_maxheight</dt><dd><p>This integer field maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#maxheight">&lt;maxHeight&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#imagepyramid">&lt;ImagePyramid&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_IMAGEPYRAMID_MAXHEIGHT.</p>
</dd>
<dt>imagepyramid_gridorigin</dt><dd><p>This string field maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#maxheight">&lt;gridOrigin&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#imagepyramid">&lt;ImagePyramid&gt;</a>.
The name of the ogr field can be changed with the environment
variable LIBKML_IMAGEPYRAMID_GRIDORIGIN.</p>
</dd>
<dt>OGR_STYLE</dt><dd><p>This string field maps to a features style string, OGR reads this
field if there is no style string set on the feature.</p>
</dd>
</dl>
</div>
<div class="section" id="geometry">
<h2>Geometry<a class="headerlink" href="#geometry" title="Permalink to this headline">¶</a></h2>
<p>Translation of <a class="reference internal" href="../../api/ogrgeometry_cpp.html#_CPPv411OGRGeometry" title="OGRGeometry"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">OGRGeometry</span></code></a> to
KML Geometry is pretty strait forwards with only a couple of exceptions.
Point to
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#point">&lt;Point&gt;</a>
(unless heading and/or tilt and/or roll field names are found, in which
case a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#camera">Camera</a>
object will be generated), LineString to
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#linestring">&lt;LineString&gt;</a>,
LinearRing to
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#linearring">&lt;LinearRing&gt;</a>,
and Polygon to
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#polygon">&lt;Polygon&gt;</a>.
In OGR a polygon contains an array of LinearRings, the first one being
the outer ring. KML has the tags
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#outerboundaryis">&lt;outerBoundaryIs&gt;</a> and
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#innerboundaryis">&lt;innerBoundaryIs&gt;</a> to
differentiate between the two. OGR has several Multi types of geometry :
GeometryCollection, MultiPolygon, MultiPoint, and MultiLineString. When
possible, OGR will try to map
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#multigeometry">&lt;MultiGeometry&gt;</a>
to the more precise OGR geometry type (MultiPoint, MultiLineString or
MultiPolygon), and default to GeometryCollection in case of mixed
content.</p>
<p>Sometimes kml geometry will span the dateline, In applications like qgis
or mapserver this will create horizontal lines all the way around the
globe. Setting the environment variable LIBKML_WRAPDATELINE to “yes”
will cause the libkml driver to split the geometry at the dateline when
read.</p>
</div>
<div class="section" id="vsi-virtual-file-system-api-support">
<h2>VSI Virtual File System API support<a class="headerlink" href="#vsi-virtual-file-system-api-support" title="Permalink to this headline">¶</a></h2>
<p>(Some features below might require OGR &gt;= 1.9.0)</p>
<p>The driver supports reading and writing to files managed by VSI Virtual
File System API, which include “regular” files, as well as files in the
/vsizip/ (read-write) , /vsigzip/ (read-write) , /vsicurl/ (read-only)
domains.</p>
<p>Writing to /dev/stdout or /vsistdout/ is also supported.</p>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>The following bash script will build a
<a class="reference internal" href="csv.html#vector-csv"><span class="std std-ref">csv</span></a> file and a
<a class="reference internal" href="vrt.html#vector-vrt"><span class="std std-ref">vrt</span></a> file, and then translate them
to KML using <a class="reference internal" href="../../programs/ogr2ogr.html#ogr2ogr"><span class="std std-ref">ogr2ogr</span></a> into a .kml
file with timestamps and styling.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#!/bin/bash
# Copyright (c) 2010, Brian Case
#
# Permission is hereby granted, free of charge, to any person obtaining a
# copy of this software and associated documentation files (the &quot;Software&quot;),
# to deal in the Software without restriction, including without limitation
# the rights to use, copy, modify, merge, publish, distribute, sublicense,
# and/or sell copies of the Software, and to permit persons to whom the
# Software is furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included
# in all copies or substantial portions of the Software.
#
# THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS
# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
# FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
# DEALINGS IN THE SOFTWARE.


icon=&quot;http://maps.google.com/mapfiles/kml/shapes/shaded_dot.png&quot;
rgba33=&quot;#FF9900&quot;
rgba70=&quot;#FFFF00&quot;
rgba150=&quot;#00FF00&quot;
rgba300=&quot;#0000FF&quot;
rgba500=&quot;#9900FF&quot;
rgba800=&quot;#FF0000&quot;

function docsv {

    IFS=&#39;,&#39;

    while read Date Time Lat Lon Mag Dep
    do
        ts=$(echo $Date | sed &#39;s:/:-:g&#39;)T${Time%%.*}Z
        rgba=&quot;&quot;

        if [[ $rgba == &quot;&quot; ]] &amp;&amp; [[ $Dep -lt 33 ]]
        then
            rgba=$rgba33
        fi

        if [[ $rgba == &quot;&quot; ]] &amp;&amp; [[ $Dep -lt 70 ]]
        then
            rgba=$rgba70
        fi

        if [[ $rgba == &quot;&quot; ]] &amp;&amp; [[ $Dep -lt 150 ]]
        then
            rgba=$rgba150
        fi

        if [[ $rgba == &quot;&quot; ]] &amp;&amp; [[ $Dep -lt 300 ]]
        then
            rgba=$rgba300
        fi

        if [[ $rgba == &quot;&quot; ]] &amp;&amp; [[ $Dep -lt 500 ]]
        then
            rgba=$rgba500
        fi

        if [[ $rgba == &quot;&quot; ]]
        then
            rgba=$rgba800
        fi



        style=&quot;\&quot;SYMBOL(s:$Mag,id:\&quot;\&quot;$icon\&quot;\&quot;,c:$rgba)\&quot;&quot;

        echo $Date,$Time,$Lat,$Lon,$Mag,$Dep,$ts,&quot;$style&quot;
    done

}


wget http://neic.usgs.gov/neis/gis/qed.asc -O /dev/stdout |\
 tail -n +2 &gt; qed.asc

echo Date,TimeUTC,Latitude,Longitude,Magnitude,Depth,timestamp,OGR_STYLE &gt; qed.csv

docsv &lt; qed.asc &gt;&gt; qed.csv

cat &gt; qed.vrt &lt;&lt; EOF
&lt;OGRVRTDataSource&gt;
    &lt;OGRVRTLayer name=&quot;qed&quot;&gt;
        &lt;SrcDataSource&gt;qed.csv&lt;/SrcDataSource&gt;
        &lt;GeometryType&gt;wkbPoint&lt;/GeometryType&gt;
        &lt;LayerSRS&gt;WGS84&lt;/LayerSRS&gt;
        &lt;GeometryField encoding=&quot;PointFromColumns&quot; x=&quot;Longitude&quot; y=&quot;Latitude&quot;/&gt;
    &lt;/OGRVRTLayer&gt;
&lt;/OGRVRTDataSource&gt;

EOF

ogr2ogr -f libkml qed.kml qed.vrt
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mdb.html" class="btn btn-neutral float-right" title="Access MDB databases" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="kml.html" class="btn btn-neutral float-left" title="KML - Keyhole Markup Language" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2019 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>