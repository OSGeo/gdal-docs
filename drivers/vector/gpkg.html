

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>GPKG – GeoPackage vector &mdash; GDAL  documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://gdal.orgdrivers/vector/gpkg.html"/>
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/gdal.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="GeoPackage aspatial extension" href="geopackage_aspatial.html" />
    <link rel="prev" title="GMT ASCII Vectors (.gmt)" href="gmt.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/gdalicon.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programs/index.html">Programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raster/index.html">Raster drivers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Vector drivers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="aeronavfaa.html">Aeronav FAA</a></li>
<li class="toctree-l2"><a class="reference internal" href="amigocloud.html">AmigoCloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="ao.html">ESRI ArcObjects</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgen.html">ARCGEN - Arc/Info Generate</a></li>
<li class="toctree-l2"><a class="reference internal" href="avcbin.html">Arc/Info Binary Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="avce00.html">Arc/Info E00 (ASCII) Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="bna.html">BNA - Atlas BNA</a></li>
<li class="toctree-l2"><a class="reference internal" href="cad.html">CAD – AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="carto.html">Carto</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloudant.html">Cloudant – Cloudant</a></li>
<li class="toctree-l2"><a class="reference internal" href="couchdb.html">CouchDB - CouchDB/GeoCouch</a></li>
<li class="toctree-l2"><a class="reference internal" href="csv.html">Comma Separated Value (.csv)</a></li>
<li class="toctree-l2"><a class="reference internal" href="csw.html">CSW - OGC CSW (Catalog Service for the Web)</a></li>
<li class="toctree-l2"><a class="reference internal" href="db2.html">DB2 Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgn.html">Microstation DGN</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgnv8.html">Microstation DGN v8</a></li>
<li class="toctree-l2"><a class="reference internal" href="dods.html">DODS/OPeNDAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="dwg.html">AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="dxf.html">AutoCAD DXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="eeda.html">Google Earth Engine Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="edigeo.html">EDIGEO</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticsearch.html">Elasticsearch: Geographically Encoded Objects for Elasticsearch</a></li>
<li class="toctree-l2"><a class="reference internal" href="esrijson.html">ESRIJSON / FeatureService driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="filegdb.html">ESRI File Geodatabase (FileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="flatgeobuf.html">FlatGeobuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="fme.html">FMEObjects Gateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="geoconcept.html">GeoConcept text export</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojson.html">GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojsonseq.html">GeoJSONSeq: sequence of GeoJSON features</a></li>
<li class="toctree-l2"><a class="reference internal" href="geomedia.html">Geomedia MDB database</a></li>
<li class="toctree-l2"><a class="reference internal" href="georss.html">GeoRSS : Geographically Encoded Objects for RSS feeds</a></li>
<li class="toctree-l2"><a class="reference internal" href="gmlas.html">GMLAS - Geography Markup Language (GML) driven by application schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="gml.html">GML - Geography Markup Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="gmt.html">GMT ASCII Vectors (.gmt)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">GPKG – GeoPackage vector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#driver-capabilities">Driver capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="#specification-version">Specification version</a></li>
<li class="toctree-l3"><a class="reference internal" href="#limitations">Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sql">SQL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sql-functions">SQL functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#link-with-spatialite">Link with Spatialite</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#transaction-support-gdal-2-0">Transaction support (GDAL &gt;= 2.0)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#opening-options">Opening options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creation-issues">Creation Issues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dataset-creation-options">Dataset Creation Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#layer-creation-options">Layer Creation Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#metadata">Metadata</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#non-spatial-tables">Non-spatial tables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#spatial-views">Spatial views</a></li>
<li class="toctree-l3"><a class="reference internal" href="#level-of-support-of-geopackage-extensions">Level of support of GeoPackage Extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#see-also">See Also</a><ul>
<li class="toctree-l4"><a class="reference internal" href="geopackage_aspatial.html">GeoPackage aspatial extension</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gpsbabel.html">GPSBabel</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpx.html">GPX - GPS Exchange Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="grass.html">GRASS Vector Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="gtm.html">GTM - GPS TrackMaker</a></li>
<li class="toctree-l2"><a class="reference internal" href="htf.html">HTF - Hydrographic Transfer Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="idb.html">IDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="idrisi.html">Idrisi Vector (.VCT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ili.html">“INTERLIS 1” and “INTERLIS 2” drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="ingres.html">INGRES</a></li>
<li class="toctree-l2"><a class="reference internal" href="jml.html">JML: OpenJUMP JML format</a></li>
<li class="toctree-l2"><a class="reference internal" href="kml.html">KML - Keyhole Markup Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="libkml.html">LIBKML Driver (.kml .kmz)</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapml.html">MapML</a></li>
<li class="toctree-l2"><a class="reference internal" href="mdb.html">Access MDB databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">Memory</a></li>
<li class="toctree-l2"><a class="reference internal" href="mitab.html">MapInfo TAB and MIF/MID</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodb.html">MongoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodbv3.html">MongoDBv3</a></li>
<li class="toctree-l2"><a class="reference internal" href="mssqlspatial.html">MSSQLSpatial - Microsoft SQL Server Spatial Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="mvt.html">MVT: Mapbox Vector Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="nas.html">NAS - ALKIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="netcdf.html">NetCDF: Network Common Data Form - Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="ngw.html">NGW – NextGIS Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntf.html">UK .NTF</a></li>
<li class="toctree-l2"><a class="reference internal" href="oapif.html">OGC API - Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="oci.html">Oracle Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="odbc.html">ODBC RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="ods.html">ODS - Open Document Spreadsheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="ogdi.html">OGDI Vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="openair.html">OpenAir - OpenAir Special Use Airspace Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="openfilegdb.html">ESRI File Geodatabase (OpenFileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="osm.html">OSM - OpenStreetMap XML and PBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdf.html">PDF – Geospatial PDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="pds.html">PDS - Planetary Data Systems TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgdump.html">PostgreSQL SQL Dump</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgeo.html">ESRI Personal GeoDatabase</a></li>
<li class="toctree-l2"><a class="reference internal" href="pg.html">PostgreSQL / PostGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="plscenes.html">PLScenes (Planet Labs Scenes/Catalog API)</a></li>
<li class="toctree-l2"><a class="reference internal" href="s57.html">IHO S-57 (ENC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="sde.html">ESRI ArcSDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="sdts.html">SDTS</a></li>
<li class="toctree-l2"><a class="reference internal" href="segukooa.html">SEG-P1 / UKOOA P1/90</a></li>
<li class="toctree-l2"><a class="reference internal" href="segy.html">SEG-Y / SEGY</a></li>
<li class="toctree-l2"><a class="reference internal" href="selafin.html">Selafin files</a></li>
<li class="toctree-l2"><a class="reference internal" href="shapefile.html">ESRI Shapefile / DBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="sosi.html">Norwegian SOSI Standard</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlite.html">SQLite / Spatialite RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="sua.html">SUA - Tim Newport-Peace’s Special Use Airspace Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="svg.html">SVG - Scalable Vector Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="sxf.html">Storage and eXchange Format - SXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="tiger.html">U.S. Census TIGER/Line</a></li>
<li class="toctree-l2"><a class="reference internal" href="topojson.html">TopoJSON driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="vdv.html">VDV - VDV-451/VDV-452/INTREST Data Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="vfk.html">VFK - Czech Cadastral Exchange Data Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="vrt.html">VRT – Virtual Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="walk.html">Walk - Walk Spatial Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="wasp.html">WAsP - WAsP .map format</a></li>
<li class="toctree-l2"><a class="reference internal" href="wfs.html">WFS - OGC WFS service</a></li>
<li class="toctree-l2"><a class="reference internal" href="xls.html">XLS - MS Excel format</a></li>
<li class="toctree-l2"><a class="reference internal" href="xlsx.html">XLSX - MS Office Open XML spreadsheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="xplane.html">X-Plane/Flightgear aeronautical data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">How to contribute?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GDAL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html"> GDAL  documentation </a> &raquo;</li>
      
          <li><a href="index.html">Vector drivers</a> &raquo;</li>
      
      <li>GPKG – GeoPackage vector</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/edit//master/gdal/doc/source/drivers/vector/gpkg.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="geopackage_aspatial.html" class="btn btn-neutral float-right" title="GeoPackage aspatial extension" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gmt.html" class="btn btn-neutral float-left" title="GMT ASCII Vectors (.gmt)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gpkg-geopackage-vector">
<span id="vector-gpkg"></span><h1>GPKG – GeoPackage vector<a class="headerlink" href="#gpkg-geopackage-vector" title="Permalink to this headline">¶</a></h1>
<div class="admonition shortname" id="shortname-0">
<p class="admonition-title">Driver short name</p>
<p>GPKG</p>
</div>
<div class="admonition build_dependencies" id="build_dependencies-0">
<p class="admonition-title">Build dependencies</p>
<p>libsqlite3</p>
</div>
<p>This driver implements support for access to spatial tables in the <a class="reference external" href="http://www.opengeospatial.org/standards/geopackage">OGC
GeoPackage format
standard</a> The
GeoPackage standard uses a SQLite database file as a generic container,
and the standard defines:</p>
<ul class="simple">
<li><p>Expected metadata tables (<code class="docutils literal notranslate"><span class="pre">gpkg_contents</span></code>,
<code class="docutils literal notranslate"><span class="pre">gpkg_spatial_ref_sys</span></code>, <code class="docutils literal notranslate"><span class="pre">gpkg_geometry_columns</span></code>)</p></li>
<li><p>Binary format encoding for geometries in spatial tables (basically a
GPKG standard header object followed by ISO standard well-known
binary (WKB))</p></li>
<li><p>Naming and conventions for extensions (extended feature types) and
indexes (how to use SQLite r-tree in an interoperable manner)</p></li>
</ul>
<p>This driver reads and writes SQLite files from the file system, so it
must be run by a user with read/write access to the files it is working
with.</p>
<p>Starting with GDAL 2.0, the driver also supports reading and writing the
following non-linear geometry types :CIRCULARSTRING, COMPOUNDCURVE,
CURVEPOLYGON, MULTICURVE and MULTISURFACE</p>
<p>Starting with GDAL 2.0, GeoPackage raster/tiles are supported. See
<a class="reference internal" href="../raster/gpkg.html#raster-gpkg"><span class="std std-ref">GeoPackage raster</span></a> documentation page</p>
<div class="section" id="driver-capabilities">
<h2>Driver capabilities<a class="headerlink" href="#driver-capabilities" title="Permalink to this headline">¶</a></h2>
<div class="admonition supports_create" id="supports_create-0">
<p class="admonition-title">Supports Create()</p>
<p>This driver supports the <a class="reference internal" href="../../api/gdaldriver_cpp.html#_CPPv4N10GDALDriver6CreateEPKciii12GDALDataTypePPc" title="GDALDriver::Create"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALDriver::Create()</span></code></a> operation</p>
</div>
<div class="admonition supports_georeferencing" id="supports_georeferencing-0">
<p class="admonition-title">Supports Georeferencing</p>
<p>This driver supports georeferencing</p>
</div>
<div class="admonition supports_virtualio" id="supports_virtualio-0">
<p class="admonition-title">Supports VirtualIO</p>
<p>This driver supports <a class="reference internal" href="../../user/virtual_file_systems.html#virtual-file-systems"><span class="std std-ref">virtual I/O operations (/vsimem/, etc.)</span></a></p>
</div>
</div>
<div class="section" id="specification-version">
<h2>Specification version<a class="headerlink" href="#specification-version" title="Permalink to this headline">¶</a></h2>
<p>Starting with GDAL 2.2, the driver is able to create GeoPackage
databases following the 1.0/1.0.1, 1.1 or 1.2 versions. For GDAL 2.2, it
will automatically adjust to the minimum version required for the
features of GeoPackage used. For GDAL 2.3 or later, it will default to
1.2. Explicit version choice can be done by specifying the VERSION
dataset creation option.</p>
</div>
<div class="section" id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>GeoPackage only supports one geometry column per table.</p></li>
</ul>
</div>
<div class="section" id="sql">
<h2>SQL<a class="headerlink" href="#sql" title="Permalink to this headline">¶</a></h2>
<p>The driver supports OGR attribute filters, and users are expected to
provide filters in the SQLite dialect, as they will be executed directly
against the database.</p>
<p>Starting with GDAL 2.0, SQL SELECT statements passed to ExecuteSQL() are
also executed directly against the database. If Spatialite is used, a
recent version (4.2.0) is needed and use of explicit cast operators
AsGPB() is required to transform GeoPackage geometries to Spatialite
geometries (the reverse conversion from Spatialite geometries is
automatically done by the GPKG driver). It is also possible to use with
any Spatialite version, but in a slower way, by specifying the
“INDIRECT_SQLITE” dialect. In which case, GeoPackage geometries
automatically appear as Spatialite geometries after translation by OGR.</p>
<p>Starting with GDAL 2.2, the “DROP TABLE layer_name” and “ALTER TABLE
layer_name RENAME TO new_layer” statements can be used. They will update
GeoPackage system tables.</p>
<p>Starting with GDAL 2.2, the
“HasSpatialIndex(‘table_name’,’geom_col_name’)” statement can be used
for checking if the table has spatial index on the named geometry
column.</p>
<p>When dropping a table, or removing records from tables, the space they
occupied is not immediately released and kept in the pool of file pages
that SQLite may reuse later. If you need to shrink the file to its
minimum size, you need to issue an explicit “VACUUM” SQL request. Note
that this will result in a full rewrite of the file.</p>
<div class="section" id="sql-functions">
<h3>SQL functions<a class="headerlink" href="#sql-functions" title="Permalink to this headline">¶</a></h3>
<p>Starting with GDAL 2.0, the following SQL functions, from the GeoPackage
specification, are available :</p>
<ul class="simple">
<li><p>ST_MinX(geom <em>Geometry</em>) : returns the minimum X coordinate of the
geometry</p></li>
<li><p>ST_MinY(geom <em>Geometry</em>) : returns the minimum Y coordinate of the
geometry</p></li>
<li><p>ST_MaxX(geom <em>Geometry</em>) : returns the maximum X coordinate of the
geometry</p></li>
<li><p>ST_MaxY(geom <em>Geometry</em>) : returns the maximum Y coordinate of the
geometry</p></li>
<li><p>ST_IsEmpty(geom <em>Geometry</em>) : returns 1 if the geometry is empty (but
not null), e.g. a POINT EMPTY geometry</p></li>
<li><p>ST_GeometryType(geom <em>Geometry</em>) : returns the geometry type :
‘POINT’, ‘LINESTRING’, ‘POLYGON’, ‘MULTIPOLYGON’, ‘MULTILINESTRING’,
‘MULTIPOINT’, ‘GEOMETRYCOLLECTION’</p></li>
<li><p>ST_SRID(geom <em>Geometry</em>) : returns the SRID of the geometry</p></li>
<li><p>GPKG_IsAssignable(expected_geom_type <em>String</em>, actual_geom_type
<em>String</em>) : mainly, needed for the ‘Geometry Type Triggers Extension’</p></li>
</ul>
<p>The following functions, with identical syntax and semantics as in
Spatialite, are also available :</p>
<ul class="simple">
<li><p>CreateSpatialIndex(table_name <em>String</em>, geom_column_name <em>String</em>) :
creates a spatial index (RTree) on the specified table/geometry
column</p></li>
<li><p>DisableSpatialIndex(table_name <em>String</em>, geom_column_name <em>String</em>) :
drops an existing spatial index (RTree) on the specified
table/geometry column</p></li>
</ul>
</div>
<div class="section" id="link-with-spatialite">
<h3>Link with Spatialite<a class="headerlink" href="#link-with-spatialite" title="Permalink to this headline">¶</a></h3>
<p>Starting with GDAL 2.0, if it has been compiled against Spatialite 4.2
or later, it is also possible to use Spatialite SQL functions. Explicit
transformation from GPKG geometry binary encoding to Spatialite geometry
binary encoding must be done.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ogrinfo</span> <span class="n">poly</span><span class="o">.</span><span class="n">gpkg</span> <span class="o">-</span><span class="n">sql</span> <span class="s2">&quot;SELECT ST_Buffer(CastAutomagic(geom),5) FROM poly&quot;</span>
</pre></div>
</div>
<p>Starting with Spatialite 4.3, CastAutomagic is no longer needed.</p>
</div>
</div>
<div class="section" id="transaction-support-gdal-2-0">
<h2>Transaction support (GDAL &gt;= 2.0)<a class="headerlink" href="#transaction-support-gdal-2-0" title="Permalink to this headline">¶</a></h2>
<p>The driver implements transactions at the database level, per <a class="reference internal" href="../../development/rfc/rfc54_dataset_transactions.html#rfc-54"><span class="std std-ref">RFC 54: Dataset transactions</span></a></p>
</div>
<div class="section" id="opening-options">
<h2>Opening options<a class="headerlink" href="#opening-options" title="Permalink to this headline">¶</a></h2>
<p>The following open options are available:</p>
<ul class="simple">
<li><p><strong>LIST_ALL_TABLES</strong>=AUTO/YES/NO: (GDAL &gt;=2.2) Whether all tables,
including those not listed in gpkg_contents, should be listed.
Defaults to AUTO. If AUTO, all tables including those not listed in
gpkg_contents will be listed, except if the aspatial extension is
found or a table is registered as ‘attributes’ in gpkg_contents. If
YES, all tables including those not listed in gpkg_contents will be
listed, in all cases. If NO, only tables registered as ‘features’,
‘attributes’ or ‘aspatial’ will be listed.</p></li>
</ul>
<p>Note: open options are typically specified with “-oo name=value” syntax
in most OGR utilities, or with the GDALOpenEx() API call.</p>
</div>
<div class="section" id="creation-issues">
<h2>Creation Issues<a class="headerlink" href="#creation-issues" title="Permalink to this headline">¶</a></h2>
<p>When creating a new GeoPackage file, the driver will attempt to force
the database into a UTF-8 mode for text handling, satisfying the OGR
strict UTF-8 capability. For pre-existing files, the driver will work
with whatever it is given.</p>
<div class="section" id="dataset-creation-options">
<h3>Dataset Creation Options<a class="headerlink" href="#dataset-creation-options" title="Permalink to this headline">¶</a></h3>
<p>The following creation options (specific to vector, or common with
raster) are available:</p>
<ul class="simple">
<li><p><strong>VERSION</strong>=AUTO/1.0/1.1/1.2: (GDAL &gt;= 2.2) Set GeoPackage version
(for application_id and user_version fields). In AUTO mode, this will
be equivalent to 1.2 starting with GDAL 2.3.</p></li>
<li><p><strong>ADD_GPKG_OGR_CONTENTS</strong>=YES/NO: (GDAL &gt;= 2.2) Defines whether to
add a gpkg_ogr_contents table to keep feature count, and associated
triggers. Defaults to YES.</p></li>
</ul>
<p>Other options are available for raster. See the <a class="reference internal" href="../raster/gpkg.html#raster-gpkg"><span class="std std-ref">GeoPackage raster</span></a>
documentation page</p>
</div>
<div class="section" id="layer-creation-options">
<h3>Layer Creation Options<a class="headerlink" href="#layer-creation-options" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><strong>GEOMETRY_NAME</strong>: Column to use for the geometry column. Default to
“geom”. Note: This option was called GEOMETRY_COLUMN in releases before
GDAL 2</p></li>
<li><p><strong>GEOMETRY_NULLABLE</strong>: (GDAL &gt;=2.0) Whether the values of the
geometry column can be NULL. Can be set to NO so that geometry is
required. Default to “YES”</p></li>
<li><p><strong>FID</strong>: Column name to use for the OGR FID (primary key in the
SQLite database). Default to “fid”</p></li>
<li><p><strong>OVERWRITE</strong>: If set to “YES” will delete any existing layers that
have the same name as the layer being created. Default to NO</p></li>
<li><p><strong>SPATIAL_INDEX</strong>: (GDAL &gt;=2.0) If set to “YES” will create a spatial
index for this layer. Default to YES</p></li>
<li><p><strong>PRECISION</strong>: (GDAL &gt;=2.0) This may be “YES” to force new fields
created on this layer to try and represent the width of text fields
(in terms of UTF-8 characters, not bytes), if available using
TEXT(width) types. If “NO” then the type TEXT will be used instead.
The default is “YES”.</p></li>
<li><p><strong>TRUNCATE_FIELDS</strong>: (GDAL &gt;=2.0) This may be “YES” to force
truncated of field values that exceed the maximum allowed width of
text fields, and also to “fix” the passed string if needed to make it
a valid UTF-8 string. If “NO” then the value is not truncated nor
modified. The default is “NO”.</p></li>
<li><p><strong>IDENTIFIER</strong>=string: (GDAL &gt;=2.0) Identifier of the layer, as put
in the contents table.</p></li>
<li><p><strong>DESCRIPTION</strong>=string: (GDAL &gt;=2.0) Description of the layer, as
put in the contents table.</p></li>
<li><p><strong>ASPATIAL_VARIANT</strong>=GPKG_ATTRIBUTES/OGR_ASPATIAL/NOT_REGISTERED:
(GDAL &gt;=2.2) How to register non spatial tables. Defaults to
GPKG_ATTRIBUTES in GDAL 2.2 or later (behavior in previous version
was equivalent to OGR_ASPATIAL). Starting with GeoPackage 1.2, non
spatial tables are part of the specification. They are recorded with
data_type=”attributes” in the gpkg_contents table. This is only
compatible of GDAL 2.2 or later. Priorly, in OGR 2.0 and 2.1, the
“aspatial” extension had been developed for similar purposes, so if
selecting OGR_ASPATIAL, non spatial tables will be recorded with
data_type=”aspatial” and the “aspatial” extension was declared in the
gpkg_extensions table. It is also possible to use the NOT_REGISTERED
option, in which case the non spatial table is not registered at all
in any GeoPackage system tables.</p></li>
</ul>
</div>
</div>
<div class="section" id="metadata">
<h2>Metadata<a class="headerlink" href="#metadata" title="Permalink to this headline">¶</a></h2>
<p>(GDAL &gt;=2.0) GDAL uses the standardized
<a class="reference external" href="http://www.geopackage.org/spec/#_metadata_table">gpkg_metadata</a>
and
<a class="reference external" href="http://www.geopackage.org/spec/#_metadata_reference_table">gpkg_metadata_reference</a>
tables to read and write metadata, on the dataset and layer objects.</p>
<p>GDAL metadata, from the default metadata domain and possibly other
metadata domains, is serialized in a single XML document, conformant
with the format used in GDAL PAM (Persistent Auxiliary Metadata)
.aux.xml files, and registered with md_scope=dataset and
md_standard_uri=http://gdal.org in gpkg_metadata. For the dataset, this
entry is referenced in gpkg_metadata_reference with a
reference_scope=geopackage. For a layer, this entry is referenced in
gpkg_metadata_reference with a reference_scope=table and
table_name={name of the table}</p>
<p>Metadata not originating from GDAL can be read by the driver and will be
exposed as metadata items with keys of the form GPKG_METADATA_ITEM_XXX
and values the content of the <em>metadata</em> columns of the gpkg_metadata
table. Update of such metadata is not currently supported through GDAL
interfaces ( although it can be through direct SQL commands).</p>
<p>The specific DESCRIPTION and IDENTIFIER metadata item of the default
metadata domain can be used in read/write to read from/update the
corresponding columns of the gpkg_contents table.</p>
<div class="section" id="non-spatial-tables">
<h3>Non-spatial tables<a class="headerlink" href="#non-spatial-tables" title="Permalink to this headline">¶</a></h3>
<p>The core GeoPackage specification of GeoPackage 1.0 and 1.1 did not
support non-spatial tables. This was added in GeoPackage 1.2 as the
“attributes” data type.</p>
<p>Starting with GDAL 2.0, the driver allows creating and reading
non-spatial tables with the <a class="reference internal" href="geopackage_aspatial.html#vector-geopackage-aspatial"><span class="std std-ref">GeoPackage aspatial extension</span></a>.</p>
<p>Starting with GDAL 2.2, the driver will also, by default, list non
spatial tables that are not registered through the gdal_aspatial
extension, and support the GeoPackage 1.2 “attributes” data type as
well. Starting with GDAL 2.2, non spatial tables are by default created
following the GeoPackage 1.2 “attributes” data type (can be controlled
with the ASPATIAL_VARIANT layer creation option)</p>
</div>
</div>
<div class="section" id="spatial-views">
<h2>Spatial views<a class="headerlink" href="#spatial-views" title="Permalink to this headline">¶</a></h2>
<p>Views can be created and recognized as valid spatial layers if a
corresponding record is inserted into the gpkg_contents and
gpkg_geometry_columns table.</p>
<p>Starting with GDAL 2.2, in the case of the columns in the SELECT clause
of the view acts a integer primary key, then it can be recognized by OGR
as the FID column of the view, provided it is renamed as OGC_FID.
Selecting a feature id from a source table without renaming will not be
sufficient, since due to joins this feature id could appear several
times. Thus the user must explicitly acknowledge that the column is
really a primary key.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">VIEW</span> <span class="n">my_view</span> <span class="n">AS</span> <span class="n">SELECT</span> <span class="n">foo</span><span class="o">.</span><span class="n">fid</span> <span class="n">AS</span> <span class="n">OGC_FID</span><span class="p">,</span> <span class="n">foo</span><span class="o">.</span><span class="n">geom</span><span class="p">,</span> <span class="o">...</span> <span class="n">FROM</span> <span class="n">foo</span> <span class="n">JOIN</span> <span class="n">another_table</span> <span class="n">ON</span> <span class="n">foo</span><span class="o">.</span><span class="n">some_id</span> <span class="o">=</span> <span class="n">another_table</span><span class="o">.</span><span class="n">other_id</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">gpkg_contents</span> <span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">identifier</span><span class="p">,</span> <span class="n">data_type</span><span class="p">,</span> <span class="n">srs_id</span><span class="p">)</span> <span class="n">VALUES</span> <span class="p">(</span> <span class="s1">&#39;my_view&#39;</span><span class="p">,</span> <span class="s1">&#39;my_view&#39;</span><span class="p">,</span> <span class="s1">&#39;features&#39;</span><span class="p">,</span> <span class="mi">4326</span><span class="p">)</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">gpkg_geometry_columns</span> <span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">geometry_type_name</span><span class="p">,</span> <span class="n">srs_id</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="n">values</span> <span class="p">(</span><span class="s1">&#39;my_view&#39;</span><span class="p">,</span> <span class="s1">&#39;my_geom&#39;</span><span class="p">,</span> <span class="s1">&#39;GEOMETRY&#39;</span><span class="p">,</span> <span class="mi">4326</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>This requires GDAL to be compiled with the SQLITE_HAS_COLUMN_METADATA
option and SQLite3 with the SQLITE_ENABLE_COLUMN_METADATA option.
Starting with GDAL 2.3, this can be easily verified if the
SQLITE_HAS_COLUMN_METADATA=YES driver metadata item is declared (for
example with “ogrinfo –format GPKG”)</p>
</div>
<div class="section" id="level-of-support-of-geopackage-extensions">
<h2>Level of support of GeoPackage Extensions<a class="headerlink" href="#level-of-support-of-geopackage-extensions" title="Permalink to this headline">¶</a></h2>
<p>(Restricted to those have a vector scope)</p>
<table class="docutils align-center" id="id1">
<caption><span class="caption-text">Extensions</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Extension name</p></th>
<th class="head"><p>OGC adopted extension ?</p></th>
<th class="head"><p>Supported by GDAL?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="http://www.geopackage.org/guidance/extensions/nonlinear_geometry_types.html">Non-Linear Geometry Types</a></p></td>
<td><p>Yes</p></td>
<td><p>Yes, since GDAL 2.1</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="http://www.geopackage.org/guidance/extensions/rtree_spatial_indexes.html">RTree Spatial Indexes</a></p></td>
<td><p>Yes</p></td>
<td><p>Yes, since GDAL 2.0</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="http://www.geopackage.org/guidance/extensions/metadata.html">Metadata</a></p></td>
<td><p>Yes</p></td>
<td><p>Yes, since GDAL 1.11</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="http://www.geopackage.org/guidance/extensions/schema.html">Schema</a></p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="http://www.geopackage.org/guidance/extensions/wkt_for_crs.md">WKT for Coordinate Reference Systems</a> (WKT v2)</p></td>
<td><p>Yes</p></td>
<td><p>Partially, since GDAL 2.2. GDAL can read databases using this extension, but cannot interpret a SRS entry that has only a WKT v2 entry.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="geopackage_aspatial.html#vector-geopackage-aspatial"><span class="std std-ref">GeoPackage aspatial extension</span></a></p></td>
<td><p>No</p></td>
<td><p>Yes, since GDAL 2.0. Deprecated in GDAL 2.2 for the <em>attributes</em> official data_type</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Simple translation of a single shapefile into GeoPackage. The table
‘abc’ will be created with the features from abc.shp and attributes
from abc.dbf. The file <code class="docutils literal notranslate"><span class="pre">filename.gpkg</span></code> must <strong>not</strong> already exist,
as it will be created. For adding new layers into existing geopackage
run ogr2ogr with <strong>-update</strong>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">ogr2ogr</span> <span class="o">-</span><span class="n">f</span> <span class="n">GPKG</span> <span class="n">filename</span><span class="o">.</span><span class="n">gpkg</span> <span class="n">abc</span><span class="o">.</span><span class="n">shp</span>
</pre></div>
</div>
</li>
<li><p>Translation of a directory of shapefiles into a GeoPackage. Each file
will end up as a new table within the GPKG file. The file
<code class="docutils literal notranslate"><span class="pre">filename.gpkg</span></code> must <strong>not</strong> already exist, as it will be created.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">ogr2ogr</span> <span class="o">-</span><span class="n">f</span> <span class="n">GPKG</span> <span class="n">filename</span><span class="o">.</span><span class="n">gpkg</span> <span class="o">./</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="nb">dir</span>
</pre></div>
</div>
</li>
<li><p>Translation of a PostGIS database into a GeoPackage. Each table in
the database will end up as a table in the GPKG file. The file
<code class="docutils literal notranslate"><span class="pre">filename.gpkg</span></code> must <strong>not</strong> already exist, as it will be created.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">ogr2ogr</span> <span class="o">-</span><span class="n">f</span> <span class="n">GPKG</span> <span class="n">filename</span><span class="o">.</span><span class="n">gpkg</span> <span class="n">PG</span><span class="p">:</span><span class="s1">&#39;dbname=mydatabase host=localhost&#39;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../raster/gpkg.html#raster-gpkg"><span class="std std-ref">GeoPackage raster</span></a> documentation page</p></li>
<li><p><a class="reference external" href="http://www.geopackage.org/guidance/getting-started.html">Getting Started With
GeoPackage</a></p></li>
<li><p><a class="reference external" href="http://www.geopackage.org/spec/">OGC GeoPackage format standard</a>
specification, HTML format (current/development version of the
standard)</p></li>
<li><p><a class="reference external" href="http://www.opengeospatial.org/standards/geopackage">OGC GeoPackage Encoding
Standard</a> page</p></li>
<li><p><a class="reference external" href="http://sqlite.org/">SQLite</a></p></li>
</ul>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="geopackage_aspatial.html" class="btn btn-neutral float-right" title="GeoPackage aspatial extension" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gmt.html" class="btn btn-neutral float-left" title="GMT ASCII Vectors (.gmt)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2020 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>