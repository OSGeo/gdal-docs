

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>GMLAS - Geography Markup Language (GML) driven by application schemas &mdash; GDAL  documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://gdal.orgdrivers/vector/gmlas.html"/>
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/gdal.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="GMLAS - Mapping examples" href="gmlas_mapping_examples.html" />
    <link rel="prev" title="GeoRSS : Geographically Encoded Objects for RSS feeds" href="georss.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/gdalicon.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programs/index.html">Programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raster/index.html">Raster drivers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Vector drivers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="aeronavfaa.html">Aeronav FAA</a></li>
<li class="toctree-l2"><a class="reference internal" href="amigocloud.html">AmigoCloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="ao.html">ESRI ArcObjects</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgen.html">ARCGEN - Arc/Info Generate</a></li>
<li class="toctree-l2"><a class="reference internal" href="avcbin.html">Arc/Info Binary Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="avce00.html">Arc/Info E00 (ASCII) Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="bna.html">BNA - Atlas BNA</a></li>
<li class="toctree-l2"><a class="reference internal" href="cad.html">CAD – AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="carto.html">Carto</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloudant.html">Cloudant – Cloudant</a></li>
<li class="toctree-l2"><a class="reference internal" href="couchdb.html">CouchDB - CouchDB/GeoCouch</a></li>
<li class="toctree-l2"><a class="reference internal" href="csv.html">Comma Separated Value (.csv)</a></li>
<li class="toctree-l2"><a class="reference internal" href="csw.html">CSW - OGC CSW (Catalog Service for the Web)</a></li>
<li class="toctree-l2"><a class="reference internal" href="db2.html">DB2 Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgn.html">Microstation DGN</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgnv8.html">Microstation DGN v8</a></li>
<li class="toctree-l2"><a class="reference internal" href="dods.html">DODS/OPeNDAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="dwg.html">AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="dxf.html">AutoCAD DXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="eeda.html">Google Earth Engine Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="edigeo.html">EDIGEO</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticsearch.html">Elasticsearch: Geographically Encoded Objects for Elasticsearch</a></li>
<li class="toctree-l2"><a class="reference internal" href="esrijson.html">ESRIJSON / FeatureService driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="filegdb.html">ESRI File Geodatabase (FileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="flatgeobuf.html">FlatGeobuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="fme.html">FMEObjects Gateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="geoconcept.html">GeoConcept text export</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojson.html">GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojsonseq.html">GeoJSONSeq: sequence of GeoJSON features</a></li>
<li class="toctree-l2"><a class="reference internal" href="geomedia.html">Geomedia MDB database</a></li>
<li class="toctree-l2"><a class="reference internal" href="georss.html">GeoRSS : Geographically Encoded Objects for RSS feeds</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">GMLAS - Geography Markup Language (GML) driven by application schemas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#driver-capabilities">Driver capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="#opening-syntax">Opening syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mapping-of-xml-structure-to-ogr-layers-and-fields">Mapping of XML structure to OGR layers and fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#metadata-layers">Metadata layers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-file">Configuration file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#geometry-support">Geometry support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#performance-issues-with-large-multi-layer-gml-files">Performance issues with large multi-layer GML files.</a></li>
<li class="toctree-l3"><a class="reference internal" href="#open-options">Open options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creation-support">Creation support</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ogr2ogr-behavior">ogr2ogr behavior</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dataset-creation-options">Dataset creation options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#see-also">See Also</a></li>
<li class="toctree-l3"><a class="reference internal" href="#credits">Credits</a><ul>
<li class="toctree-l4"><a class="reference internal" href="gmlas_mapping_examples.html">GMLAS - Mapping examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="gmlas_metadata_layers.html">GMLAS - Metadata layers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gml.html">GML - Geography Markup Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="gmt.html">GMT ASCII Vectors (.gmt)</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpkg.html">GPKG – GeoPackage vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpsbabel.html">GPSBabel</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpx.html">GPX - GPS Exchange Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="grass.html">GRASS Vector Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="gtm.html">GTM - GPS TrackMaker</a></li>
<li class="toctree-l2"><a class="reference internal" href="htf.html">HTF - Hydrographic Transfer Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="idb.html">IDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="idrisi.html">Idrisi Vector (.VCT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ili.html">“INTERLIS 1” and “INTERLIS 2” drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="ingres.html">INGRES</a></li>
<li class="toctree-l2"><a class="reference internal" href="jml.html">JML: OpenJUMP JML format</a></li>
<li class="toctree-l2"><a class="reference internal" href="kml.html">KML - Keyhole Markup Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="libkml.html">LIBKML Driver (.kml .kmz)</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapml.html">MapML</a></li>
<li class="toctree-l2"><a class="reference internal" href="mdb.html">Access MDB databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">Memory</a></li>
<li class="toctree-l2"><a class="reference internal" href="mitab.html">MapInfo TAB and MIF/MID</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodb.html">MongoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodbv3.html">MongoDBv3</a></li>
<li class="toctree-l2"><a class="reference internal" href="mssqlspatial.html">MSSQLSpatial - Microsoft SQL Server Spatial Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="mvt.html">MVT: Mapbox Vector Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="nas.html">NAS - ALKIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="netcdf.html">NetCDF: Network Common Data Form - Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="ngw.html">NGW – NextGIS Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntf.html">UK .NTF</a></li>
<li class="toctree-l2"><a class="reference internal" href="oapif.html">OGC API - Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="oci.html">Oracle Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="odbc.html">ODBC RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="ods.html">ODS - Open Document Spreadsheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="ogdi.html">OGDI Vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="openair.html">OpenAir - OpenAir Special Use Airspace Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="openfilegdb.html">ESRI File Geodatabase (OpenFileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="osm.html">OSM - OpenStreetMap XML and PBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdf.html">PDF – Geospatial PDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="pds.html">PDS - Planetary Data Systems TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgdump.html">PostgreSQL SQL Dump</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgeo.html">ESRI Personal GeoDatabase</a></li>
<li class="toctree-l2"><a class="reference internal" href="pg.html">PostgreSQL / PostGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="plscenes.html">PLScenes (Planet Labs Scenes/Catalog API)</a></li>
<li class="toctree-l2"><a class="reference internal" href="s57.html">IHO S-57 (ENC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="sde.html">ESRI ArcSDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="sdts.html">SDTS</a></li>
<li class="toctree-l2"><a class="reference internal" href="segukooa.html">SEG-P1 / UKOOA P1/90</a></li>
<li class="toctree-l2"><a class="reference internal" href="segy.html">SEG-Y / SEGY</a></li>
<li class="toctree-l2"><a class="reference internal" href="selafin.html">Selafin files</a></li>
<li class="toctree-l2"><a class="reference internal" href="shapefile.html">ESRI Shapefile / DBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="sosi.html">Norwegian SOSI Standard</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlite.html">SQLite / Spatialite RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="sua.html">SUA - Tim Newport-Peace’s Special Use Airspace Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="svg.html">SVG - Scalable Vector Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="sxf.html">Storage and eXchange Format - SXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="tiger.html">U.S. Census TIGER/Line</a></li>
<li class="toctree-l2"><a class="reference internal" href="topojson.html">TopoJSON driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="vdv.html">VDV - VDV-451/VDV-452/INTREST Data Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="vfk.html">VFK - Czech Cadastral Exchange Data Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="vrt.html">VRT – Virtual Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="walk.html">Walk - Walk Spatial Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="wasp.html">WAsP - WAsP .map format</a></li>
<li class="toctree-l2"><a class="reference internal" href="wfs.html">WFS - OGC WFS service</a></li>
<li class="toctree-l2"><a class="reference internal" href="xls.html">XLS - MS Excel format</a></li>
<li class="toctree-l2"><a class="reference internal" href="xlsx.html">XLSX - MS Office Open XML spreadsheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="xplane.html">X-Plane/Flightgear aeronautical data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">How to contribute?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GDAL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html"> GDAL  documentation </a> &raquo;</li>
      
          <li><a href="index.html">Vector drivers</a> &raquo;</li>
      
      <li>GMLAS - Geography Markup Language (GML) driven by application schemas</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/edit//master/gdal/doc/source/drivers/vector/gmlas.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="gmlas_mapping_examples.html" class="btn btn-neutral float-right" title="GMLAS - Mapping examples" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="georss.html" class="btn btn-neutral float-left" title="GeoRSS : Geographically Encoded Objects for RSS feeds" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gmlas-geography-markup-language-gml-driven-by-application-schemas">
<span id="vector-gmlas"></span><h1>GMLAS - Geography Markup Language (GML) driven by application schemas<a class="headerlink" href="#gmlas-geography-markup-language-gml-driven-by-application-schemas" title="Permalink to this headline">¶</a></h1>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.2.</span></p>
</div>
<div class="admonition shortname" id="shortname-0">
<p class="admonition-title">Driver short name</p>
<p>GMLAS</p>
</div>
<div class="admonition build_dependencies" id="build_dependencies-0">
<p class="admonition-title">Build dependencies</p>
<p>Xerces</p>
</div>
<p>This driver can read and write XML files of arbitrary structure,
included those containing so called Complex Features, provided that they
are accompanied by one or several XML schemas that describe the
structure of their content. While this driver is generic to any XML
schema, the main target is to be able to read and write documents
referencing directly or indirectly to the GML namespace.</p>
<p>The driver requires Xerces-C &gt;= 3.1.</p>
<p>The driver can deal with files of arbitrary size with a very modest RAM
usage, due to its working in streaming mode.</p>
<div class="section" id="driver-capabilities">
<h2>Driver capabilities<a class="headerlink" href="#driver-capabilities" title="Permalink to this headline">¶</a></h2>
<div class="admonition supports_georeferencing" id="supports_georeferencing-0">
<p class="admonition-title">Supports Georeferencing</p>
<p>This driver supports georeferencing</p>
</div>
<div class="admonition supports_virtualio" id="supports_virtualio-0">
<p class="admonition-title">Supports VirtualIO</p>
<p>This driver supports <a class="reference internal" href="../../user/virtual_file_systems.html#virtual-file-systems"><span class="std std-ref">virtual I/O operations (/vsimem/, etc.)</span></a></p>
</div>
</div>
<div class="section" id="opening-syntax">
<h2>Opening syntax<a class="headerlink" href="#opening-syntax" title="Permalink to this headline">¶</a></h2>
<p>The connection string is GMLAS:/path/to/the.gml. Note the GMLAS: prefix.
If this prefix it is omitted, then the GML driver is likely to be used.</p>
<p>It is also possible to only used “GMLAS:” as the connection string, but
in that case the schemas must be explicitly provided with the XSD open
option.</p>
</div>
<div class="section" id="mapping-of-xml-structure-to-ogr-layers-and-fields">
<h2>Mapping of XML structure to OGR layers and fields<a class="headerlink" href="#mapping-of-xml-structure-to-ogr-layers-and-fields" title="Permalink to this headline">¶</a></h2>
<p>The driver scans the XML schemas referenced by the XML/GML to build the
OGR layers and fields. It is strictly required that the schemas,
directly or indirectly used, are fully valid. The content of the XML/GML
file itself is marginally used, mostly to determine the SRS of geometry
columns.</p>
<p>XML elements declared at the top level of a schema will generally be
exposed as OGR layers. Their attributes and sub-elements of simple XML
types (string, integer, real, …) will be exposed as OGR fields. For
sub-elements of complex type, different cases can happen. If the
cardinality of the sub-element is at most one and it is not referenced
by other elements, then it is “flattened” into its enclosing element.
Otherwise it will be exposed as a OGR layer, with either a link to its
“parent” layer if the sub-element is specific to its parent element, or
through a junction table if the sub-element is shared by several
parents.</p>
<p>By default the driver is robust to documents non strictly conforming to
the schemas. Unexpected content in the document will be silently
ignored, as well as content required by the schema and absent from the
document.</p>
<p>Consult the <a class="reference internal" href="gmlas_mapping_examples.html#gmlas-mapping-examples"><span class="std std-ref">GMLAS mapping examples</span></a>
page for more details.</p>
<p>By default in the configuration, swe:DataRecord and swe:DataArray
elements from the Sensor Web Enablement (SWE) Common Data Model
namespace will receive a special processing, so they are mapped more
naturally to OGR concepts. The swe:field elements will be mapped as OGR
fields, and the swe:values element of a swe:DataArray will be parsed
into OGR features in a dedicated layer for each swe:DataArray. Note that
those conveniency exposure is for read-only purpose. When using the
write side of the driver, only the content of the general mapping
mechanisms will be used.</p>
</div>
<div class="section" id="metadata-layers">
<h2>Metadata layers<a class="headerlink" href="#metadata-layers" title="Permalink to this headline">¶</a></h2>
<p>Three special layers “_ogr_fields_metadata”, “_ogr_layers_metadata”,
“_ogr_layer_relationships” and “_ogr_other_metadata” add extra
information to the basic ones you can get from the OGR data model on OGR
layers and fields.</p>
<p>Those layers are exposed if the EXPOSE_METADATA_LAYERS open option is
set to YES (or if enabled in the configuration). They can also be
individually retrieved by specifying their name in calls to
GetLayerByName(), or on as layer names with the ogrinfo and ogr2ogr
utility.</p>
<p>Consult the <a class="reference internal" href="gmlas_metadata_layers.html#gmlas-metadata-layers"><span class="std std-ref">GMLAS metadata layers</span></a>
page for more details.</p>
</div>
<div class="section" id="configuration-file">
<h2>Configuration file<a class="headerlink" href="#configuration-file" title="Permalink to this headline">¶</a></h2>
<p>A default configuration file
<a class="reference external" href="http://github.com/OSGeo/gdal/blob/master/gdal/data/gmlasconf.xml">gmlasconf.xml</a>
file is provided in the data directory of the GDAL installation. Its
structure and content is documented in
<a class="reference external" href="http://github.com/OSGeo/gdal/blob/master/gdal/data/gmlasconf.xsd">gmlasconf.xsd</a>
schema.</p>
<p>This configuration file enables the user to modify the following
settings:</p>
<ul class="simple">
<li><p>whether remote schemas should be downloaded. Enabled by default.</p></li>
<li><p>whether the local cache of schemas is enabled. Enabled by default.</p></li>
<li><p>the path of the local cache. By default, $HOME/.gdal/gmlas_xsd_cache</p></li>
<li><p>whether validation of the document against the schemas should be
enabled. Disabled by default.</p></li>
<li><p>whether validation error should cause dataset opening to fail.
Disabled by default.</p></li>
<li><p>whether the metadata layers should be exposed by default. Disabled by
default.</p></li>
<li><p>whether a ‘ogr_pkid’ field should always be generated. Disabled by
default. Turning that on can be useful on layers that have a ID
attribute whose uniqueness is not guaranteed among various documents.
Which could cause issues when appending several documents into a
target database table.</p></li>
<li><p>whether layers and fields that are not used in the XML document
should be removed. Disable by default.</p></li>
<li><p>whether OGR array data types can be used. Enabled by default.</p></li>
<li><p>whether the XML definition of the GML geometry should be reported as
a OGR string field. Disabled by default.</p></li>
<li><p>whether only XML elements that derive from gml:_Feature or
gml:AbstractFeature should be considered in the initial pass of the
schema building, when at least one element in the schemas derive from
them. Enabled by default.</p></li>
<li><p>several rules to configure if and how xlink:href should be resolved.</p></li>
<li><p>a definition of XPaths of elements and attributes that must be
ignored, so as to lighten the number of OGR layers and fields.</p></li>
</ul>
<p>This file can be adapted and modified versions can be provided to the
driver with the CONFIG_FILE open option. None of the elements of the
configuration file are required. When they are absent, the default value
indicated in the schema documentation is used.</p>
<p>Configuration can also be provided through other open options. Note that
some open options have identical names to settings present in the
configuration file. When such open option is provided, then its value
will override the one of the configuration file (either the default one,
or the one provided through the CONFIG_FILE open option).</p>
</div>
<div class="section" id="geometry-support">
<h2>Geometry support<a class="headerlink" href="#geometry-support" title="Permalink to this headline">¶</a></h2>
<p>XML schemas only indicate the geometry type but do not constraint the
spatial reference systems (SRS), so it is theoretically possible to have
object instances of the same class having different SRS for the same
geometry field. This is not practical to deal with, so when geometry
fields are detected, an initial scan of the document is done to find the
first geometry of each geometry field that has an explicit srsName set.
This one will be used for the whole geometry field. In case other
geometries of the same field would have different SRS, they will be
reprojected.</p>
<p>By default, only the OGR geometry built from the GML geometry is exposed
in the OGR feature. It is possible to change the IncludeGeometryXML
setting of the configuration file to true so as to expose a OGR string
field with the XML definition of the GML geometry.</p>
</div>
<div class="section" id="performance-issues-with-large-multi-layer-gml-files">
<h2>Performance issues with large multi-layer GML files.<a class="headerlink" href="#performance-issues-with-large-multi-layer-gml-files" title="Permalink to this headline">¶</a></h2>
<p>Traditionnaly to read a OGR datasource, one iterate over layers with
GDALDataset::GetLayer(), and for each layer one iterate over features
with OGRLayer::GetNextFeature(). While this approach still works for the
GMLAS driver, it may result in very poor performance on big documents or
documents using complex schemas that are translated in many OGR layers.</p>
<p>It is thus recommended to use GDALDataset::GetNextFeature() to iterate
over features as soon as they appear in the .gml/.xml file. This may
return features from non-sequential layers, when the features include
nested elements.</p>
</div>
<div class="section" id="open-options">
<h2>Open options<a class="headerlink" href="#open-options" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>XSD</strong>=filename(s): to specify an explicit XSD application schema
to use (or a list of filenames, provided they are comma separated).
“<a class="reference external" href="http://">http://</a>” or “<a class="reference external" href="https://">https://</a>” URLs can be used. This option is not required
when the XML/GML document has a schemaLocation attribute with valid
links in its root element.</p></li>
<li><p><strong>CONFIG_FILE</strong>=filename or inline XML definition: filename of a
XML configuration file conforming to the
<a class="reference external" href="https://github.com/OSGeo/gdal/blob/master/gdal/data/gmlasconf.xsd">gmlasconf.xsd</a>
schema. It is also possible to provide the XML content directly
inlined provided that the very first characters are &lt;Configuration.</p></li>
<li><p><strong>EXPOSE_METADATA_LAYERS</strong>=YES/NO: whether the metadata layers
“_ogr_fields_metadata”, “_ogr_layers_metadata”,
“_ogr_layer_relationships” and “ogr_other_metadata” should be
reported by default. Default is NO.</p></li>
<li><p><strong>VALIDATE</strong>=YES/NO: whether the document should be validated
against the schemas. Validation is done at dataset opening. Default
is NO.</p></li>
<li><p><strong>FAIL_IF_VALIDATION_ERROR</strong>=YES/NO: Whether a validation error
should cause dataset opening to fail. (only used if VALIDATE=YES)
Default is NO.</p></li>
<li><p><strong>REFRESH_CACHE</strong>=YES/NO: Whether remote schemas and documents
pointed by xlink:href links should be downloaded from the server even
if already present in the local cache. If the cache is enabled, it
will be refreshed with the newly downloaded resources. Default is NO.</p></li>
<li><p><strong>SWAP_COORDINATES</strong>=AUTO/YES/NO: Whether the order of the x/y or
long/lat coordinates should be swapped. In AUTO mode, the driver will
determine if swapping must be done from the srsName. If the srsName
is <a class="reference external" href="urn:ogc:def:crs:EPSG::XXXX">urn:ogc:def:crs:EPSG::XXXX</a> and that the order of coordinates in
the EPSG database for this SRS is lat,long or northing,easting, then
the driver will swap them to the GIS friendly order (long,lat or
easting,northing). For other forms of SRS (such as EPSG:XXXX), GIS
friendly order is assumed and thus no swapping is done. When
SWAP_COORDINATES is set to YES, coordinates will be always swapped
regarding the order they appear in the GML, and when it set to NO,
they will be kept in the same order. The default is AUTO.</p></li>
<li><p><strong>REMOVE_UNUSED_LAYERS</strong>=YES/NO: Whether unused layers should be
removed from the reported layers. Defaults to NO</p></li>
<li><p><strong>REMOVE_UNUSED_FIELDS</strong>=YES/NO: Whether unused fields should be
removed from the reported layers. Defaults to NO</p></li>
<li><p><strong>HANDLE_MULTIPLE_IMPORTS</strong>=YES/NO: Whether multiple imports with
the same namespace but different schema are allowed. Defaults to NO</p></li>
<li><p><strong>SCHEMA_FULL_CHECKING</strong>=YES/NO: Whether to be pedantic with XSD
checking or to be forgiving e.g. if the invalid part of the schema is
not referenced in the main document. Defaults to NO</p></li>
</ul>
</div>
<div class="section" id="creation-support">
<h2>Creation support<a class="headerlink" href="#creation-support" title="Permalink to this headline">¶</a></h2>
<p>The GMLAS driver can write XML documents in a schema-driven way by
converting a source dataset (contrary to most other drivers that have
read support that implement the CreateLayer() and CreateFeature()
interfaces). The typical workflow is to use the read side of the GMLAS
driver to produce a SQLite/Spatialite/ PostGIS database, potentially
modify the features imported and re-export this database as a new XML
document.</p>
<p>The driver will identify in the source dataset “top-level” layers, and
in those layers will find which features are not referenced by other
top-level layers. As the creation of the output XML is schema-driver,
the schemas need to be available. There are two possible ways:</p>
<ul class="simple">
<li><p>either the result of the processing of the schemas was stored as the
4 _ogr_* metadata tables in the source dataset by using the
EXPOSE_METADATA_LAYERS=YES open option when converting the source
.xml),</p></li>
<li><p>or the schemas can be specified at creation time with the INPUT_XSD
creation option.</p></li>
</ul>
<p>By default, the driver will “wrap” the features inside a WFS 2.0
wfs:FeatureCollection / wfs:member element. It is also possible to ask
the driver to create instead a custom wrapping .xsd file that declares
the ogr_gmlas:FeatureCollection / ogr_gmlas:featureMember XML elements.</p>
<p>Note that while the file resulting from the export should be XML valid,
there is no strong guarantee that it will validate against the
additional constraints expressed in XML schema(s). This will depend on
the content of the features (for example if converting from a GML file
that is not conformant to the schemas, the output of the driver will
generally be not validating)</p>
<p>If the input layers have geometries stored as GML content in a _xml
suffixed field, then the driver will compare the OGR geometry built from
that XML content with the OGR geometry stored in the dedicated geometry
field of the feature. If both match, then the GML content stored in the
_xml suffixed field will be used, such as to preserve particularities
of the initial GML content. Otherwise GML will be exported from the OGR
geometry.</p>
<p>To increase export performance on very large databases, creating
attribute indexes on the fields pointed by the ‘layer_pkid_name’
attribute in ‘_ogr_layers_metadata’ might help.</p>
<div class="section" id="ogr2ogr-behavior">
<h3>ogr2ogr behavior<a class="headerlink" href="#ogr2ogr-behavior" title="Permalink to this headline">¶</a></h3>
<p>When using ogr2ogr / GDALVectorTranslate() to convert to XML/GML from a
source database, there are restrictions to the options that can be used.
Only the following options of ogr2ogr are supported:</p>
<ul class="simple">
<li><p>dataset creation options (see below)</p></li>
<li><p>layer names</p></li>
<li><p>spatial filter through -spat option.</p></li>
<li><p>attribute filter through -where option</p></li>
</ul>
<p>The effect of spatial and attribute filtering will only apply on
top-levels layers. Sub-features selected through joins will not be
affected by those filters.</p>
</div>
<div class="section" id="dataset-creation-options">
<h3>Dataset creation options<a class="headerlink" href="#dataset-creation-options" title="Permalink to this headline">¶</a></h3>
<p>The supported dataset creation options are:</p>
<ul class="simple">
<li><p><strong>INPUT_XSD</strong>=filename(s): to specify an explicit XSD application
schema to use (or a list of filenames, provided they are comma
separated). “<a class="reference external" href="http://">http://</a>” or “<a class="reference external" href="https://">https://</a>” URLs can be used. This option is
not required when the source dataset has a _ogr_other_metadata with
schemas and locations filled.</p></li>
<li><p><strong>CONFIG_FILE</strong>=filename or inline XML definition: filename of a
XML configuration file conforming to the
<a class="reference external" href="https://github.com/OSGeo/gdal/blob/master/gdal/data/gmlasconf.xsd">gmlasconf.xsd</a>
schema. It is also possible to provide the XML content directly
inlined provided that the very first characters are &lt;Configuration&gt;.</p></li>
<li><p><strong>LAYERS</strong>=layers. Comma separated list of layers to export as
top-level features. The special value “{SPATIAL_LAYERS}” can also be
used to specify all layers that have geometries. When LAYERS is not
specified, the driver will identify in the source dataset “top-level”
layers, and in those layers will find which features are not
referenced by other top-level layers.</p></li>
<li><p><strong>SRSNAME_FORMAT</strong>=SHORT/OGC_URN/OGC_URL (Only valid for GML 3
output) Defaults to OGC_URL. If SHORT, then srsName will be in the
form AUTHORITY_NAME:AUTHORITY_CODE If OGC_URN, then srsName will be
in the form <a class="reference external" href="urn:ogc:def:crs:AUTHORITY_NAME::AUTHORITY_CODE">urn:ogc:def:crs:AUTHORITY_NAME::AUTHORITY_CODE</a> If
OGC_URL, then srsName will be in the form
<a class="reference external" href="http://www.opengis.net/def/crs/AUTHORITY_NAME/0/AUTHORITY_CODE">http://www.opengis.net/def/crs/AUTHORITY_NAME/0/AUTHORITY_CODE</a> For
OGC_URN and OGC_URL, in the case the SRS is a SRS without explicit
AXIS order, but that the same SRS authority code imported with
ImportFromEPSGA() should be treated as lat/long or northing/easting,
then the function will take care of coordinate order swapping.</p></li>
<li><p><strong>INDENT_SIZE</strong>=[0-8]. Number of spaces for each indentation level.
Default is 2.</p></li>
<li><p><strong>COMMENT</strong>=string. Comment to add at top of generated XML file as
a XML comment.</p></li>
<li><p><strong>LINEFORMAT</strong>=CRLF/LF. End-of-line sequence to use. Defaults to
CRLF on Windows and LF on other platforms.</p></li>
<li><p><strong>WRAPPING</strong>=WFS2_FEATURECOLLECTION/GMLAS_FEATURECOLLECTION.
Whether to wrap features in a wfs:FeatureCollection or in a
ogr_gmlas:FeatureCollection. Defaults to WFS2_FEATURECOLLECTION.</p></li>
<li><p><strong>TIMESTAMP</strong>=XML date time. User-specified XML dateTime value for
timestamp to use in wfs:FeatureCollection attribute. If not
specified, current date time is used. Only valid for
WRAPPING=WFS2_FEATURECOLLECTION.</p></li>
<li><p><strong>WFS20_SCHEMALOCATION</strong>=Path or URL to wfs.xsd. Only valid for
WRAPPING=WFS2_FEATURECOLLECTION. Default is
“<a class="reference external" href="http://schemas.opengis.net/wfs/2.0/wfs.xsd">http://schemas.opengis.net/wfs/2.0/wfs.xsd</a>”</p></li>
<li><p><strong>GENERATE_XSD</strong>=YES/NO. Whether to generate a .xsd file that has
the structure of the wrapping ogr_gmlas:FeatureCollection /
ogr_gmlas:featureMember elements. Only valid for
WRAPPING=GMLAS_FEATURECOLLECTION. Default to YES.</p></li>
<li><p><strong>OUTPUT_XSD_FILENAME</strong>=string. Wrapping .xsd filename. If not
specified, same basename as output file with .xsd extension. Note
that it is possible to use this option even if GENERATE_XSD=NO, so
that the wrapping .xsd appear in the schemaLocation attribute of the
.xml file. Only valid for WRAPPING=GMLAS_FEATURECOLLECTION</p></li>
</ul>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Listing content of a data file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ogrinfo</span> <span class="o">-</span><span class="n">ro</span> <span class="n">GMLAS</span><span class="p">:</span><span class="n">my</span><span class="o">.</span><span class="n">gml</span>
</pre></div>
</div>
<p>Converting to PostGIS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ogr2ogr</span> <span class="o">-</span><span class="n">f</span> <span class="n">PostgreSQL</span> <span class="n">PG</span><span class="p">:</span><span class="s1">&#39;host=myserver dbname=warmerda&#39;</span> <span class="n">GMLAS</span><span class="p">:</span><span class="n">my</span><span class="o">.</span><span class="n">gml</span> <span class="o">-</span><span class="n">nlt</span> <span class="n">CONVERT_TO_LINEAR</span>
</pre></div>
</div>
<p>Converting to Spatialite and back to GML</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ogr2ogr</span> <span class="o">-</span><span class="n">f</span> <span class="n">SQLite</span> <span class="n">tmp</span><span class="o">.</span><span class="n">sqlite</span> <span class="n">GMLAS</span><span class="p">:</span><span class="ow">in</span><span class="o">.</span><span class="n">gml</span> <span class="o">-</span><span class="n">dsco</span> <span class="n">SPATILIATE</span><span class="o">=</span><span class="n">YES</span> <span class="o">-</span><span class="n">nlt</span> <span class="n">CONVERT_TO_LINEAR</span> <span class="o">-</span><span class="n">oo</span> <span class="n">EXPOSE_METADATA_LAYERS</span><span class="o">=</span><span class="n">YES</span>
<span class="n">ogr2ogr</span> <span class="o">-</span><span class="n">f</span> <span class="n">GMLAS</span> <span class="n">out</span><span class="o">.</span><span class="n">gml</span> <span class="n">tmp</span><span class="o">.</span><span class="n">sqlite</span>
</pre></div>
</div>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="gml.html#vector-gml"><span class="std std-ref">GML</span></a>: general purpose driver not requiring the
presence of schemas, but with limited support for complex features</p></li>
<li><p><a class="reference internal" href="nas.html#vector-nas"><span class="std std-ref">NAS/ALKIS</span></a>: specialized GML driver for cadastral
data in Germany</p></li>
</ul>
</div>
<div class="section" id="credits">
<h2>Credits<a class="headerlink" href="#credits" title="Permalink to this headline">¶</a></h2>
<p>Initial implementation has been funded by the European Union’s Earth
observation programme Copernicus, as part of the tasks delegated to the
European Environment Agency.</p>
<p>Development of special processing of some Sensor Web Enablement (SWE)
Common Data Model swe:DataRecord and swe:DataArray constructs has been
funded by Bureau des Recherches Géologiques et Minières (BRGM).</p>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gmlas_mapping_examples.html" class="btn btn-neutral float-right" title="GMLAS - Mapping examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="georss.html" class="btn btn-neutral float-left" title="GeoRSS : Geographically Encoded Objects for RSS feeds" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2020 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>