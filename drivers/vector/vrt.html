

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>VRT – Virtual Format &mdash; GDAL  documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://gdal.orgdrivers/vector/vrt.html"/>
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/gdal.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Walk - Walk Spatial Data" href="walk.html" />
    <link rel="prev" title="VFK - Czech Cadastral Exchange Data Format" href="vfk.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/gdalicon.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programs/index.html">Programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raster/index.html">Raster drivers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Vector drivers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="aeronavfaa.html">Aeronav FAA</a></li>
<li class="toctree-l2"><a class="reference internal" href="amigocloud.html">AmigoCloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="ao.html">ESRI ArcObjects</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgen.html">ARCGEN - Arc/Info Generate</a></li>
<li class="toctree-l2"><a class="reference internal" href="avcbin.html">Arc/Info Binary Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="avce00.html">Arc/Info E00 (ASCII) Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="bna.html">BNA - Atlas BNA</a></li>
<li class="toctree-l2"><a class="reference internal" href="cad.html">CAD – AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="carto.html">Carto</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloudant.html">Cloudant – Cloudant</a></li>
<li class="toctree-l2"><a class="reference internal" href="couchdb.html">CouchDB - CouchDB/GeoCouch</a></li>
<li class="toctree-l2"><a class="reference internal" href="csv.html">Comma Separated Value (.csv)</a></li>
<li class="toctree-l2"><a class="reference internal" href="csw.html">CSW - OGC CSW (Catalog Service for the Web)</a></li>
<li class="toctree-l2"><a class="reference internal" href="db2.html">DB2 Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgn.html">Microstation DGN</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgnv8.html">Microstation DGN v8</a></li>
<li class="toctree-l2"><a class="reference internal" href="dods.html">DODS/OPeNDAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="dwg.html">AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="dxf.html">AutoCAD DXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="eeda.html">Google Earth Engine Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="edigeo.html">EDIGEO</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticsearch.html">Elasticsearch: Geographically Encoded Objects for Elasticsearch</a></li>
<li class="toctree-l2"><a class="reference internal" href="esrijson.html">ESRIJSON / FeatureService driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="filegdb.html">ESRI File Geodatabase (FileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="flatgeobuf.html">FlatGeobuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="fme.html">FMEObjects Gateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="geoconcept.html">GeoConcept text export</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojson.html">GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojsonseq.html">GeoJSONSeq: sequence of GeoJSON features</a></li>
<li class="toctree-l2"><a class="reference internal" href="geomedia.html">Geomedia MDB database</a></li>
<li class="toctree-l2"><a class="reference internal" href="georss.html">GeoRSS : Geographically Encoded Objects for RSS feeds</a></li>
<li class="toctree-l2"><a class="reference internal" href="gmlas.html">GMLAS - Geography Markup Language (GML) driven by application schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="gml.html">GML - Geography Markup Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="gmt.html">GMT ASCII Vectors (.gmt)</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpkg.html">GPKG – GeoPackage vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpsbabel.html">GPSBabel</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpx.html">GPX - GPS Exchange Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="grass.html">GRASS Vector Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="gtm.html">GTM - GPS TrackMaker</a></li>
<li class="toctree-l2"><a class="reference internal" href="htf.html">HTF - Hydrographic Transfer Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="idb.html">IDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="idrisi.html">Idrisi Vector (.VCT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ili.html">“INTERLIS 1” and “INTERLIS 2” drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="ingres.html">INGRES</a></li>
<li class="toctree-l2"><a class="reference internal" href="jml.html">JML: OpenJUMP JML format</a></li>
<li class="toctree-l2"><a class="reference internal" href="kml.html">KML - Keyhole Markup Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="libkml.html">LIBKML Driver (.kml .kmz)</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapml.html">MapML</a></li>
<li class="toctree-l2"><a class="reference internal" href="mdb.html">Access MDB databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">Memory</a></li>
<li class="toctree-l2"><a class="reference internal" href="mitab.html">MapInfo TAB and MIF/MID</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodb.html">MongoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodbv3.html">MongoDBv3</a></li>
<li class="toctree-l2"><a class="reference internal" href="mssqlspatial.html">MSSQLSpatial - Microsoft SQL Server Spatial Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="mvt.html">MVT: Mapbox Vector Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="nas.html">NAS - ALKIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="netcdf.html">NetCDF: Network Common Data Form - Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="ngw.html">NGW – NextGIS Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntf.html">UK .NTF</a></li>
<li class="toctree-l2"><a class="reference internal" href="oapif.html">OGC API - Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="oci.html">Oracle Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="odbc.html">ODBC RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="ods.html">ODS - Open Document Spreadsheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="ogdi.html">OGDI Vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="openair.html">OpenAir - OpenAir Special Use Airspace Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="openfilegdb.html">ESRI File Geodatabase (OpenFileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="osm.html">OSM - OpenStreetMap XML and PBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdf.html">PDF – Geospatial PDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="pds.html">PDS - Planetary Data Systems TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgdump.html">PostgreSQL SQL Dump</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgeo.html">ESRI Personal GeoDatabase</a></li>
<li class="toctree-l2"><a class="reference internal" href="pg.html">PostgreSQL / PostGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="plscenes.html">PLScenes (Planet Labs Scenes/Catalog API)</a></li>
<li class="toctree-l2"><a class="reference internal" href="s57.html">IHO S-57 (ENC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="sde.html">ESRI ArcSDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="sdts.html">SDTS</a></li>
<li class="toctree-l2"><a class="reference internal" href="segukooa.html">SEG-P1 / UKOOA P1/90</a></li>
<li class="toctree-l2"><a class="reference internal" href="segy.html">SEG-Y / SEGY</a></li>
<li class="toctree-l2"><a class="reference internal" href="selafin.html">Selafin files</a></li>
<li class="toctree-l2"><a class="reference internal" href="shapefile.html">ESRI Shapefile / DBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="sosi.html">Norwegian SOSI Standard</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlite.html">SQLite / Spatialite RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="sua.html">SUA - Tim Newport-Peace’s Special Use Airspace Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="svg.html">SVG - Scalable Vector Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="sxf.html">Storage and eXchange Format - SXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="tiger.html">U.S. Census TIGER/Line</a></li>
<li class="toctree-l2"><a class="reference internal" href="topojson.html">TopoJSON driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="vdv.html">VDV - VDV-451/VDV-452/INTREST Data Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="vfk.html">VFK - Czech Cadastral Exchange Data Format</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">VRT – Virtual Format</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#driver-capabilities">Driver capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creation-issues">Creation Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#virtual-file-format">Virtual File Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-odbc-point-layer">Example: ODBC Point Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-renaming-attributes">Example: Renaming attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-transparent-spatial-filtering-gdal-1-7-0">Example: Transparent spatial filtering (GDAL &gt;= 1.7.0)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-reprojected-layer-gdal-1-10-0">Example: Reprojected layer (GDAL &gt;= 1.10.0)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-union-layer-gdal-1-10-0">Example: Union layer (GDAL &gt;= 1.10.0)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-sqlite-spatialite-sql-dialect-gdal-1-10-0">Example: SQLite/Spatialite SQL dialect (GDAL &gt;=1.10.0)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-multiple-geometry-fields-gdal-1-11">Example: Multiple geometry fields (GDAL &gt;= 1.11)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-notes">Other Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="walk.html">Walk - Walk Spatial Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="wasp.html">WAsP - WAsP .map format</a></li>
<li class="toctree-l2"><a class="reference internal" href="wfs.html">WFS - OGC WFS service</a></li>
<li class="toctree-l2"><a class="reference internal" href="xls.html">XLS - MS Excel format</a></li>
<li class="toctree-l2"><a class="reference internal" href="xlsx.html">XLSX - MS Office Open XML spreadsheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="xplane.html">X-Plane/Flightgear aeronautical data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">How to contribute?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GDAL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html"> GDAL  documentation </a> &raquo;</li>
      
          <li><a href="index.html">Vector drivers</a> &raquo;</li>
      
      <li>VRT – Virtual Format</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/edit//master/gdal/doc/source/drivers/vector/vrt.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="walk.html" class="btn btn-neutral float-right" title="Walk - Walk Spatial Data" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="vfk.html" class="btn btn-neutral float-left" title="VFK - Czech Cadastral Exchange Data Format" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="vrt-virtual-format">
<span id="vector-vrt"></span><h1>VRT – Virtual Format<a class="headerlink" href="#vrt-virtual-format" title="Permalink to this headline">¶</a></h1>
<div class="admonition shortname" id="shortname-0">
<p class="admonition-title">Driver short name</p>
<p>VRT</p>
</div>
<div class="admonition built_in_by_default" id="built_in_by_default-0">
<p class="admonition-title">Driver built-in by default</p>
<p>This driver is built-in by default</p>
</div>
<p>OGR Virtual Format is a driver that transforms features read from other
drivers based on criteria specified in an XML control file. It is
primarily used to derive spatial layers from flat tables with spatial
information in attribute columns. It can also be used to associate
coordinate system information with a datasource, merge layers from
different datasources into a single data source, or even just to provide
an anchor file for access to non-file oriented datasources.</p>
<p>The virtual files are currently normally prepared by hand.</p>
<div class="section" id="driver-capabilities">
<h2>Driver capabilities<a class="headerlink" href="#driver-capabilities" title="Permalink to this headline">¶</a></h2>
<div class="admonition supports_create" id="supports_create-0">
<p class="admonition-title">Supports Create()</p>
<p>This driver supports the <a class="reference internal" href="../../api/gdaldriver_cpp.html#_CPPv4N10GDALDriver6CreateEPKciii12GDALDataTypePPc" title="GDALDriver::Create"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALDriver::Create()</span></code></a> operation</p>
</div>
<div class="admonition supports_georeferencing" id="supports_georeferencing-0">
<p class="admonition-title">Supports Georeferencing</p>
<p>This driver supports georeferencing</p>
</div>
<div class="admonition supports_virtualio" id="supports_virtualio-0">
<p class="admonition-title">Supports VirtualIO</p>
<p>This driver supports <a class="reference internal" href="../../user/virtual_file_systems.html#virtual-file-systems"><span class="std std-ref">virtual I/O operations (/vsimem/, etc.)</span></a></p>
</div>
</div>
<div class="section" id="creation-issues">
<h2>Creation Issues<a class="headerlink" href="#creation-issues" title="Permalink to this headline">¶</a></h2>
<p>The CreateFeature(), SetFeature() and DeleteFeature()
operations are supported on a layer of a VRT dataset, if the following
conditions are met :</p>
<ul class="simple">
<li><p>the VRT dataset is opened in update mode</p></li>
<li><p>the underlying source layer supports those operations</p></li>
<li><p>the <em>SrcLayer</em> element is used (as opposed to the <em>SrcSQL</em> element)</p></li>
<li><p>the FID of the VRT features is the same as the FID of the source
features, that is to say, the <em>FID</em> element is not specified</p></li>
</ul>
</div>
<div class="section" id="virtual-file-format">
<h2>Virtual File Format<a class="headerlink" href="#virtual-file-format" title="Permalink to this headline">¶</a></h2>
<p>The root element of the XML control file is <strong>OGRVRTDataSource</strong>. It has
an <strong>OGRVRTLayer</strong> (or <strong>OGRVRTWarpedLayer</strong> or <strong>OGRVRTUnionLayer</strong>
starting with GDAL 1.10.0) child for each layer in the virtual
datasource, and a <strong>Metadata</strong> element.</p>
<p>A <a class="reference external" href="https://github.com/OSGeo/gdal/blob/master/gdal/data/ogrvrt.xsd">XML schema of the OGR VRT
format</a> is
available. Starting with GDAL 1.11, when GDAL is configured with libXML2
support, that schema will be used to validate the VRT documents.
Non-conformities will be reported only as warnings. That validation can
be disabled by setting the GDAL_XML_VALIDATION configuration option to
NO.</p>
<p><strong>Metadata</strong> (optional): (GDAL &gt;= 2.0) This element contains a list of
metadata name/value pairs associated with the dataset as a whole. It has
&lt;MDI&gt; (metadata item) subelements which have a “key” attribute and the
value as the data of the element. The Metadata element can be repeated
multiple times, in which case it must be accompanied with a “domain”
attribute to indicate the name of the metadata domain.</p>
<p>A <strong>OGRVRTLayer</strong> element should have a <strong>name</strong> attribute with the
layer name, and may have the following subelements:</p>
<p><strong>SrcDataSource</strong> (mandatory): The value is the name of the datasource
that this layer will be derived from. The element may optionally have a
<strong>relativeToVRT</strong> attribute which defaults to “0”, but if “1” indicates
that the source datasource should be interpreted as relative to the
virtual file. This can be any OGR supported dataset, including ODBC,
CSV, etc. The element may also have a <strong>shared</strong> attribute to control
whether the datasource should be opened in shared mode. Defaults to OFF
for SrcLayer use and ON for SrcSQL use.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>OpenOptions</strong> (optional): (GDAL &gt;= 2.0) This element may list a number
of open options as child elements of the form &lt;OOI
key=”key_name”&gt;value_name&lt;/OOI&gt;</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>Metadata</strong> (optional): (GDAL &gt;= 2.0) This element contains a list of
metadata name/value pairs associated with the layer as a whole. It has
&lt;MDI&gt; (metadata item) subelements which have a “key” attribute and the
value as the data of the element. The Metadata element can be repeated
multiple times, in which case it must be accompanied with a “domain”
attribute to indicate the name of the metadata domain.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>SrcLayer</strong> (optional): The value is the name of the layer on the
source data source from which this virtual layer should be derived. If
this element isn’t provided, then the SrcSQL element must be provided.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>SrcSQL</strong> (optional): An SQL statement to execute to generate the
desired layer result. This should be provided instead of the SrcLayer
for statement derived results. Some limitations may apply for SQL
derived layers. Starting with OGR 1.10, an optional <strong>dialect</strong>
attribute can be specified on the SrcSQL element to specify which SQL
“dialect” should be used : possible values are currently
<a class="reference internal" href="../../user/ogr_sql_dialect.html#ogr-sql-dialect"><span class="std std-ref">OGR SQL</span></a> or <a class="reference internal" href="../../user/sql_sqlite_dialect.html#sql-sqlite-dialect"><span class="std std-ref">SQLITE</span></a>. If <em>dialect</em> is not specified, the default
dialect of the datasource will be used.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="line-block">
<div class="line"><strong>FID</strong> (optional): Name of the source attribute column from which the
FID of features should be derived. If not provided, the FID of the
source features will be used directly.</div>
</div>
<ul>
<li><p>Logic for GDAL &gt;= 2.4: Different situations are possible:</p>
<ul>
<li><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">FID</span><span class="o">&gt;</span><span class="n">source_field_name</span><span class="o">&lt;/</span><span class="n">FID</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>A FID column will be reported as source_field_name with the
content of source field source_field_name.</p>
</li>
<li><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">FID</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;dest_field_name&quot;</span><span class="o">&gt;</span><span class="n">source_field_name</span><span class="o">&lt;/</span><span class="n">FID</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>A FID column will be reported as dest_field_name with the content
of source field source_field_name. dest_field_name can potentially
be set to the empty string.</p>
</li>
<li><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">FID</span> <span class="o">/&gt;</span>
</pre></div>
</div>
<p>No FID column is reported. The FID value of VRT features is the
FID value of the source features.</p>
</li>
<li><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">FID</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;dest_field_name&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>A FID column will be reported as dest_field_name with the content
of the implicit source FID column. The FID value of VRT features
is the FID value of the source features.</p>
</li>
</ul>
</li>
<li><p>Logic for GDAL &lt; 2.4: The layer will report the FID column name only
if it is also reported as a regular field. Starting with GDAL 2.0, a
“name” attribute can be specified on the FID element so that the FID
column name is always reported.</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>Style</strong> (optional): Name of the attribute column from which the style
of features should be derived. If not provided, the style of the source
features will be used directly.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>GeometryType</strong> (optional): The geometry type to be assigned to the
layer. If not provided it will be taken from the source layer. The value
should be one of “wkbNone”, “wkbUnknown”, “wkbPoint”, “wkbLineString”,
“wkbPolygon”, “wkbMultiPoint”, “wkbMultiLineString”, “wkbMultiPolygon”,
or “wkbGeometryCollection”. Optionally “25D” may be appended to mark it
as including Z coordinates. Defaults to “wkbUnknown” indicating that any
geometry type is allowed.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>LayerSRS</strong> (optional): The value of this element is the spatial
reference to use for the layer. If not provided, it is inherited from
the source layer. The value may be WKT or any other input that is
accepted by the OGRSpatialReference::SetUserInput() method. If the value
is NULL, then no SRS will be used for the layer.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="line-block">
<div class="line"><strong>GeometryField</strong> (optional): This element is used to define how the
geometry for features should be derived.</div>
<div class="line">If not provided the geometry of the source feature is copied directly.</div>
<div class="line">The type of geometry encoding is indicated with the <strong>encoding</strong>
attribute which may have the value “WKT”, “WKB” or “PointFromColumns”.</div>
<div class="line">If the encoding is “WKT” or “WKB” then the <strong>field</strong> attribute will
have the name of the field containing the WKT or WKB geometry.</div>
<div class="line">If the encoding is “PointFromColumns” then the <strong>x</strong>, <strong>y</strong>, <strong>z</strong> and
<strong>m</strong> attributes will have the names of the columns to be used for the
X, Y, Z and M coordinates. The <strong>z</strong> and <strong>m</strong> attributes are optional
(m only supported since OGR 2.1.1).</div>
<div class="line">The optional <strong>reportSrcColumn</strong> attribute can be used to specify
whether the source geometry fields (the fields set in the <strong>field</strong>,
<strong>x</strong>, <strong>y</strong>, <strong>z</strong>, <strong>m</strong> attributes) should be reported as fields of
the VRT layer. It defaults to TRUE. If set to FALSE, the source
geometry fields will only be used to build the geometry of the
features of the VRT layer.</div>
</div>
<p>Starting with OGR 1.11, the GeometryField element can be repeated as
many times as necessary to create multiple geometry fields. It accepts a
<strong>name</strong> attribute (recommended) that will be used to define the VRT
geometry field name. When <strong>encoding</strong> is not specified, the <strong>field</strong>
attribute will be used to determine the corresponding geometry field
name in the source layer. If neither <strong>encoding</strong> nor <strong>field</strong> are
specified, it is assumed that the name of source geometry field is the
value of the <strong>name</strong> attribute.</p>
<p>Starting with GDAL 2.0, the optional <strong>nullable</strong> attribute can be used
to specify whether the geometry field is nullable. It defaults to
“true”.</p>
<p>When several geometry fields are used, the following child elements of
<strong>GeometryField</strong> can be defined to explicitly set the geometry type,
SRS, source region, or extent.</p>
<ul class="simple">
<li><p><strong>GeometryType</strong> (optional) : same syntax as OGRVRTLayer-level
<strong>GeometryType</strong>.</p></li>
<li><p><strong>SRS</strong> (optional) : same syntax as OGRVRTLayer-level <strong>LayerSRS</strong>
(note SRS vs LayerSRS)</p></li>
<li><p><strong>SrcRegion</strong> (optional) : same syntax as OGRVRTLayer-level
<strong>SrcRegion</strong></p></li>
<li><p><strong>ExtentXMin</strong>, <strong>ExtentYMin</strong>, <strong>ExtentXMax</strong> and <strong>ExtentXMax</strong>
(optional) : same syntax as OGRVRTLayer-level elements of same name</p></li>
</ul>
<p>If no <strong>GeometryField</strong> element is specified, all the geometry fields of
the source layer will be exposed by the VRT layer. In order not to
expose any geometry field of the source layer, you need to specify
OGRVRTLayer-level <strong>GeometryType</strong> element to wkbNone.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>SrcRegion</strong> (optional, from GDAL 1.7.0) : This element is used to
define an initial spatial filter for the source features. This spatial
filter will be combined with any spatial filter explicitly set on the
VRT layer with the SetSpatialFilter() method. The value of the element
must be a valid WKT string defining a polygon. An optional <strong>clip</strong>
attribute can be set to “TRUE” to clip the geometries to the source
region, otherwise the source geometries are not modified.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>Field</strong> (optional, from GDAL 1.7.0): One or more attribute fields may
be defined with Field elements. If no Field elements are defined, the
fields of the source layer/sql will be defined on the VRT layer. The
Field may have the following attributes:</p>
<ul class="simple">
<li><p><strong>name</strong> (required): the name of the field.</p></li>
<li><p><strong>type</strong>: the field type, one of “Integer”, “IntegerList”, “Real”,
“RealList”, “String”, “StringList”, “Binary”, “Date”, “Time”, or
“DateTime”. Defaults to “String”.</p></li>
<li><p><strong>subtype</strong>: (GDAL &gt;= 2.0) the field subtype, one of “None”,
“Boolean”, “Int16”, “Float32”. Defaults to “None”.</p></li>
<li><p><strong>width</strong>: the field width. Defaults to unknown.</p></li>
<li><p><strong>precision</strong>: the field width. Defaults to zero.</p></li>
<li><p><strong>src</strong>: the name of the source field to be copied to this one.
Defaults to the value of “name”.</p></li>
<li><p><strong>nullable</strong> (GDAL &gt;= 2.0) can be used to specify whether the field
is nullable. It defaults to “true”.</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>FeatureCount</strong> (optional, from GDAL 1.10.0) : This element is used to
define the feature count of the layer (when no spatial or attribute
filter is set). This can be useful on static data, when getting the
feature count from the source layer is slow.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>ExtentXMin</strong>, <strong>ExtentYMin</strong>, <strong>ExtentXMax</strong> and <strong>ExtentXMax</strong>
(optional, from GDAL 1.10.0) : Those elements are used to define the
extent of the layer. This can be useful on static data, when getting the
extent from the source layer is slow.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>A <strong>OGRVRTWarpedLayer</strong> element (GDAL &gt;= 1.10.0) is used to do
on-the-fly reprojection of a source layer. It may have the following
subelements:</p>
<ul class="simple">
<li><p><strong>OGRVRTLayer</strong>, <strong>OGRVRTWarpedLayer</strong> or <strong>OGRVRTUnionLayer</strong>
(mandatory): the source layer to reproject.</p></li>
<li><p><strong>SrcSRS</strong> (optional): The value of this element is the spatial
reference to use for the layer before reprojection. If not specified,
it is deduced from the source layer.</p></li>
<li><p><strong>TargetSRS</strong> (mandatory): The value of this element is the spatial
reference to use for the layer after reprojection.</p></li>
<li><p><strong>ExtentXMin</strong>, <strong>ExtentYMin</strong>, <strong>ExtentXMax</strong> and <strong>ExtentXMax</strong>
(optional, from GDAL 1.10.0) : Those elements are used to define the
extent of the layer. This can be useful on static data, when getting
the extent from the source layer is slow.</p></li>
<li><p><strong>WarpedGeomFieldName</strong> (optional, from GDAL 1.11) : The value of
this element is the geometry field name of the source layer to wrap.
If not specified, the first geometry field will be used. If there are
several geometry fields, only the one matching WarpedGeomFieldName
will be warped; the other ones will be untouched.</p></li>
</ul>
<p>A <strong>OGRVRTUnionLayer</strong> element (GDAL &gt;= 1.10.0) is used to concatenate
the content of source layers. It should have a <strong>name</strong> and may have the
following subelements:</p>
<ul class="simple">
<li><p><strong>OGRVRTLayer</strong>, <strong>OGRVRTWarpedLayer</strong> or <strong>OGRVRTUnionLayer</strong>
(mandatory and may be repeated): a source layer to add in the union.</p></li>
<li><p><strong>PreserveSrcFID</strong> (optional) : may be ON or OFF. If set to ON, the
FID from the source layer will be used, otherwise a counter will be
used. Defaults to OFF.</p></li>
<li><p><strong>SourceLayerFieldName</strong> (optional) : if specified, an additional
field (named with the value of SourceLayerFieldName) will be added in
the layer field definition. For each feature, the value of this field
will be set with the name of the layer from which the feature comes
from.</p></li>
<li><p><strong>GeometryType</strong> (optional) : see above for the syntax. If not
specified, the geometry type will be deduced from the geometry type
of all source layers.</p></li>
<li><p><strong>LayerSRS</strong> (optional) : see above for the syntax. If not specified,
the SRS will be the SRS of the first source layer.</p></li>
<li><p><strong>FieldStrategy</strong> (optional, exclusive with <strong>Field</strong> or
<strong>GeometryField</strong>) : may be <strong>FirstLayer</strong> to use the fields from the
first layer found, <strong>Union</strong> to use a super-set of all the fields
from all source layers, or <strong>Intersection</strong> to use a sub-set of all
the common fields from all source layers. Defaults to <strong>Union</strong>.</p></li>
<li><p><strong>Field</strong> (optional, exclusive with <strong>FieldStrategy</strong>) : see above
for the syntax. Note: the src attribute is not supported in the
context of a OGRVRTUnionLayer element (field names are assumed to be
identical).</p></li>
<li><p><strong>GeometryField</strong> (optional, exclusive with <strong>FieldStrategy</strong>, GDAL
&gt;= 1.11) : the <strong>name</strong> attribute and the following sub-elements
<strong>GeometryType</strong>, <strong>SRS</strong> and <strong>Extent[X|Y][Min|Max]</strong> are available.</p></li>
<li><p><strong>FeatureCount</strong> (optional) : see above for the syntax</p></li>
<li><p><strong>ExtentXMin</strong>, <strong>ExtentYMin</strong>, <strong>ExtentXMax</strong> and <strong>ExtentXMax</strong>
(optional) : see above for the syntax</p></li>
</ul>
</div>
<div class="section" id="example-odbc-point-layer">
<h2>Example: ODBC Point Layer<a class="headerlink" href="#example-odbc-point-layer" title="Permalink to this headline">¶</a></h2>
<p>In the following example (disease.ovf) the worms table from the ODBC
database DISEASE is used to form a spatial layer. The virtual file uses
the “x” and “y” columns to get the spatial location. It also marks the
layer as a point layer, and as being in the WGS84 coordinate system.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;worms&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">ODBC</span><span class="p">:</span><span class="n">DISEASE</span><span class="p">,</span><span class="n">worms</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">SrcLayer</span><span class="o">&gt;</span><span class="n">worms</span><span class="o">&lt;/</span><span class="n">SrcLayer</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">GeometryType</span><span class="o">&gt;</span><span class="n">wkbPoint</span><span class="o">&lt;/</span><span class="n">GeometryType</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">LayerSRS</span><span class="o">&gt;</span><span class="n">WGS84</span><span class="o">&lt;/</span><span class="n">LayerSRS</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">GeometryField</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;PointFromColumns&quot;</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;x&quot;</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span>

<span class="o">&lt;/</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="example-renaming-attributes">
<h2>Example: Renaming attributes<a class="headerlink" href="#example-renaming-attributes" title="Permalink to this headline">¶</a></h2>
<p>It can be useful in some circumstances to be able to rename the field
names from a source layer to other names. This is particularly true when
you want to transcode to a format whose schema is fixed, such as GPX
(&lt;name&gt;, &lt;desc&gt;, etc.). This can be accomplished using SQL this way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;remapped_layer&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">your_source</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcSQL</span><span class="o">&gt;</span><span class="n">SELECT</span> <span class="n">src_field_1</span> <span class="n">AS</span> <span class="n">name</span><span class="p">,</span> <span class="n">src_field_2</span> <span class="n">AS</span> <span class="n">desc</span> <span class="n">FROM</span> <span class="n">your_source_layer_name</span><span class="o">&lt;/</span><span class="n">SrcSQL</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This can also be accomplished (from GDAL 1.7.0) using explicit field
definitions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;remapped_layer&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">your_source</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcLayer</span><span class="o">&gt;</span><span class="n">your_source</span><span class="o">&lt;/</span><span class="n">SrcLayer</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">Field</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;src_field_1&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">Field</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;desc&quot;</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;src_field_2&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;String&quot;</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;45&quot;</span> <span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="example-transparent-spatial-filtering-gdal-1-7-0">
<h2>Example: Transparent spatial filtering (GDAL &gt;= 1.7.0)<a class="headerlink" href="#example-transparent-spatial-filtering-gdal-1-7-0" title="Permalink to this headline">¶</a></h2>
<p>The following example will only return features from the source layer
that intersect the (0,40)-(10,50) region. Furthermore, returned
geometries will be clipped to fit into that region.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;source&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">source</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcRegion</span> <span class="n">clip</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span><span class="n">POLYGON</span><span class="p">((</span><span class="mi">0</span> <span class="mi">40</span><span class="p">,</span><span class="mi">10</span> <span class="mi">40</span><span class="p">,</span><span class="mi">10</span> <span class="mi">50</span><span class="p">,</span><span class="mi">0</span> <span class="mi">50</span><span class="p">,</span><span class="mi">0</span> <span class="mi">40</span><span class="p">))</span><span class="o">&lt;/</span><span class="n">SrcRegion</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="example-reprojected-layer-gdal-1-10-0">
<h2>Example: Reprojected layer (GDAL &gt;= 1.10.0)<a class="headerlink" href="#example-reprojected-layer-gdal-1-10-0" title="Permalink to this headline">¶</a></h2>
<p>The following example will return the source.shp layer reprojected to
EPSG:4326.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">OGRVRTWarpedLayer</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;source&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">source</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">TargetSRS</span><span class="o">&gt;</span><span class="n">EPSG</span><span class="p">:</span><span class="mi">4326</span><span class="o">&lt;/</span><span class="n">TargetSRS</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">OGRVRTWarpedLayer</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="example-union-layer-gdal-1-10-0">
<h2>Example: Union layer (GDAL &gt;= 1.10.0)<a class="headerlink" href="#example-union-layer-gdal-1-10-0" title="Permalink to this headline">¶</a></h2>
<p>The following example will return a layer that is the concatenation of
source1.shp and source2.shp.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">OGRVRTUnionLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;unionLayer&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;source1&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">source1</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;source2&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">source2</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">OGRVRTUnionLayer</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="example-sqlite-spatialite-sql-dialect-gdal-1-10-0">
<h2>Example: SQLite/Spatialite SQL dialect (GDAL &gt;=1.10.0)<a class="headerlink" href="#example-sqlite-spatialite-sql-dialect-gdal-1-10-0" title="Permalink to this headline">¶</a></h2>
<p>The following example will return four different layers which are
generated in a fly from the same polygon shapefile. The first one is the
shapefile layer as it stands. The second layer gives simplified polygons
by applying SpatiaLite function “Simplify” with parameter tolerance=10.
In the third layer the original geometries are replaced by their convex
hulls. In the fourth layer SpatiaLite function PointOnSurface is used
for replacing the original geometries by points which are inside the
corresponding source polygons. Note that for using the last three layers
of this VRT file GDAL must be compiled with SQLite and SpatiaLite.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;polygons&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">polygons</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;polygons_as_simplified&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">polygons</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcSQL</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;sqlite&quot;</span><span class="o">&gt;</span><span class="n">SELECT</span> <span class="n">Simplify</span><span class="p">(</span><span class="n">geometry</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">polygons</span><span class="o">&lt;/</span><span class="n">SrcSQL</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;polygons_as_hulls&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">polygons</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcSQL</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;sqlite&quot;</span><span class="o">&gt;</span><span class="n">SELECT</span> <span class="n">ConvexHull</span><span class="p">(</span><span class="n">geometry</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">polygons</span><span class="o">&lt;/</span><span class="n">SrcSQL</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;polygons_as_points&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">polygons</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcSQL</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;sqlite&quot;</span><span class="o">&gt;</span><span class="n">SELECT</span> <span class="n">PointOnSurface</span><span class="p">(</span><span class="n">geometry</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">polygons</span><span class="o">&lt;/</span><span class="n">SrcSQL</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="example-multiple-geometry-fields-gdal-1-11">
<h2>Example: Multiple geometry fields (GDAL &gt;= 1.11)<a class="headerlink" href="#example-multiple-geometry-fields-gdal-1-11" title="Permalink to this headline">¶</a></h2>
<p>The following example will expose all the attribute and geometry fields
of the source layer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">PG</span><span class="p">:</span><span class="n">dbname</span><span class="o">=</span><span class="n">testdb</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>To expose only part (or all!) of the fields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;other_test&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">PG</span><span class="p">:</span><span class="n">dbname</span><span class="o">=</span><span class="n">testdb</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">SrcLayer</span><span class="o">&gt;</span><span class="n">test</span><span class="o">&lt;/</span><span class="n">SrcLayer</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">GeometryField</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;pg_geom_field_1&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">GeometryField</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;vrt_geom_field_2&quot;</span> <span class="n">field</span><span class="o">=</span><span class="s2">&quot;pg_geom_field_2&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">GeometryType</span><span class="o">&gt;</span><span class="n">wkbPolygon</span><span class="o">&lt;/</span><span class="n">GeometryType</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">SRS</span><span class="o">&gt;</span><span class="n">EPSG</span><span class="p">:</span><span class="mi">4326</span><span class="o">&lt;/</span><span class="n">SRS</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ExtentXMin</span><span class="o">&gt;-</span><span class="mi">180</span><span class="o">&lt;/</span><span class="n">ExtentXMin</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ExtentYMin</span><span class="o">&gt;-</span><span class="mi">90</span><span class="o">&lt;/</span><span class="n">ExtentYMin</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ExtentXMax</span><span class="o">&gt;</span><span class="mi">180</span><span class="o">&lt;/</span><span class="n">ExtentXMax</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ExtentYMax</span><span class="o">&gt;</span><span class="mi">90</span><span class="o">&lt;/</span><span class="n">ExtentYMax</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">GeometryField</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">Field</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;vrt_field_1&quot;</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;src_field_1&quot;</span> <span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span><span class="n">w</span>
<span class="o">&lt;/</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>To reproject the ‘pg_geom_field_2’ geometry field to EPSG:4326:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">OGRVRTWarpedLayer</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;other_test&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">PG</span><span class="p">:</span><span class="n">dbname</span><span class="o">=</span><span class="n">testdb</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">WarpedGeomFieldName</span><span class="o">&gt;</span><span class="n">pg_geom_field_2</span><span class="o">&lt;/</span><span class="n">WarpedGeomFieldName</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">TargetSRS</span><span class="o">&gt;</span><span class="n">EPSG</span><span class="p">:</span><span class="mi">32631</span><span class="o">&lt;/</span><span class="n">TargetSRS</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">OGRVRTWarpedLayer</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>To make the union of several multi-geometry layers and keep only a few
of them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">OGRVRTUnionLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;unionLayer&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;source1&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">PG</span><span class="p">:</span><span class="n">dbname</span><span class="o">=</span><span class="n">testdb</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">OGRVRTLayer</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;source2&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">SrcDataSource</span><span class="o">&gt;</span><span class="n">PG</span><span class="p">:</span><span class="n">dbname</span><span class="o">=</span><span class="n">testdb</span><span class="o">&lt;/</span><span class="n">SrcDataSource</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">OGRVRTLayer</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">GeometryField</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;pg_geom_field_2&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">GeometryType</span><span class="o">&gt;</span><span class="n">wkbPolygon</span><span class="o">&lt;/</span><span class="n">GeometryType</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">SRS</span><span class="o">&gt;</span><span class="n">EPSG</span><span class="p">:</span><span class="mi">4326</span><span class="o">&lt;/</span><span class="n">SRS</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ExtentXMin</span><span class="o">&gt;-</span><span class="mi">180</span><span class="o">&lt;/</span><span class="n">ExtentXMin</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ExtentYMin</span><span class="o">&gt;-</span><span class="mi">90</span><span class="o">&lt;/</span><span class="n">ExtentYMin</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ExtentXMax</span><span class="o">&gt;</span><span class="mi">180</span><span class="o">&lt;/</span><span class="n">ExtentXMax</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ExtentYMax</span><span class="o">&gt;</span><span class="mi">90</span><span class="o">&lt;/</span><span class="n">ExtentYMax</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">GeometryField</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">GeometryField</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;pg_geom_field_3&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">Field</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;src_field_1&quot;</span> <span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="n">OGRVRTUnionLayer</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">OGRVRTDataSource</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="other-notes">
<h2>Other Notes<a class="headerlink" href="#other-notes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>When the <em>GeometryField</em> is “WKT” spatial filtering is applied after
extracting all rows from the source datasource. Essentially that
means there is no fast spatial filtering on WKT derived geometries.</p></li>
<li><p>When the <em>GeometryField</em> is “PointFromColumns”, and a <em>SrcLayer</em> (as
opposed to <em>SrcSQL</em>) is used, and a spatial filter is in effect on
the virtual layer then the spatial filter will be internally
translated into an attribute filter on the X and Y columns in the
<em>SrcLayer</em>. In cases where fast spatial filtering is important it can
be helpful to index the X and Y columns in the source datastore, if
that is possible. For instance if the source is an RDBMS. You can
turn off that feature by setting the <em>useSpatialSubquery</em> attribute
of the GeometryField element to FALSE.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="walk.html" class="btn btn-neutral float-right" title="Walk - Walk Spatial Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="vfk.html" class="btn btn-neutral float-left" title="VFK - Czech Cadastral Exchange Data Format" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2020 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>