

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>GML - Geography Markup Language &mdash; GDAL  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/gdal.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  
  
  
    <link rel="canonical" href="https://gdal.orgdrivers/vector/gml.html"/>
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="GMT ASCII Vectors (.gmt)" href="gmt.html" />
    <link rel="prev" title="GMLAS - Metadata layers" href="gmlas_metadata_layers.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/gdalicon.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programs/index.html">Programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raster/index.html">Raster drivers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Vector drivers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="aeronavfaa.html">Aeronav FAA</a></li>
<li class="toctree-l2"><a class="reference internal" href="amigocloud.html">AmigoCloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="ao.html">ESRI ArcObjects</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgen.html">ARCGEN - Arc/Info Generate</a></li>
<li class="toctree-l2"><a class="reference internal" href="avcbin.html">Arc/Info Binary Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="avce00.html">Arc/Info E00 (ASCII) Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="bna.html">BNA - Atlas BNA</a></li>
<li class="toctree-l2"><a class="reference internal" href="cad.html">CAD – AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="carto.html">Carto</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloudant.html">Cloudant – Cloudant</a></li>
<li class="toctree-l2"><a class="reference internal" href="couchdb.html">CouchDB - CouchDB/GeoCouch</a></li>
<li class="toctree-l2"><a class="reference internal" href="csv.html">Comma Separated Value (.csv)</a></li>
<li class="toctree-l2"><a class="reference internal" href="csw.html">CSW - OGC CSW (Catalog Service for the Web)</a></li>
<li class="toctree-l2"><a class="reference internal" href="db2.html">DB2 Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgn.html">Microstation DGN</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgnv8.html">Microstation DGN v8</a></li>
<li class="toctree-l2"><a class="reference internal" href="dods.html">DODS/OPeNDAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="dwg.html">AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="dxf.html">AutoCAD DXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="eeda.html">Google Earth Engine Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="edigeo.html">EDIGEO</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticsearch.html">Elasticsearch: Geographically Encoded Objects for Elasticsearch</a></li>
<li class="toctree-l2"><a class="reference internal" href="esrijson.html">ESRIJSON / FeatureService driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="filegdb.html">ESRI File Geodatabase (FileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="flatgeobuf.html">FlatGeobuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="fme.html">FMEObjects Gateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="geoconcept.html">GeoConcept text export</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojson.html">GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojsonseq.html">GeoJSONSeq: sequence of GeoJSON features</a></li>
<li class="toctree-l2"><a class="reference internal" href="geomedia.html">Geomedia MDB database</a></li>
<li class="toctree-l2"><a class="reference internal" href="georss.html">GeoRSS : Geographically Encoded Objects for RSS feeds</a></li>
<li class="toctree-l2"><a class="reference internal" href="gmlas.html">GMLAS - Geography Markup Language (GML) driven by application schemas</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">GML - Geography Markup Language</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#driver-capabilities">Driver capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parsers">Parsers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#crs-support">CRS support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#schema">Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="#particular-gml-application-schemas">Particular GML application schemas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#geometry-reading">Geometry reading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gml-xlink-resolving">gml:xlink resolving</a></li>
<li class="toctree-l3"><a class="reference internal" href="#toposurface-interpretation-rules-polygons-and-internal-holes">TopoSurface interpretation rules [polygons and internal holes]</a></li>
<li class="toctree-l3"><a class="reference internal" href="#encoding-issues">Encoding issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#feature-id-fid-gml-id">Feature id (fid / gml:id)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#performance-issues-with-large-multi-layer-gml-files">Performance issues with large multi-layer GML files.</a></li>
<li class="toctree-l3"><a class="reference internal" href="#open-options">Open options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creation-issues">Creation Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vsi-virtual-file-system-api-support">VSI Virtual File System API support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#syntax-of-gfs-file-by-example">Syntax of .gfs file by example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advanced-gfs-syntax">Advanced .gfs syntax</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#specifying-elementpath-to-find-objects-embedded-into-top-level-objects">Specifying ElementPath to find objects embedded into top level objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getting-xml-attributes-as-ogr-fields">Getting XML attributes as OGR fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-conditions-on-xml-attributes">Using conditions on XML attributes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#registry-for-gml-application-schemas">Registry for GML application schemas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-junction-tables">Building junction tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reading-datasets-resulting-from-a-wfs-2-0-join-queries">Reading datasets resulting from a WFS 2.0 join queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#see-also">See Also</a></li>
<li class="toctree-l3"><a class="reference internal" href="#credits">Credits</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gmt.html">GMT ASCII Vectors (.gmt)</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpkg.html">GPKG – GeoPackage vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpsbabel.html">GPSBabel</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpx.html">GPX - GPS Exchange Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="grass.html">GRASS Vector Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="gtm.html">GTM - GPS TrackMaker</a></li>
<li class="toctree-l2"><a class="reference internal" href="htf.html">HTF - Hydrographic Transfer Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="idb.html">IDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="idrisi.html">Idrisi Vector (.VCT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ili.html">“INTERLIS 1” and “INTERLIS 2” drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="ingres.html">INGRES</a></li>
<li class="toctree-l2"><a class="reference internal" href="jml.html">JML: OpenJUMP JML format</a></li>
<li class="toctree-l2"><a class="reference internal" href="kml.html">KML - Keyhole Markup Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="libkml.html">LIBKML Driver (.kml .kmz)</a></li>
<li class="toctree-l2"><a class="reference internal" href="lvbag.html">Dutch Kadaster LV BAG 2.0 Extract</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapml.html">MapML</a></li>
<li class="toctree-l2"><a class="reference internal" href="mdb.html">Access MDB databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">Memory</a></li>
<li class="toctree-l2"><a class="reference internal" href="mitab.html">MapInfo TAB and MIF/MID</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodb.html">MongoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodbv3.html">MongoDBv3</a></li>
<li class="toctree-l2"><a class="reference internal" href="mssqlspatial.html">MSSQLSpatial - Microsoft SQL Server Spatial Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="mvt.html">MVT: Mapbox Vector Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="nas.html">NAS - ALKIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="netcdf.html">NetCDF: Network Common Data Form - Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="ngw.html">NGW – NextGIS Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntf.html">UK .NTF</a></li>
<li class="toctree-l2"><a class="reference internal" href="oapif.html">OGC API - Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="oci.html">Oracle Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="odbc.html">ODBC RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="ods.html">ODS - Open Document Spreadsheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="ogdi.html">OGDI Vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="openair.html">OpenAir - OpenAir Special Use Airspace Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="openfilegdb.html">ESRI File Geodatabase (OpenFileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="osm.html">OSM - OpenStreetMap XML and PBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdf.html">PDF – Geospatial PDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="pds.html">PDS - Planetary Data Systems TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgdump.html">PostgreSQL SQL Dump</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgeo.html">ESRI Personal GeoDatabase</a></li>
<li class="toctree-l2"><a class="reference internal" href="pg.html">PostgreSQL / PostGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="plscenes.html">PLScenes (Planet Labs Scenes/Catalog API)</a></li>
<li class="toctree-l2"><a class="reference internal" href="s57.html">IHO S-57 (ENC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="sdts.html">SDTS</a></li>
<li class="toctree-l2"><a class="reference internal" href="segukooa.html">SEG-P1 / UKOOA P1/90</a></li>
<li class="toctree-l2"><a class="reference internal" href="segy.html">SEG-Y / SEGY</a></li>
<li class="toctree-l2"><a class="reference internal" href="selafin.html">Selafin files</a></li>
<li class="toctree-l2"><a class="reference internal" href="shapefile.html">ESRI Shapefile / DBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="sosi.html">Norwegian SOSI Standard</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlite.html">SQLite / Spatialite RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="sua.html">SUA - Tim Newport-Peace’s Special Use Airspace Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="svg.html">SVG - Scalable Vector Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="sxf.html">Storage and eXchange Format - SXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="tiger.html">U.S. Census TIGER/Line</a></li>
<li class="toctree-l2"><a class="reference internal" href="topojson.html">TopoJSON driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="vdv.html">VDV - VDV-451/VDV-452/INTREST Data Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="vfk.html">VFK - Czech Cadastral Exchange Data Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="vrt.html">VRT – Virtual Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="walk.html">Walk - Walk Spatial Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="wasp.html">WAsP - WAsP .map format</a></li>
<li class="toctree-l2"><a class="reference internal" href="wfs.html">WFS - OGC WFS service</a></li>
<li class="toctree-l2"><a class="reference internal" href="xls.html">XLS - MS Excel format</a></li>
<li class="toctree-l2"><a class="reference internal" href="xlsx.html">XLSX - MS Office Open XML spreadsheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="xplane.html">X-Plane/Flightgear aeronautical data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">How to contribute?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GDAL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html"> GDAL  documentation </a> &raquo;</li>
      
          <li><a href="index.html">Vector drivers</a> &raquo;</li>
      
      <li>GML - Geography Markup Language</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/edit//master/gdal/doc/source/drivers/vector/gml.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="gmt.html" class="btn btn-neutral float-right" title="GMT ASCII Vectors (.gmt)" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gmlas_metadata_layers.html" class="btn btn-neutral float-left" title="GMLAS - Metadata layers" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gml-geography-markup-language">
<span id="vector-gml"></span><h1>GML - Geography Markup Language<a class="headerlink" href="#gml-geography-markup-language" title="Permalink to this headline">¶</a></h1>
<div class="admonition shortname" id="shortname-0">
<p class="admonition-title">Driver short name</p>
<p>GML</p>
</div>
<div class="admonition build_dependencies" id="build_dependencies-0">
<p class="admonition-title">Build dependencies</p>
<p>(read support needs Xerces or libexpat)</p>
</div>
<p>OGR has limited support for GML reading and writing. Update of existing
files is not supported.</p>
<p>Supported GML flavors :</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 54%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Read</p></th>
<th class="head"><p>Write</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GML2 and GML3 that can</p></td>
<td><p>GML 2.1.2 or GML 3 SF-0</p></td>
</tr>
<tr class="row-odd"><td><p>be translated into simple feature model</p></td>
<td><p>(GML 3.1.1 Compliance level SF-0)</p></td>
</tr>
</tbody>
</table>
<p>Starting with GDAL 2.2, another driver, <a class="reference internal" href="gmlas.html#vector-gmlas"><span class="std std-ref">GMLAS</span></a>, for
GML driven by application schemas, is also available. Both GML and GMLAS
drivers have their use cases.</p>
<div class="section" id="driver-capabilities">
<h2>Driver capabilities<a class="headerlink" href="#driver-capabilities" title="Permalink to this headline">¶</a></h2>
<div class="admonition supports_create" id="supports_create-0">
<p class="admonition-title">Supports Create()</p>
<p>This driver supports the <a class="reference internal" href="../../api/gdaldriver_cpp.html#_CPPv4N10GDALDriver6CreateEPKciii12GDALDataTypePPc" title="GDALDriver::Create"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALDriver::Create()</span></code></a> operation</p>
</div>
<div class="admonition supports_georeferencing" id="supports_georeferencing-0">
<p class="admonition-title">Supports Georeferencing</p>
<p>This driver supports georeferencing</p>
</div>
<div class="admonition supports_virtualio" id="supports_virtualio-0">
<p class="admonition-title">Supports VirtualIO</p>
<p>This driver supports <a class="reference internal" href="../../user/virtual_file_systems.html#virtual-file-systems"><span class="std std-ref">virtual I/O operations (/vsimem/, etc.)</span></a></p>
</div>
</div>
<div class="section" id="parsers">
<h2>Parsers<a class="headerlink" href="#parsers" title="Permalink to this headline">¶</a></h2>
<p>The reading part of the driver only works if OGR is built with Xerces
linked in. When Xerces is unavailable, read
support also works if OGR is built with Expat linked in. XML validation
is disabled by default. GML writing is always supported, even without
Xerces or Expat.</p>
<p>Note: if both Xerces and Expat are available at
build time, the GML driver will preferentially select at runtime the
Expat parser for cases where it is possible (GML file in a compatible
encoding), and default back to Xerces parser in other cases. However,
the choice of the parser can be overridden by specifying the
<strong>GML_PARSER</strong> configuration option to <strong>EXPAT</strong> or <strong>XERCES</strong>.</p>
</div>
<div class="section" id="crs-support">
<h2>CRS support<a class="headerlink" href="#crs-support" title="Permalink to this headline">¶</a></h2>
<p>The GML driver has coordinate system support. This is
only reported when all the geometries of a layer have a srsName
attribute, whose value is the same for all geometries. For srsName such
as “<a class="reference external" href="urn:ogc:def:crs:EPSG">urn:ogc:def:crs:EPSG</a>:” (or “<a class="reference external" href="http://www.opengis.net/def/crs/EPSG/0/">http://www.opengis.net/def/crs/EPSG/0/</a>”
starting with GDAL 2.1.2), for geographic coordinate systems (as
returned by WFS 1.1.0 for example), the axis order should be (latitude,
longitude) as required by the standards, but this is unusual and can
cause issues with applications unaware of axis order. So by default, the
driver will swap the coordinates so that they are in the (longitude,
latitude) order and report a SRS without axis order specified. It is
possible to get the original (latitude, longitude) order and SRS with
axis order by setting the configuration option
<strong>GML_INVERT_AXIS_ORDER_IF_LAT_LONG</strong> to <strong>NO</strong>.</p>
<p>There also situations where the srsName is of the form “EPSG:XXXX”
(whereas “urn:ogc:def:crs:EPSG::XXXX” would have been more explicit on
the intent) and the coordinates in the file are in (latitude, longitude)
order. By default, OGR will not consider the EPSG axis order and will
report the coordinates in (latitude,longitude) order. However, if you
set the configuration option <strong>GML_CONSIDER_EPSG_AS_URN</strong> to <strong>YES</strong>,
the rules explained in the previous paragraph will be applied.</p>
<p>The above also applied for projected coordinate systems
whose EPSG preferred axis order is (northing, easting).</p>
<p>Starting with GDAL 2.1.2, the SWAP_COORDINATES open option (or
GML_SWAP_COORDINATES configuration option) can be set to AUTO/YES/NO. It
controls whether the order of the x/y or long/lat coordinates should be
swapped. In AUTO mode, the driver will determine if swapping must be
done from the srsName and value of other options like
CONSIDER_EPSG_AS_URN and INVERT_AXIS_ORDER_IF_LAT_LONG. When
SWAP_COORDINATES is set to YES, coordinates will be always swapped
regarding the order they appear in the GML, and when it set to NO, they
will be kept in the same order. The default is AUTO.</p>
</div>
<div class="section" id="schema">
<h2>Schema<a class="headerlink" href="#schema" title="Permalink to this headline">¶</a></h2>
<p>In contrast to most GML readers, the OGR GML reader does not require the
presence of an XML Schema definition of the feature classes (file with
.xsd extension) to be able to read the GML file. If the .xsd file is
absent or OGR is not able to parse it, the driver attempts to
automatically discover the feature classes and their associated
properties by scanning the file and looking for “known” gml objects in
the gml namespace to determine the organization. While this approach is
error prone, it has the advantage of working for GML files even if the
associated schema (.xsd) file has been lost.</p>
<p>It is possible to specify an explicit filename
for the XSD schema to use, by using
“a_filename.gml,xsd=another_filename.xsd” as a connection string.
The XSD can also be specified as the value of the
XSD open option.</p>
<p>The first time a GML file is opened, if the associated .xsd is absent or
could not been parsed correctly, it is completely scanned in order to
determine the set of featuretypes, the attributes associated with each
and other dataset level information. This information is stored in a
.gfs file with the same basename as the target gml file. Subsequent
accesses to the same GML file will use the .gfs file to predefine
dataset level information accelerating access. To a limited extent the
.gfs file can be manually edited to alter how the GML file will be
parsed. Be warned that the .gfs file will be ignored if the associated
.gml file has a newer timestamp.</p>
<p>When prescanning the GML file to determine the list of feature types,
and fields, the contents of fields are scanned to try and determine the
type of the field. In some applications it is easier if all fields are
just treated as string fields. This can be accomplished by setting the
configuration option <strong>GML_FIELDTYPES</strong> to the value <strong>ALWAYS_STRING</strong>.</p>
<p>The <strong>GML_ATTRIBUTES_TO_OGR_FIELDS</strong>
configuration option can be set to <strong>YES</strong> so that attributes of GML
elements are also taken into account to create OGR fields.</p>
<p>Configuration options can be set via the CPLSetConfigOption() function
or as environment variables.</p>
<p>You can use <strong>GML_GFS_TEMPLATE</strong> configuration option (or <strong>GFS_TEMPLATE</strong>
open option) set to a <strong>path_to_template.gfs</strong> in order
to unconditionally use a predefined GFS file. This option is
really useful when you are planning to import many distinct GML
files in subsequent steps [<strong>-append</strong>] and you absolutely want to
preserve a fully consistent data layout for the whole GML set.
Please, pay attention not to use the <strong>-lco LAUNDER=yes</strong> setting
when using <strong>GML_GFS_TEMPLATE</strong>; this should break the correct
recognition of attribute names between subsequent GML import runs.</p>
</div>
<div class="section" id="particular-gml-application-schemas">
<h2>Particular GML application schemas<a class="headerlink" href="#particular-gml-application-schemas" title="Permalink to this headline">¶</a></h2>
<p>Feature attributes in nested GML elements (non-flat attribute hierarchy) that
can be found in some GML profiles, such as UK Ordnance Survey MasterMap, are
detected. IntegerList, RealList and StringList field types
when a GML element has several occurrences are also supported.</p>
<p>A specialized GML driver - the <a class="reference internal" href="nas.html#vector-nas"><span class="std std-ref">NAS</span></a>
driver - is available to read German AAA GML Exchange Format
(NAS/ALKIS).</p>
<p>The GML driver has partial support for reading AIXM or
CityGML files.</p>
<p>The GML driver supports reading :</p>
<ul class="simple">
<li><p><a class="reference external" href="http://xml.nls.fi/XML/Schema/Maastotietojarjestelma/MTK/201202/Maastotiedot.xsd">Finnish National Land Survey GML files (a.k.a MTK GML) for
topographic
data.</a></p></li>
<li><p><a class="reference external" href="http://xml.nls.fi/XML/Schema/sovellus/ktjkii/modules/kiinteistotietojen_kyselypalvelu_WFS/Asiakasdokumentaatio/ktjkiiwfs/2010/02/">Finnish National Land Survey GML files for cadastral
data</a>.</p></li>
<li><p><a class="reference external" href="http://inspire.ec.europa.eu/schemas/cp/3.0/CadastralParcels.xsd">Cadastral data in Inspire GML
schemas</a>.</p></li>
<li><p><a class="reference external" href="http://www.cuzk.cz/Uvod/Produkty-a-sluzby/RUIAN/2-Poskytovani-udaju-RUIAN-ISUI-VDP/Vymenny-format-RUIAN/Vymenny-format-RUIAN-%28VFR%29.aspx">Czech RUIAN Exchange Format
(VFR)</a>.</p></li>
</ul>
<p>The GML driver supports reading responses to CSW GetRecords queries.</p>
<p>Since OGR 2.2, the GML driver supports reading Japanese FGD GML v4
files.</p>
</div>
<div class="section" id="geometry-reading">
<h2>Geometry reading<a class="headerlink" href="#geometry-reading" title="Permalink to this headline">¶</a></h2>
<p>When reading a feature, the driver will by default only take into
account the last recognized GML geometry found (in case they are
multiples) in the XML subtree describing the feature.</p>
<p>But, if the .xsd schema is understood by the XSD
parser and declares several geometry fields, or the .gfs file declares
several geometry fields, multiple geometry fields will be reported by
the GML driver according to <a class="reference internal" href="../../development/rfc/rfc41_multiple_geometry_fields.html#rfc-41"><span class="std std-ref">RFC 41 : Support for multiple geometry fields in OGR</span></a>.</p>
<p>In case of multiple geometry occurrences, if a
geometry is in a &lt;geometry&gt; element, this will be the one selected. This
will make default behavior consistent with Inspire objects.</p>
<p>The user can change the .gfs file to select the
appropriate geometry by specifying its path with the
&lt;GeometryElementPath&gt; element. See the description of the .gfs syntax
below.</p>
<p>GML geometries including TopoCurve, TopoSurface, MultiCurve are also supported.
The TopoCurve type GML geometry can be
interpreted as either of two types of geometries. The Edge elements in
it contain curves and their corresponding nodes. By default only the
curves, the main geometries, are reported as OGRMultiLineString. To
retrieve the nodes, as OGRMultiPoint, the configuration option
<strong>GML_GET_SECONDARY_GEOM</strong> should be set to the value <strong>YES</strong>. When this
is set only the secondary geometries are reported.</p>
<p>Arc, ArcString, ArcByBulge, ArcByCenterPoint,
Circle and CircleByCenterPoints will be returned as circular string OGR
geometries. If they are included in other GML elements such as
CurveComposite, MultiCurve, Surface, corresponding non-linear OGR
geometries will be returned as well. When reading GML3 application
schemas, declarations of geometry fields such as CurvePropertyType,
SurfacePropertyType, MultiCurvePropertyType or MultiSurfacePropertyType
will be also interpreted as being potential non-linear geometries, and
corresponding OGR geometry type will be used for the layer geometry
type.</p>
</div>
<div class="section" id="gml-xlink-resolving">
<h2>gml:xlink resolving<a class="headerlink" href="#gml-xlink-resolving" title="Permalink to this headline">¶</a></h2>
<p>gml:xlink resolving is supported. When the resolver finds
an element containing the tag xlink:href, it tries to find the
corresponding element with the gml:id in the same gml file, other gml
file in the file system or on the web using cURL. Set the configuration
option <strong>GML_SKIP_RESOLVE_ELEMS</strong> to <strong>NONE</strong> to enable resolution.</p>
<p>By default the resolved file will be saved in the same directory as the
original file with the extension “.resolved.gml”, if it doesn’t exist
already. This behavior can be changed using the configuration option
<strong>GML_SAVE_RESOLVED_TO</strong>. Set it to <strong>SAME</strong> to overwrite the original
file. Set it to a <strong>filename ending with .gml</strong> to save it to that
location. Any other values are ignored. If the resolver cannot write to
the file for any reason, it will try to save it to a temporary file
generated using CPLGenerateTempFilename(“ResolvedGML”); if it cannot,
resolution fails.</p>
<p>Note that the resolution algorithm is not optimized for large files. For
files with more than a couple of thousand xlink:href tags, the process
can go beyond a few minutes. A rough progress is displayed through
CPLDebug() for every 256 links. It can be seen by setting the
environment variable CPL_DEBUG. The resolution time can be reduced if
you know any elements that will not be needed. Mention a comma separated
list of names of such elements with the configuration option
<strong>GML_SKIP_RESOLVE_ELEMS</strong>. Set it to <strong>ALL</strong> to skip resolving
altogether (default action). Set it to <strong>NONE</strong> to resolve all the
xlinks.</p>
<p>An alternative resolution method is available.
This alternative method will be activated using the configuration option
<strong>GML_SKIP_RESOLVE_ELEMS HUGE</strong>. In this case any gml:xlink will be
resolved using a temporary SQLite DB so to identify any corresponding
gml:id relation. At the end of this SQL-based process, a resolved file
will be generated exactly as in the <strong>NONE</strong> case but without their
limits. The main advantages in using an external (temporary) DBMS so to
resolve gml:xlink and gml:id relations are the following:</p>
<ul class="simple">
<li><p>no memory size constraints. The <strong>NONE</strong> method stores the whole GML
node-tree in-memory; and this practically means that no GML file
bigger than 1 GB can be processed at all using a 32-bit platform, due
to memory allocation limits. Using a file-system based DBMS avoids at
all this issue.</p></li>
<li><p>by far better efficiency, most notably when huge GML files containing
many thousands (or even millions) of xlink:href / gml:id relational
pairs.</p></li>
<li><p>using the <strong>GML_SKIP_RESOLVE_ELEMS HUGE</strong> method realistically allows
to successfully resolve some really huge GML file (3GB+) containing
many millions xlink:href / gml:id in a reasonable time (about an hour
or so on).</p></li>
<li><p>The <strong>GML_SKIP_RESOLVE_ELEMS HUGE</strong> method supports the following
further configuration option:</p></li>
</ul>
</div>
<div class="section" id="toposurface-interpretation-rules-polygons-and-internal-holes">
<h2>TopoSurface interpretation rules [polygons and internal holes]<a class="headerlink" href="#toposurface-interpretation-rules-polygons-and-internal-holes" title="Permalink to this headline">¶</a></h2>
<p>The GML driver is able to recognize two
different interpretation rules for TopoSurface when a polygon contains
any internal hole:</p>
<ul class="simple">
<li><p>the previously supported interpretation rule assumed that:</p>
<ul>
<li><p>each TopoSurface may be represented as a collection of many Faces</p></li>
<li><p><em>positive</em> Faces [i.e. declaring <strong>orientation=”+”</strong>] are assumed
to represent the Exterior Ring of some Polygon.</p></li>
<li><p><em>negative</em> Faces [i.e. declaring <strong>orientation=”-“</strong>] are assumed
to represent an Interior Ring (aka <em>hole</em>) belonging to the latest
declared Exterior Ring.</p></li>
<li><p>ordering any Edge used to represent each Ring is important: each
Edge is expected to be exactly adjacent to the next one.</p></li>
</ul>
</li>
<li><p>the new interpretation rule now assumes that:</p>
<ul>
<li><p>each TopoSurface may be represented as a collection of many Faces</p></li>
<li><p>the declared <strong>orientation</strong> for any Face has nothing to deal with
Exterior/Interior Rings</p></li>
<li><p>each Face is now intended to represent a complete Polygon,
eventually including any possible Interior Ring (<em>holes</em>)</p></li>
<li><p>the relative ordering of any Edge composing the same Face is
completely not relevant</p></li>
</ul>
</li>
</ul>
<p>The newest interpretation seems to fully match GML 3 standard
recommendations; so this latest is now assumed to be the default
interpretation supported by OGR.</p>
<p><strong>NOTE</strong> : Using the newest interpretation requires GDAL/OGR to be built
against the GEOS library.</p>
<p>Using the <strong>GML_FACE_HOLE_NEGATIVE</strong> configuration option you can anyway
select the actual interpretation to be applied when parsing GML 3
Topologies:</p>
<ul class="simple">
<li><p>setting <strong>GML_FACE_HOLE_NEGATIVE NO</strong> (<em>default</em> option) will
activate the newest interpretation rule</p></li>
<li><p>but explicitly setting <strong>GML_FACE_HOLE_NEGATIVE YES</strong> still enables
to activate the old interpretation rule</p></li>
</ul>
</div>
<div class="section" id="encoding-issues">
<h2>Encoding issues<a class="headerlink" href="#encoding-issues" title="Permalink to this headline">¶</a></h2>
<p>Expat library supports reading the following built-in encodings :</p>
<ul class="simple">
<li><p>US-ASCII</p></li>
<li><p>UTF-8</p></li>
<li><p>UTF-16</p></li>
<li><p>ISO-8859-1</p></li>
<li><p>Windows-1252</p></li>
</ul>
<p>The content returned by OGR will be encoded in UTF-8, after the
conversion from the encoding mentioned in the file header is.</p>
<p>If the GML file is not encoded in one of the previous encodings and the
only parser available is Expat, it will not be parsed by the GML driver.
You may convert it into one of the supported encodings with the <em>iconv</em>
utility for example and change accordingly the <em>encoding</em> parameter
value in the XML header.</p>
<p>When writing a GML file, the driver expects UTF-8 content to be passed
in.</p>
<p>Note: The .xsd schema files are parsed with an integrated XML parser
which does not currently understand XML encodings specified in the XML
header. It expects encoding to be always UTF-8. If attribute names in
the schema file contains non-ascii characters, it is better to use
<em>iconv</em> utility and convert the .xsd file into UTF-8 encoding first.</p>
</div>
<div class="section" id="feature-id-fid-gml-id">
<h2>Feature id (fid / gml:id)<a class="headerlink" href="#feature-id-fid-gml-id" title="Permalink to this headline">¶</a></h2>
<p>The driver exposes the content of the gml:id
attribute as a string field called <em>gml_id</em>, when reading GML WFS
documents. When creating a GML3 document, if a field is called <em>gml_id</em>,
its content will also be used to write the content of the gml:id
attribute of the created feature.</p>
<p>The driver autodetects the presence of a fid
(GML2) (resp. gml:id (GML3)) attribute at the beginning of the file,
and, if found, exposes it by default as a <em>fid</em> (resp. <em>gml_id</em>) field.
The autodetection can be overridden by specifying the <strong>GML_EXPOSE_FID</strong>
or <strong>GML_EXPOSE_GML_ID</strong> configuration option to <strong>YES</strong> or <strong>NO</strong>.</p>
<p>When creating a GML2 document, if a field is
called <em>fid</em>, its content will also be used to write the content of the
fid attribute of the created feature.</p>
</div>
<div class="section" id="performance-issues-with-large-multi-layer-gml-files">
<h2>Performance issues with large multi-layer GML files.<a class="headerlink" href="#performance-issues-with-large-multi-layer-gml-files" title="Permalink to this headline">¶</a></h2>
<p>There is only one GML parser per GML datasource shared among the various
layers. By default, the GML driver will restart reading from the
beginning of the file, each time a layer is accessed for the first time,
which can lead to poor performance with large GML files.</p>
<p>The <strong>GML_READ_MODE</strong> configuration option can
be set to <strong>SEQUENTIAL_LAYERS</strong> if all features belonging to the same
layer are written sequentially in the file. The reader will then avoid
unnecessary resets when layers are read completely one after the other.
To get the best performance, the layers must be read in the order they
appear in the file.</p>
<p>If no .xsd and .gfs files are found, the parser will detect the layout
of layers when building the .gfs file. If the layers are found to be
sequential, a <em>&lt;SequentialLayers&gt;true&lt;/SequentialLayers&gt;</em> element will
be written in the .gfs file, so that the GML_READ_MODE will be
automatically initialized to SEQUENTIAL_LAYERS if not explicitly set by
the user.</p>
<p>The GML_READ_MODE configuration option can be
set to INTERLEAVED_LAYERS to be able to read a GML file whose features
from different layers are interleaved. In the case, the semantics of the
GetNextFeature() will be slightly altered, in a way where a NULL return
does not necessarily mean that all features from the current layer have
been read, but it could also mean that there is still a feature to read,
but that belongs to another layer. In that case, the file should be read
with code similar to the following one :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">nLayerCount</span> <span class="o">=</span> <span class="n">poDS</span><span class="o">-&gt;</span><span class="n">GetLayerCount</span><span class="p">();</span>
<span class="nb">int</span> <span class="n">bFoundFeature</span><span class="p">;</span>
<span class="n">do</span>
<span class="p">{</span>
    <span class="n">bFoundFeature</span> <span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span> <span class="nb">int</span> <span class="n">iLayer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">iLayer</span> <span class="o">&lt;</span> <span class="n">nLayerCount</span><span class="p">;</span> <span class="n">iLayer</span><span class="o">++</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">OGRLayer</span>   <span class="o">*</span><span class="n">poLayer</span> <span class="o">=</span> <span class="n">poDS</span><span class="o">-&gt;</span><span class="n">GetLayer</span><span class="p">(</span><span class="n">iLayer</span><span class="p">);</span>
        <span class="n">OGRFeature</span> <span class="o">*</span><span class="n">poFeature</span><span class="p">;</span>
        <span class="k">while</span><span class="p">((</span><span class="n">poFeature</span> <span class="o">=</span> <span class="n">poLayer</span><span class="o">-&gt;</span><span class="n">GetNextFeature</span><span class="p">())</span> <span class="o">!=</span> <span class="n">NULL</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">bFoundFeature</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
            <span class="n">poFeature</span><span class="o">-&gt;</span><span class="n">DumpReadable</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span> <span class="n">NULL</span><span class="p">);</span>
            <span class="n">OGRFeature</span><span class="p">::</span><span class="n">DestroyFeature</span><span class="p">(</span><span class="n">poFeature</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">bInterleaved</span> <span class="o">&amp;&amp;</span> <span class="n">bFoundFeature</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="open-options">
<h2>Open options<a class="headerlink" href="#open-options" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>XSD=filename</strong>: to specify an explicit filename for
the XSD application schema to use.</p></li>
<li><p><strong>WRITE_GFS=AUTO/YES/NO</strong>: (GDAL &gt;= 3.2) whether to write a .gfs file.
In AUTO mode, the .gfs file is only written if there is no recognized .xsd
file, no existing .gfs file and for non-network file systems. This option
can be set to YES for force .gfs file writing in situations where AUTO would
not attempt to do it. Or it can be set to NO to disable .gfs file writing.</p></li>
<li><p><strong>GFS_TEMPLATE=filename</strong>: to unconditionally use a predefined GFS file.
This option is really useful when you are planning to import many distinct GML
files in subsequent steps [<strong>-append</strong>] and you absolutely want to
preserve a fully consistent data layout for the whole GML set.
Please, pay attention not to use the <strong>-lco LAUNDER=yes</strong> setting
when this option; this should break the correct
recognition of attribute names between subsequent GML import runs.</p></li>
<li><p><strong>FORCE_SRS_DETECTION=YES/NO</strong>: Force a full scan to
detect the SRS of layers. This option may be needed in the case where
the .gml file is accompanied with a .xsd. Normally in that situation,
OGR would not detect the SRS, because this requires to do a full scan
of the file. Defaults to NO</p></li>
<li><p><strong>EMPTY_AS_NULL=YES/NO</strong>: By default
(EMPTY_AS_NULL=YES), fields with empty content will be reported as
being NULL, instead of being an empty string. This is the historic
behavior. However this will prevent such fields to be declared as
not-nullable if the application schema declared them as mandatory. So
this option can be set to NO to have both empty strings being report
as such, and mandatory fields being reported as not nullable.</p></li>
<li><p><strong>GML_ATTRIBUTES_TO_OGR_FIELDS=YES/NO</strong>: Whether GML
attributes should be reported as OGR fields. Note that this option
has only an effect the first time a GML file is opened (before the
.gfs file is created), and if it has no valid associated .xsd.
Defaults to NO.</p></li>
<li><p><strong>INVERT_AXIS_ORDER_IF_LAT_LONG=YES/NO</strong>: Whether to
present SRS and coordinate ordering in traditional GIS order.
Defaults to YES.</p></li>
<li><p><strong>CONSIDER_EPSG_AS_URN=YES/NO/AUTO</strong>: Whether to
consider srsName like EPSG:XXXX as respecting EPSG axis order.
Defaults to AUTO.</p></li>
<li><p><strong>SWAP_COORDINATES</strong>=AUTO/YES/NO: (GDAL &gt;= 2.1.2) Whether the order
of the x/y or long/lat coordinates should be swapped. In AUTO mode,
the driver will determine if swapping must be done from the srsName
and value of other options like CONSIDER_EPSG_AS_URN and
INVERT_AXIS_ORDER_IF_LAT_LONG. When SWAP_COORDINATES is set to YES,
coordinates will be always swapped regarding the order they appear in
the GML, and when it set to NO, they will be kept in the same order.
The default is AUTO.</p></li>
<li><p><strong>READ_MODE=AUTO/STANDARD/SEQUENTIAL_LAYERS/INTERLEAVED_LAYERS</strong>:
Read mode. Defaults to AUTO.</p></li>
<li><p><strong>EXPOSE_GML_ID=YES/NO/AUTO</strong>: Whether to make feature
gml:id as a gml_id attribute. Defaults to AUTO.</p></li>
<li><p><strong>EXPOSE_FID=YES/NO/AUTO</strong>: Whether to make feature fid
as a fid attribute. Defaults to AUTO.</p></li>
<li><p><strong>DOWNLOAD_SCHEMA=YES/NO</strong>: Whether to download the
remote application schema if needed (only for WFS currently).
Defaults to YES.</p></li>
<li><p><strong>REGISTRY=filename</strong>: Filename of the registry with
application schemas. Defaults to {GDAL_DATA}/gml_registry.xml.</p></li>
</ul>
</div>
<div class="section" id="creation-issues">
<h2>Creation Issues<a class="headerlink" href="#creation-issues" title="Permalink to this headline">¶</a></h2>
<p>On export all layers are written to a single GML file all in a single
feature collection. Each layer’s name is used as the element name for
objects from that layer. Geometries are always written as the
ogr:geometryProperty element on the feature.</p>
<p>The GML writer supports the following dataset creation options:</p>
<ul>
<li><p><strong>XSISCHEMAURI</strong>: If provided, this URI will be inserted as the
schema location. Note that the schema file isn’t actually accessed by
OGR, so it is up to the user to ensure it will match the schema of
the OGR produced GML data file.</p></li>
<li><p><strong>XSISCHEMA</strong>: This can be EXTERNAL, INTERNAL or OFF and defaults to
EXTERNAL. This writes a GML application schema file to a
corresponding .xsd file (with the same basename). If INTERNAL is used
the schema is written within the GML file, but this is experimental
and almost certainly not valid XML. OFF disables schema generation
(and is implicit if XSISCHEMAURI is used).</p></li>
<li><p><strong>PREFIX</strong> Defaults to ‘ogr’. This is the prefix for
the application target namespace.</p></li>
<li><p><strong>STRIP_PREFIX</strong> Defaults to FALSE. Can be set to TRUE
to avoid writing the prefix of the application target namespace in
the GML file.</p></li>
<li><p><strong>TARGET_NAMESPACE</strong> Defaults to
‘<a class="reference external" href="http://ogr.maptools.org/">http://ogr.maptools.org/</a>’. This is the application target namespace.</p></li>
<li><p><strong>FORMAT</strong>: This can be set to :</p>
<ul class="simple">
<li><p><em>GML3</em> in order to write GML files that follow GML 3.1.1 SF-0
profile.</p></li>
<li><p><em>GML3Deegree</em> in order to produce a GML 3.1.1 .XSD
schema, with a few variations with respect to what is recommended
by GML3 SF-0 profile, but that will be better accepted by some
software (such as Deegree 3).</p></li>
<li><p><em>GML3.2</em>in order to write GML files that follow
GML 3.2.1 SF-0 profile.</p></li>
</ul>
<p>If not specified, GML2 will be used.
Non-linear geometries can be written. This is
only compatible with selecting on of that above GML3 format variant.
Otherwise, such geometries will be approximating into their closest
matching linear geometry.
Note: fields of type StringList, RealList or
IntegerList can be written. This will cause to advertise the SF-1
profile in the .XSD schema (such types are not supported by SF-0).</p>
</li>
<li><p><strong>GML_FEATURE_COLLECTION</strong>=YES/NO (OGR &gt;= 2.3) Whether to use the
gml:FeatureCollection, instead of creating a dedicated container
element in the target namespace. Only valid for FORMAT=GML3/GML3.2.
Note that gml:FeatureCollection has been deprecated in GML 3.2, and
is not allowed by the OGC 06-049r1 “Geography Markup Language (GML)
simple features profile” (for GML 3.1.1) and OGC 10-100r3 “Geography
Markup Language (GML) simple features profile (with Corrigendum)”
(for GML 3.2) specifications.</p></li>
<li><p><strong>GML3_LONGSRS</strong>=YES/NO. (only valid when
FORMAT=GML3/GML3Degree/GML3.2) Deprecated by SRSNAME_FORMAT in GDAL
2.2. Default to YES. If YES, SRS with EPSG authority will be written
with the “<a class="reference external" href="urn:ogc:def:crs:EPSG">urn:ogc:def:crs:EPSG</a>::” prefix. In the case the SRS is a
SRS without explicit AXIS order, but that the same SRS authority code
imported with ImportFromEPSGA() should be treated as lat/long or
northing/easting, then the function will take care of coordinate
order swapping. If set to NO, SRS with EPSG authority will be written
with the “EPSG:” prefix, even if they are in lat/long order.</p></li>
<li><p><strong>SRSNAME_FORMAT</strong>=SHORT/OGC_URN/OGC_URL (Only valid for
FORMAT=GML3/GML3Degree/GML3.2, GDAL &gt;= 2.2). Defaults to OGC_URN. If
SHORT, then srsName will be in the form AUTHORITY_NAME:AUTHORITY_CODE
If OGC_URN, then srsName will be in the form
<a class="reference external" href="urn:ogc:def:crs:AUTHORITY_NAME::AUTHORITY_CODE">urn:ogc:def:crs:AUTHORITY_NAME::AUTHORITY_CODE</a> If OGC_URL, then
srsName will be in the form
<a class="reference external" href="http://www.opengis.net/def/crs/AUTHORITY_NAME/0/AUTHORITY_CODE">http://www.opengis.net/def/crs/AUTHORITY_NAME/0/AUTHORITY_CODE</a> For
OGC_URN and OGC_URL, in the case the SRS is a SRS without explicit
AXIS order, but that the same SRS authority code imported with
ImportFromEPSGA() should be treated as lat/long or northing/easting,
then the function will take care of coordinate order swapping.</p></li>
<li><p><strong>SRSDIMENSION_LOC</strong>=POSLIST/GEOMETRY/GEOMETRY,POSLIST. (Only valid
for FORMAT=GML3/GML3Degree/GML3.2) Default to POSLIST.
For 2.5D geometries, define the location where to attach the
srsDimension attribute. There are diverging implementations. Some put
in on the &lt;gml:posList&gt; element, other on the top geometry element.</p></li>
<li><p><strong>WRITE_FEATURE_BOUNDED_BY</strong>=YES/NO. (only valid when
FORMAT=GML3/GML3Degree/GML3.2) Default to YES. If set to NO, the
&lt;gml:boundedBy&gt; element will not be written for each feature.</p></li>
<li><p><strong>SPACE_INDENTATION</strong>=YES/NO. Default to YES. If
YES, the output will be indented with spaces for more readability,
but at the expense of file size.</p></li>
<li><p><strong>GML_ID</strong>=string. (Only valid for GML 3.2) Value of
feature collection gml:id. Default value is “aFeatureCollection”.</p></li>
<li><p><strong>NAME</strong>=string. Content of GML name element. Can also be set as
the NAME metadata item on the dataset.</p></li>
<li><p><strong>DESCRIPTION</strong>=string. Content of GML description element. Can
also be set as the DESCRIPTION metadata item on the dataset.</p></li>
</ul>
</div>
<div class="section" id="vsi-virtual-file-system-api-support">
<h2>VSI Virtual File System API support<a class="headerlink" href="#vsi-virtual-file-system-api-support" title="Permalink to this headline">¶</a></h2>
<p>The driver supports reading and writing to files managed by VSI Virtual
File System API, which include “regular” files, as well as files in the
/vsizip/ (read-write) , /vsigzip/ (read-write) , /vsicurl/ (read-only)
domains.</p>
<p>Writing to /dev/stdout or /vsistdout/ is also supported. Note that in
that case, only the content of the GML file will be written to the
standard output (and not the .xsd). The &lt;boundedBy&gt; element will not be
written. This is also the case if writing in /vsigzip/</p>
</div>
<div class="section" id="syntax-of-gfs-file-by-example">
<h2>Syntax of .gfs file by example<a class="headerlink" href="#syntax-of-gfs-file-by-example" title="Permalink to this headline">¶</a></h2>
<p>Let’s consider the following test.gml file :</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;gml:FeatureCollection</span> <span class="na">xmlns:gml=</span><span class="s">&quot;http://www.opengis.net/gml&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;gml:featureMember&gt;</span>
    <span class="nt">&lt;LAYER&gt;</span>
      <span class="nt">&lt;attrib1&gt;</span>attrib1_value<span class="nt">&lt;/attrib1&gt;</span>
      <span class="nt">&lt;attrib2container&gt;</span>
        <span class="nt">&lt;attrib2&gt;</span>attrib2_value<span class="nt">&lt;/attrib2&gt;</span>
      <span class="nt">&lt;/attrib2container&gt;</span>
      <span class="nt">&lt;location1container&gt;</span>
        <span class="nt">&lt;location1&gt;</span>
            <span class="nt">&lt;gml:Point&gt;&lt;gml:coordinates&gt;</span>3,50<span class="nt">&lt;/gml:coordinates&gt;&lt;/gml:Point&gt;</span>
        <span class="nt">&lt;/location1&gt;</span>
      <span class="nt">&lt;/location1container&gt;</span>
      <span class="nt">&lt;location2&gt;</span>
        <span class="nt">&lt;gml:Point&gt;&lt;gml:coordinates&gt;</span>2,49<span class="nt">&lt;/gml:coordinates&gt;&lt;/gml:Point&gt;</span>
      <span class="nt">&lt;/location2&gt;</span>
    <span class="nt">&lt;/LAYER&gt;</span>
  <span class="nt">&lt;/gml:featureMember&gt;</span>
<span class="nt">&lt;/gml:FeatureCollection&gt;</span>
</pre></div>
</div>
<p>and the following associated .gfs file.</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;GMLFeatureClassList&gt;</span>
  <span class="nt">&lt;GMLFeatureClass&gt;</span>
    <span class="nt">&lt;Name&gt;</span>LAYER<span class="nt">&lt;/Name&gt;</span>
    <span class="nt">&lt;ElementPath&gt;</span>LAYER<span class="nt">&lt;/ElementPath&gt;</span>
    <span class="nt">&lt;GeometryElementPath&gt;</span>location1container|location1<span class="nt">&lt;/GeometryElementPath&gt;</span>
    <span class="nt">&lt;PropertyDefn&gt;</span>
      <span class="nt">&lt;Name&gt;</span>attrib1<span class="nt">&lt;/Name&gt;</span>
      <span class="nt">&lt;ElementPath&gt;</span>attrib1<span class="nt">&lt;/ElementPath&gt;</span>
      <span class="nt">&lt;Type&gt;</span>String<span class="nt">&lt;/Type&gt;</span>
      <span class="nt">&lt;Width&gt;</span>13<span class="nt">&lt;/Width&gt;</span>
    <span class="nt">&lt;/PropertyDefn&gt;</span>
    <span class="nt">&lt;PropertyDefn&gt;</span>
      <span class="nt">&lt;Name&gt;</span>attrib2<span class="nt">&lt;/Name&gt;</span>
      <span class="nt">&lt;ElementPath&gt;</span>attrib2container|attrib2<span class="nt">&lt;/ElementPath&gt;</span>
      <span class="nt">&lt;Type&gt;</span>String<span class="nt">&lt;/Type&gt;</span>
      <span class="nt">&lt;Width&gt;</span>13<span class="nt">&lt;/Width&gt;</span>
    <span class="nt">&lt;/PropertyDefn&gt;</span>
  <span class="nt">&lt;/GMLFeatureClass&gt;</span>
<span class="nt">&lt;/GMLFeatureClassList&gt;</span>
</pre></div>
</div>
<p>Note the presence of the ‘|’ character in the &lt;ElementPath&gt; and
&lt;GeometryElementPath&gt; elements to specify the wished field/geometry
element that is a nested XML element. Nested field elements are supported,
as well as specifying &lt;GeometryElementPath&gt; If
GeometryElementPath is not specified, the GML driver will use the last
recognized geometry element.</p>
<p>The &lt;GeometryType&gt; element can be specified to force the geometry type.
Accepted values are : 0 (any geometry type), 1 (point), 2 (linestring),
3 (polygon), 4 (multipoint), 5 (multilinestring), 6 (multipolygon), 7
(geometrycollection).</p>
<p>The &lt;GeometryElementPath&gt; and &lt;GeometryType&gt; can
be specified as many times as there are geometry fields in the GML file.
Another possibility is to define a &lt;GeomPropertyDefn&gt;element as many
times as necessary:</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;GMLFeatureClassList&gt;</span>
  <span class="nt">&lt;GMLFeatureClass&gt;</span>
    <span class="nt">&lt;Name&gt;</span>LAYER<span class="nt">&lt;/Name&gt;</span>
    <span class="nt">&lt;ElementPath&gt;</span>LAYER<span class="nt">&lt;/ElementPath&gt;</span>
    <span class="nt">&lt;GeomPropertyDefn&gt;</span>
        <span class="nt">&lt;Name&gt;</span>geometry<span class="nt">&lt;/Name&gt;</span> <span class="c">&lt;!-- OGR geometry name --&gt;</span>
        <span class="nt">&lt;ElementPath&gt;</span>geometry<span class="nt">&lt;/ElementPath&gt;</span> <span class="c">&lt;!-- XML element name possibly with &#39;|&#39; to specify the path --&gt;</span>
        <span class="nt">&lt;Type&gt;</span>MultiPolygon<span class="nt">&lt;/Type&gt;</span>
    <span class="nt">&lt;/GeomPropertyDefn&gt;</span>
    <span class="nt">&lt;GeomPropertyDefn&gt;</span>
        <span class="nt">&lt;Name&gt;</span>referencePoint<span class="nt">&lt;/Name&gt;</span>
        <span class="nt">&lt;ElementPath&gt;</span>referencePoint<span class="nt">&lt;/ElementPath&gt;</span>
        <span class="nt">&lt;Type&gt;</span>Point<span class="nt">&lt;/Type&gt;</span>
    <span class="nt">&lt;/GeomPropertyDefn&gt;</span>
  <span class="nt">&lt;/GMLFeatureClass&gt;</span>
<span class="nt">&lt;/GMLFeatureClassList&gt;</span>
</pre></div>
</div>
<p>The output of <em>ogrinfo test.gml -ro -al</em> is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Layer</span> <span class="n">name</span><span class="p">:</span> <span class="n">LAYER</span>
<span class="n">Geometry</span><span class="p">:</span> <span class="n">Unknown</span> <span class="p">(</span><span class="nb">any</span><span class="p">)</span>
<span class="n">Feature</span> <span class="n">Count</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">Extent</span><span class="p">:</span> <span class="p">(</span><span class="mf">3.000000</span><span class="p">,</span> <span class="mf">50.000000</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="mf">3.000000</span><span class="p">,</span> <span class="mf">50.000000</span><span class="p">)</span>
<span class="n">Layer</span> <span class="n">SRS</span> <span class="n">WKT</span><span class="p">:</span>
<span class="p">(</span><span class="n">unknown</span><span class="p">)</span>
<span class="n">Geometry</span> <span class="n">Column</span> <span class="o">=</span> <span class="n">location1container</span><span class="o">|</span><span class="n">location1</span>
<span class="n">attrib1</span><span class="p">:</span> <span class="n">String</span> <span class="p">(</span><span class="mf">13.0</span><span class="p">)</span>
<span class="n">attrib2</span><span class="p">:</span> <span class="n">String</span> <span class="p">(</span><span class="mf">13.0</span><span class="p">)</span>
<span class="n">OGRFeature</span><span class="p">(</span><span class="n">LAYER</span><span class="p">):</span><span class="mi">0</span>
  <span class="n">attrib1</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">attrib1_value</span>
  <span class="n">attrib2</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">attrib2_value</span>
  <span class="n">POINT</span> <span class="p">(</span><span class="mi">3</span> <span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="advanced-gfs-syntax">
<h2>Advanced .gfs syntax<a class="headerlink" href="#advanced-gfs-syntax" title="Permalink to this headline">¶</a></h2>
<div class="section" id="specifying-elementpath-to-find-objects-embedded-into-top-level-objects">
<h3>Specifying ElementPath to find objects embedded into top level objects<a class="headerlink" href="#specifying-elementpath-to-find-objects-embedded-into-top-level-objects" title="Permalink to this headline">¶</a></h3>
<p>Let’s consider the following test.gml file :</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;gml:FeatureCollection</span> <span class="na">xmlns:xlink=</span><span class="s">&quot;http://www.w3.org/1999/xlink&quot;</span>
                       <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
                       <span class="na">gml:id=</span><span class="s">&quot;foo&quot;</span> <span class="na">xmlns:gml=</span><span class="s">&quot;http://www.opengis.net/gml/3.2&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;gml:featureMember&gt;</span>
    <span class="nt">&lt;TopLevelObject</span> <span class="na">gml:id=</span><span class="s">&quot;TopLevelObject.1&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;content&gt;</span>
        <span class="nt">&lt;Object</span> <span class="na">gml:id=</span><span class="s">&quot;Object.1&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;geometry&gt;</span>
            <span class="nt">&lt;gml:Polygon</span> <span class="na">gml:id=</span><span class="s">&quot;Object.1.Geometry&quot;</span> <span class="na">srsName=</span><span class="s">&quot;urn:ogc:def:crs:EPSG::4326&quot;</span><span class="nt">&gt;</span>
              <span class="nt">&lt;gml:exterior&gt;</span>
                <span class="nt">&lt;gml:LinearRing&gt;</span>
                  <span class="nt">&lt;gml:posList</span> <span class="na">srsDimension=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>48 2 49 2 49 3 48 3 48 2<span class="nt">&lt;/gml:posList&gt;</span>
                <span class="nt">&lt;/gml:LinearRing&gt;</span>
              <span class="nt">&lt;/gml:exterior&gt;</span>
            <span class="nt">&lt;/gml:Polygon&gt;</span>
          <span class="nt">&lt;/geometry&gt;</span>
          <span class="nt">&lt;foo&gt;</span>bar<span class="nt">&lt;/foo&gt;</span>
        <span class="nt">&lt;/Object&gt;</span>
      <span class="nt">&lt;/content&gt;</span>
      <span class="nt">&lt;content&gt;</span>
        <span class="nt">&lt;Object</span> <span class="na">gml:id=</span><span class="s">&quot;Object.2&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;geometry&gt;</span>
            <span class="nt">&lt;gml:Polygon</span> <span class="na">gml:id=</span><span class="s">&quot;Object.2.Geometry&quot;</span> <span class="na">srsName=</span><span class="s">&quot;urn:ogc:def:crs:EPSG::4326&quot;</span><span class="nt">&gt;</span>
              <span class="nt">&lt;gml:exterior&gt;</span>
                <span class="nt">&lt;gml:LinearRing&gt;</span>
                  <span class="nt">&lt;gml:posList</span> <span class="na">srsDimension=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>-48 2 -49 2 -49 3 -48 3 -48 2<span class="nt">&lt;/gml:posList&gt;</span>
                <span class="nt">&lt;/gml:LinearRing&gt;</span>
              <span class="nt">&lt;/gml:exterior&gt;</span>
            <span class="nt">&lt;/gml:Polygon&gt;</span>
          <span class="nt">&lt;/geometry&gt;</span>
          <span class="nt">&lt;foo&gt;</span>baz<span class="nt">&lt;/foo&gt;</span>
        <span class="nt">&lt;/Object&gt;</span>
      <span class="nt">&lt;/content&gt;</span>
    <span class="nt">&lt;/TopLevelObject&gt;</span>
  <span class="nt">&lt;/gml:featureMember&gt;</span>
<span class="nt">&lt;/gml:FeatureCollection&gt;</span>
</pre></div>
</div>
<p>By default, only the TopLevelObject object would be reported and it
would only use the second geometry. This is not the desired behavior in
that instance. You can edit the generated .gfs and modify it like the
following in order to specify a full path to the element (top level XML
element being omitted) :</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;GMLFeatureClassList&gt;</span>
  <span class="nt">&lt;GMLFeatureClass&gt;</span>
    <span class="nt">&lt;Name&gt;</span>Object<span class="nt">&lt;/Name&gt;</span>
    <span class="nt">&lt;ElementPath&gt;</span>featureMember|TopLevelObject|content|Object<span class="nt">&lt;/ElementPath&gt;</span>
    <span class="nt">&lt;GeometryType&gt;</span>3<span class="nt">&lt;/GeometryType&gt;</span>
    <span class="nt">&lt;PropertyDefn&gt;</span>
      <span class="nt">&lt;Name&gt;</span>foo<span class="nt">&lt;/Name&gt;</span>
      <span class="nt">&lt;ElementPath&gt;</span>foo<span class="nt">&lt;/ElementPath&gt;</span>
      <span class="nt">&lt;Type&gt;</span>String<span class="nt">&lt;/Type&gt;</span>
    <span class="nt">&lt;/PropertyDefn&gt;</span>
  <span class="nt">&lt;/GMLFeatureClass&gt;</span>
<span class="nt">&lt;/GMLFeatureClassList&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="getting-xml-attributes-as-ogr-fields">
<h3>Getting XML attributes as OGR fields<a class="headerlink" href="#getting-xml-attributes-as-ogr-fields" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="mailto:element&#37;&#52;&#48;attribute">element<span>&#64;</span>attribute</a> syntax can be used in the &lt;ElementPath&gt; to specify
that the value of attribute ‘attribute’ of element ‘element’ must be
fetched.</p>
<p>Let’s consider the following test.gml file :</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;gml:FeatureCollection</span> <span class="na">xmlns:gml=</span><span class="s">&quot;http://www.opengis.net/gml&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;gml:featureMember&gt;</span>
    <span class="nt">&lt;LAYER&gt;</span>
      <span class="nt">&lt;length</span> <span class="na">unit=</span><span class="s">&quot;m&quot;</span><span class="nt">&gt;</span>5<span class="nt">&lt;/length&gt;</span>
    <span class="nt">&lt;/LAYER&gt;</span>
  <span class="nt">&lt;/gml:featureMember&gt;</span>
<span class="nt">&lt;/gml:FeatureCollection&gt;</span>
</pre></div>
</div>
<p>and the following associated .gfs file.</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;GMLFeatureClassList&gt;</span>
  <span class="nt">&lt;GMLFeatureClass&gt;</span>
    <span class="nt">&lt;Name&gt;</span>LAYER<span class="nt">&lt;/Name&gt;</span>
    <span class="nt">&lt;ElementPath&gt;</span>LAYER<span class="nt">&lt;/ElementPath&gt;</span>
    <span class="nt">&lt;GeometryType&gt;</span>100<span class="nt">&lt;/GeometryType&gt;</span> <span class="c">&lt;!-- no geometry --&gt;</span>
    <span class="nt">&lt;PropertyDefn&gt;</span>
      <span class="nt">&lt;Name&gt;</span>length<span class="nt">&lt;/Name&gt;</span>
      <span class="nt">&lt;ElementPath&gt;</span>length<span class="nt">&lt;/ElementPath&gt;</span>
      <span class="nt">&lt;Type&gt;</span>Real<span class="nt">&lt;/Type&gt;</span>
    <span class="nt">&lt;/PropertyDefn&gt;</span>
    <span class="nt">&lt;PropertyDefn&gt;</span>
      <span class="nt">&lt;Name&gt;</span>length_unit<span class="nt">&lt;/Name&gt;</span>
      <span class="nt">&lt;ElementPath&gt;</span>length@unit<span class="nt">&lt;/ElementPath&gt;</span>
      <span class="nt">&lt;Type&gt;</span>String<span class="nt">&lt;/Type&gt;</span>
    <span class="nt">&lt;/PropertyDefn&gt;</span>
  <span class="nt">&lt;/GMLFeatureClass&gt;</span>
<span class="nt">&lt;/GMLFeatureClassList&gt;</span>
</pre></div>
</div>
<p>The output of <em>ogrinfo test.gml -ro -al</em> is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Layer</span> <span class="n">name</span><span class="p">:</span> <span class="n">LAYER</span>
<span class="n">Geometry</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">Feature</span> <span class="n">Count</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">Layer</span> <span class="n">SRS</span> <span class="n">WKT</span><span class="p">:</span>
<span class="p">(</span><span class="n">unknown</span><span class="p">)</span>
<span class="n">gml_id</span><span class="p">:</span> <span class="n">String</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">length</span><span class="p">:</span> <span class="n">Real</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">length_unit</span><span class="p">:</span> <span class="n">String</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">OGRFeature</span><span class="p">(</span><span class="n">LAYER</span><span class="p">):</span><span class="mi">0</span>
  <span class="n">gml_id</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">null</span><span class="p">)</span>
  <span class="n">length</span> <span class="p">(</span><span class="n">Real</span><span class="p">)</span> <span class="o">=</span> <span class="mi">5</span>
  <span class="n">length_unit</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">m</span>
</pre></div>
</div>
</div>
<div class="section" id="using-conditions-on-xml-attributes">
<h3>Using conditions on XML attributes<a class="headerlink" href="#using-conditions-on-xml-attributes" title="Permalink to this headline">¶</a></h3>
<p>A &lt;Condition&gt; element can be specified as a child element of a
&lt;PropertyDefn&gt;. The content of the Condition follows a minimalistic
XPath syntax. It must be of the form &#64;attrname[=|!=]’attrvalue’ [and|or
other_cond]*. Note that ‘and’ and ‘or’ operators cannot be mixed (their
precedence is not taken into account).</p>
<p>Several &lt;PropertyDefn&gt; can be defined with the same &lt;ElementPath&gt;, but
with &lt;Condition&gt; that must be mutually exclusive.</p>
<p>Let’s consider the following testcondition.gml file :</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>
<span class="nt">&lt;ogr:FeatureCollection</span>
     <span class="na">xmlns:ogr=</span><span class="s">&quot;http://ogr.maptools.org/&quot;</span>
     <span class="na">xmlns:gml=</span><span class="s">&quot;http://www.opengis.net/gml&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;gml:featureMember&gt;</span>
    <span class="nt">&lt;ogr:testcondition</span> <span class="na">fid=</span><span class="s">&quot;testcondition.0&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;ogr:name</span> <span class="na">lang=</span><span class="s">&quot;en&quot;</span><span class="nt">&gt;</span>English name<span class="nt">&lt;/ogr:name&gt;</span>
      <span class="nt">&lt;ogr:name</span> <span class="na">lang=</span><span class="s">&quot;fr&quot;</span><span class="nt">&gt;</span>Nom francais<span class="nt">&lt;/ogr:name&gt;</span>
      <span class="nt">&lt;ogr:name</span> <span class="na">lang=</span><span class="s">&quot;de&quot;</span><span class="nt">&gt;</span>Deutsche name<span class="nt">&lt;/ogr:name&gt;</span>
    <span class="nt">&lt;/ogr:testcondition&gt;</span>
  <span class="nt">&lt;/gml:featureMember&gt;</span>
<span class="nt">&lt;/ogr:FeatureCollection&gt;</span>
</pre></div>
</div>
<p>and the following associated .gfs file.</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;GMLFeatureClassList&gt;</span>
  <span class="nt">&lt;GMLFeatureClass&gt;</span>
    <span class="nt">&lt;Name&gt;</span>testcondition<span class="nt">&lt;/Name&gt;</span>
    <span class="nt">&lt;ElementPath&gt;</span>testcondition<span class="nt">&lt;/ElementPath&gt;</span>
    <span class="nt">&lt;GeometryType&gt;</span>100<span class="nt">&lt;/GeometryType&gt;</span>
    <span class="nt">&lt;PropertyDefn&gt;</span>
      <span class="nt">&lt;Name&gt;</span>name_en<span class="nt">&lt;/Name&gt;</span>
      <span class="nt">&lt;ElementPath&gt;</span>name<span class="nt">&lt;/ElementPath&gt;</span>
      <span class="nt">&lt;Condition&gt;</span>@lang=&#39;en&#39;<span class="nt">&lt;/Condition&gt;</span>
      <span class="nt">&lt;Type&gt;</span>String<span class="nt">&lt;/Type&gt;</span>
    <span class="nt">&lt;/PropertyDefn&gt;</span>
    <span class="nt">&lt;PropertyDefn&gt;</span>
      <span class="nt">&lt;Name&gt;</span>name_fr<span class="nt">&lt;/Name&gt;</span>
      <span class="nt">&lt;ElementPath&gt;</span>name<span class="nt">&lt;/ElementPath&gt;</span>
      <span class="nt">&lt;Condition&gt;</span>@lang=&#39;fr&#39;<span class="nt">&lt;/Condition&gt;</span>
      <span class="nt">&lt;Type&gt;</span>String<span class="nt">&lt;/Type&gt;</span>
    <span class="nt">&lt;/PropertyDefn&gt;</span>
    <span class="nt">&lt;PropertyDefn&gt;</span>
      <span class="nt">&lt;Name&gt;</span>name_others_lang<span class="nt">&lt;/Name&gt;</span>
      <span class="nt">&lt;ElementPath&gt;</span>name@lang<span class="nt">&lt;/ElementPath&gt;</span>
      <span class="nt">&lt;Condition&gt;</span>@lang!=&#39;en&#39; and @lang!=&#39;fr&#39;<span class="nt">&lt;/Condition&gt;</span>
      <span class="nt">&lt;Type&gt;</span>StringList<span class="nt">&lt;/Type&gt;</span>
    <span class="nt">&lt;/PropertyDefn&gt;</span>
    <span class="nt">&lt;PropertyDefn&gt;</span>
      <span class="nt">&lt;Name&gt;</span>name_others<span class="nt">&lt;/Name&gt;</span>
      <span class="nt">&lt;ElementPath&gt;</span>name<span class="nt">&lt;/ElementPath&gt;</span>
      <span class="nt">&lt;Condition&gt;</span>@lang!=&#39;en&#39; and @lang!=&#39;fr&#39;<span class="nt">&lt;/Condition&gt;</span>
      <span class="nt">&lt;Type&gt;</span>StringList<span class="nt">&lt;/Type&gt;</span>
    <span class="nt">&lt;/PropertyDefn&gt;</span>
  <span class="nt">&lt;/GMLFeatureClass&gt;</span>
<span class="nt">&lt;/GMLFeatureClassList&gt;</span>
</pre></div>
</div>
<p>The output of <em>ogrinfo testcondition.gml -ro -al</em> is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Layer</span> <span class="n">name</span><span class="p">:</span> <span class="n">testcondition</span>
<span class="n">Geometry</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">Feature</span> <span class="n">Count</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">Layer</span> <span class="n">SRS</span> <span class="n">WKT</span><span class="p">:</span>
<span class="p">(</span><span class="n">unknown</span><span class="p">)</span>
<span class="n">fid</span><span class="p">:</span> <span class="n">String</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">name_en</span><span class="p">:</span> <span class="n">String</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">name_fr</span><span class="p">:</span> <span class="n">String</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">name_others_lang</span><span class="p">:</span> <span class="n">StringList</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">name_others</span><span class="p">:</span> <span class="n">StringList</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">OGRFeature</span><span class="p">(</span><span class="n">testcondition</span><span class="p">):</span><span class="mi">0</span>
  <span class="n">fid</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">testcondition</span><span class="o">.</span><span class="mi">0</span>
  <span class="n">name_en</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">English</span> <span class="n">name</span>
  <span class="n">name_fr</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">Nom</span> <span class="n">francais</span>
  <span class="n">name_others_lang</span> <span class="p">(</span><span class="n">StringList</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="n">de</span><span class="p">)</span>
  <span class="n">name_others</span> <span class="p">(</span><span class="n">StringList</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="n">Deutsche</span> <span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="registry-for-gml-application-schemas">
<h2>Registry for GML application schemas<a class="headerlink" href="#registry-for-gml-application-schemas" title="Permalink to this headline">¶</a></h2>
<p>The “data” directory of the GDAL installation contains a
“gml_registry.xml” file that links feature types of GML application
schemas to .xsd or .gfs files that contain their definition. This is
used in case no valid .gfs or .xsd file is found next to the GML file.</p>
<p>An alternate location for the registry file can be defined by setting
its full pathname to the GML_REGISTRY configuration option.</p>
<p>An example of such a file is :</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;gml_registry&gt;</span>
    <span class="c">&lt;!-- Finnish National Land Survey cadastral data --&gt;</span>
    <span class="nt">&lt;namespace</span> <span class="na">prefix=</span><span class="s">&quot;ktjkiiwfs&quot;</span> <span class="na">uri=</span><span class="s">&quot;http://xml.nls.fi/ktjkiiwfs/2010/02&quot;</span> <span class="na">useGlobalSRSName=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;featureType</span> <span class="na">elementName=</span><span class="s">&quot;KiinteistorajanSijaintitiedot&quot;</span>
                 <span class="na">schemaLocation=</span><span class="s">&quot;http://xml.nls.fi/XML/Schema/sovellus/ktjkii/modules/kiinteistotietojen_kyselypalvelu_WFS/Asiakasdokumentaatio/ktjkiiwfs/2010/02/KiinteistorajanSijaintitiedot.xsd&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;featureType</span> <span class="na">elementName=</span><span class="s">&quot;PalstanTunnuspisteenSijaintitiedot&quot;</span>
                 <span class="na">schemaLocation=</span><span class="s">&quot;http://xml.nls.fi/XML/Schema/sovellus/ktjkii/modules/kiinteistotietojen_kyselypalvelu_WFS/Asiakasdokumentaatio/ktjkiiwfs/2010/02/palstanTunnuspisteenSijaintitiedot.xsd&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;featureType</span> <span class="na">elementName=</span><span class="s">&quot;RekisteriyksikonTietoja&quot;</span>
                 <span class="na">schemaLocation=</span><span class="s">&quot;http://xml.nls.fi/XML/Schema/sovellus/ktjkii/modules/kiinteistotietojen_kyselypalvelu_WFS/Asiakasdokumentaatio/ktjkiiwfs/2010/02/RekisteriyksikonTietoja.xsd&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;featureType</span> <span class="na">elementName=</span><span class="s">&quot;PalstanTietoja&quot;</span>
                 <span class="na">schemaLocation=</span><span class="s">&quot;http://xml.nls.fi/XML/Schema/sovellus/ktjkii/modules/kiinteistotietojen_kyselypalvelu_WFS/Asiakasdokumentaatio/ktjkiiwfs/2010/02/PalstanTietoja.xsd&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/namespace&gt;</span>

    <span class="c">&lt;!-- Inspire CadastralParcels schema --&gt;</span>
    <span class="nt">&lt;namespace</span> <span class="na">prefix=</span><span class="s">&quot;cp&quot;</span> <span class="na">uri=</span><span class="s">&quot;urn:x-inspire:specification:gmlas:CadastralParcels:3.0&quot;</span> <span class="na">useGlobalSRSName=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;featureType</span> <span class="na">elementName=</span><span class="s">&quot;BasicPropertyUnit&quot;</span>
                     <span class="na">gfsSchemaLocation=</span><span class="s">&quot;inspire_cp_BasicPropertyUnit.gfs&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;featureType</span> <span class="na">elementName=</span><span class="s">&quot;CadastralBoundary&quot;</span>
                     <span class="na">gfsSchemaLocation=</span><span class="s">&quot;inspire_cp_CadastralBoundary.gfs&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;featureType</span> <span class="na">elementName=</span><span class="s">&quot;CadastralParcel&quot;</span>
                     <span class="na">gfsSchemaLocation=</span><span class="s">&quot;inspire_cp_CadastralParcel.gfs&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;featureType</span> <span class="na">elementName=</span><span class="s">&quot;CadastralZoning&quot;</span>
                     <span class="na">gfsSchemaLocation=</span><span class="s">&quot;inspire_cp_CadastralZoning.gfs&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/namespace&gt;</span>

    <span class="c">&lt;!-- Czech RUIAN (VFR) schema (v1) --&gt;</span>
    <span class="nt">&lt;namespace</span> <span class="na">prefix=</span><span class="s">&quot;vf&quot;</span>
               <span class="na">uri=</span><span class="s">&quot;urn:cz:isvs:ruian:schemas:VymennyFormatTypy:v1 ../ruian/xsd/vymenny_format/VymennyFormatTypy.xsd&quot;</span>
               <span class="na">useGlobalSRSName=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;featureType</span> <span class="na">elementName=</span><span class="s">&quot;TypSouboru&quot;</span>
                     <span class="na">elementValue=</span><span class="s">&quot;OB&quot;</span>
                     <span class="na">gfsSchemaLocation=</span><span class="s">&quot;ruian_vf_ob_v1.gfs&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;featureType</span> <span class="na">elementName=</span><span class="s">&quot;TypSouboru&quot;</span>
                     <span class="na">elementValue=</span><span class="s">&quot;ST&quot;</span>
                     <span class="na">gfsSchemaLocation=</span><span class="s">&quot;ruian_vf_st_v1.gfs&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/namespace&gt;</span>
<span class="nt">&lt;/gml_registry&gt;</span>
</pre></div>
</div>
<p>XML schema definition (.xsd) files are pointed by the schemaLocation
attribute, whereas OGR .gfs files are pointed by the gfsSchemaLocation
attribute. In both cases, the filename can be a URL (<a class="reference external" href="http://">http://</a>, <a class="reference external" href="https://">https://</a>),
an absolute filename, or a relative filename (relative to the location
of gml_registry.xml).</p>
<p>The schema is used if and only if the namespace prefix and URI are found
in the first bytes of the GML file (e.g.
<em>xmlns:ktjkiiwfs=”http://xml.nls.fi/ktjkiiwfs/2010/02”</em>), and that the
feature type is also detected in the first bytes of the GML file (e.g.
<em>ktjkiiwfs:KiinteistorajanSijaintitiedot</em>). If the element value is
defined than the schema is used only if the feature type together with
the value is found in the first bytes of the GML file (e.g.
<em>vf:TypSouboru&gt;OB_UKSH</em>).</p>
</div>
<div class="section" id="building-junction-tables">
<h2>Building junction tables<a class="headerlink" href="#building-junction-tables" title="Permalink to this headline">¶</a></h2>
<p>The
<a class="reference external" href="https://github.com/OSGeo/gdal/blob/master/gdal/swig/python/samples/ogr_build_junction_table.py">ogr_build_junction_table.py</a>
script can be used to build a <a class="reference external" href="http://en.wikipedia.org/wiki/Junction_table">junction
table</a> from OGR layers
that contain “XXXX_href” fields. Let’s considering the following output
of a GML file with links to other features :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OGRFeature</span><span class="p">(</span><span class="n">myFeature</span><span class="p">):</span><span class="mi">1</span>
  <span class="n">gml_id</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">myFeature</span><span class="o">.</span><span class="mi">1</span>
  <span class="p">[</span><span class="o">...</span><span class="p">]</span>
  <span class="n">otherFeature_href</span> <span class="p">(</span><span class="n">StringList</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">:</span><span class="c1">#otherFeature.10,#otherFeature.20)</span>

<span class="n">OGRFeature</span><span class="p">(</span><span class="n">myFeature</span><span class="p">):</span><span class="mi">2</span>
  <span class="n">gml_id</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">myFeature</span><span class="o">.</span><span class="mi">2</span>
  <span class="p">[</span><span class="o">...</span><span class="p">]</span>
  <span class="n">otherFeature_href</span> <span class="p">(</span><span class="n">StringList</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">:</span><span class="c1">#otherFeature.30,#otherFeature.10)</span>
</pre></div>
</div>
<p>After running</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ogr2ogr</span> <span class="o">-</span><span class="n">f</span> <span class="n">PG</span> <span class="n">PG</span><span class="p">:</span><span class="n">dbname</span><span class="o">=</span><span class="n">mydb</span> <span class="n">my</span><span class="o">.</span><span class="n">gml</span>
</pre></div>
</div>
<p>to import it into PostGIS and</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">ogr_build_junction_table</span><span class="o">.</span><span class="n">py</span> <span class="n">PG</span><span class="p">:</span><span class="n">dbname</span><span class="o">=</span><span class="n">mydb</span>
</pre></div>
</div>
<p>, a <em>myfeature_otherfeature</em> table will be created and will contain the
following content :</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 46%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>myfeature_gml_id</p></th>
<th class="head"><p>otherfeature_gml_id</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>myFeature.1</p></td>
<td><p>otherFeature.10</p></td>
</tr>
<tr class="row-odd"><td><p>myFeature.1</p></td>
<td><p>otherFeature.20</p></td>
</tr>
<tr class="row-even"><td><p>myFeature.2</p></td>
<td><p>otherFeature.30</p></td>
</tr>
<tr class="row-odd"><td><p>myFeature.2</p></td>
<td><p>otherFeature.10</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="reading-datasets-resulting-from-a-wfs-2-0-join-queries">
<h2>Reading datasets resulting from a WFS 2.0 join queries<a class="headerlink" href="#reading-datasets-resulting-from-a-wfs-2-0-join-queries" title="Permalink to this headline">¶</a></h2>
<p>The GML driver can read datasets resulting from a WFS 2.0 join queries.</p>
<p>Such datasets typically look like:</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;wfs:FeatureCollection</span> <span class="na">xmlns:xs=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema&quot;</span>
    <span class="na">xmlns:app=</span><span class="s">&quot;http://app.com&quot;</span>
    <span class="na">xmlns:wfs=</span><span class="s">&quot;http://www.opengis.net/wfs/2.0&quot;</span>
    <span class="na">xmlns:gml=</span><span class="s">&quot;http://www.opengis.net/gml/3.2&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">numberMatched=</span><span class="s">&quot;unknown&quot;</span> <span class="na">numberReturned=</span><span class="s">&quot;2&quot;</span> <span class="na">timeStamp=</span><span class="s">&quot;2015-01-01T00:00:00.000Z&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd</span>
<span class="s">                        http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;wfs:member&gt;</span>
    <span class="nt">&lt;wfs:Tuple&gt;</span>
      <span class="nt">&lt;wfs:member&gt;</span>
        <span class="nt">&lt;app:table1</span> <span class="na">gml:id=</span><span class="s">&quot;table1-1&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;app:foo&gt;</span>1<span class="nt">&lt;/app:foo&gt;</span>
        <span class="nt">&lt;/app:table1&gt;</span>
      <span class="nt">&lt;/wfs:member&gt;</span>
      <span class="nt">&lt;wfs:member&gt;</span>
        <span class="nt">&lt;app:table2</span> <span class="na">gml:id=</span><span class="s">&quot;table2-1&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;app:bar&gt;</span>2<span class="nt">&lt;/app:bar&gt;</span>
          <span class="nt">&lt;app:baz&gt;</span>foo<span class="nt">&lt;/app:baz&gt;</span>
          <span class="nt">&lt;app:geometry&gt;&lt;gml:Point</span> <span class="na">gml:id=</span><span class="s">&quot;table2-2.geom.0&quot;</span><span class="nt">&gt;&lt;gml:pos&gt;</span>2 49<span class="nt">&lt;/gml:pos&gt;&lt;/gml:Point&gt;&lt;/app:geometry&gt;</span>
        <span class="nt">&lt;/app:table2&gt;</span>
      <span class="nt">&lt;/wfs:member&gt;</span>
    <span class="nt">&lt;/wfs:Tuple&gt;</span>
  <span class="nt">&lt;/wfs:member&gt;</span>
  <span class="nt">&lt;wfs:member&gt;</span>
    <span class="nt">&lt;wfs:Tuple&gt;</span>
      <span class="nt">&lt;wfs:member&gt;</span>
        <span class="nt">&lt;app:table1</span> <span class="na">gml:id=</span><span class="s">&quot;table1-2&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;app:bar&gt;</span>2<span class="nt">&lt;/app:bar&gt;</span>
          <span class="nt">&lt;app:geometry&gt;&lt;gml:Point</span> <span class="na">gml:id=</span><span class="s">&quot;table1-1.geom.0&quot;</span><span class="nt">&gt;&lt;gml:pos&gt;</span>3 50<span class="nt">&lt;/gml:pos&gt;&lt;/gml:Point&gt;&lt;/app:geometry&gt;</span>
        <span class="nt">&lt;/app:table1&gt;</span>
      <span class="nt">&lt;/wfs:member&gt;</span>
      <span class="nt">&lt;wfs:member&gt;</span>
        <span class="nt">&lt;app:table2</span> <span class="na">gml:id=</span><span class="s">&quot;table2-2&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;app:bar&gt;</span>2<span class="nt">&lt;/app:bar&gt;</span>
          <span class="nt">&lt;app:baz&gt;</span>bar<span class="nt">&lt;/app:baz&gt;</span>
          <span class="nt">&lt;app:geometry&gt;&lt;gml:Point</span> <span class="na">gml:id=</span><span class="s">&quot;table2-2.geom.0&quot;</span><span class="nt">&gt;&lt;gml:pos&gt;</span>2 50<span class="nt">&lt;/gml:pos&gt;&lt;/gml:Point&gt;&lt;/app:geometry&gt;</span>
        <span class="nt">&lt;/app:table2&gt;</span>
      <span class="nt">&lt;/wfs:member&gt;</span>
    <span class="nt">&lt;/wfs:Tuple&gt;</span>
  <span class="nt">&lt;/wfs:member&gt;</span>
<span class="nt">&lt;/wfs:FeatureCollection&gt;</span>
</pre></div>
</div>
<p>OGR will group together the attributes from the layers participating to
the join and will prefix them with the layer name. So the above example
will be read as the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OGRFeature</span><span class="p">(</span><span class="n">join_table1_table2</span><span class="p">):</span><span class="mi">0</span>
  <span class="n">table1</span><span class="o">.</span><span class="n">gml_id</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">table1</span><span class="o">-</span><span class="mi">1</span>
  <span class="n">table1</span><span class="o">.</span><span class="n">foo</span> <span class="p">(</span><span class="n">Integer</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">table1</span><span class="o">.</span><span class="n">bar</span> <span class="p">(</span><span class="n">Integer</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">null</span><span class="p">)</span>
  <span class="n">table2</span><span class="o">.</span><span class="n">gml_id</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">table2</span><span class="o">-</span><span class="mi">1</span>
  <span class="n">table2</span><span class="o">.</span><span class="n">bar</span> <span class="p">(</span><span class="n">Integer</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="n">table2</span><span class="o">.</span><span class="n">baz</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">foo</span>
  <span class="n">table2</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">POINT</span> <span class="p">(</span><span class="mi">2</span> <span class="mi">49</span><span class="p">)</span>

<span class="n">OGRFeature</span><span class="p">(</span><span class="n">join_table1_table2</span><span class="p">):</span><span class="mi">1</span>
  <span class="n">table1</span><span class="o">.</span><span class="n">gml_id</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">table1</span><span class="o">-</span><span class="mi">2</span>
  <span class="n">table1</span><span class="o">.</span><span class="n">foo</span> <span class="p">(</span><span class="n">Integer</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">null</span><span class="p">)</span>
  <span class="n">table1</span><span class="o">.</span><span class="n">bar</span> <span class="p">(</span><span class="n">Integer</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="n">table2</span><span class="o">.</span><span class="n">gml_id</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">table2</span><span class="o">-</span><span class="mi">2</span>
  <span class="n">table2</span><span class="o">.</span><span class="n">bar</span> <span class="p">(</span><span class="n">Integer</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="n">table2</span><span class="o">.</span><span class="n">baz</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">bar</span>
  <span class="n">table1</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">POINT</span> <span class="p">(</span><span class="mi">3</span> <span class="mi">50</span><span class="p">)</span>
  <span class="n">table2</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">POINT</span> <span class="p">(</span><span class="mi">2</span> <span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The ogr2ogr utility can be used to dump the results of a Oracle query to
GML:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ogr2ogr</span> <span class="o">-</span><span class="n">f</span> <span class="n">GML</span> <span class="n">output</span><span class="o">.</span><span class="n">gml</span> <span class="n">OCI</span><span class="p">:</span><span class="n">usr</span><span class="o">/</span><span class="n">pwd</span><span class="nd">@db</span> <span class="n">my_feature</span> <span class="o">-</span><span class="n">where</span> <span class="s2">&quot;id = 0&quot;</span>
</pre></div>
</div>
<p>The ogr2ogr utility can be used to dump the results of a PostGIS query
to GML:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ogr2ogr</span> <span class="o">-</span><span class="n">f</span> <span class="n">GML</span> <span class="n">output</span><span class="o">.</span><span class="n">gml</span> <span class="n">PG</span><span class="p">:</span><span class="s1">&#39;host=myserver dbname=warmerda&#39;</span> <span class="o">-</span><span class="n">sql</span> <span class="s2">&quot;SELECT pop_1994 from canada where province_name = &#39;Alberta&#39;&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="http://www.opengeospatial.org/standards/gml">GML Specifications</a></p></li>
<li><p><a class="reference external" href="http://portal.opengeospatial.org/files/?artifact_id=15201">GML 3.1.1 simple features profile - OGC(R)
06-049r1</a></p></li>
<li><p><a class="reference external" href="https://portal.opengeospatial.org/files/?artifact_id=42729">Geography Markup Language (GML) simple features profile (with
Corrigendum) (GML 3.2.1) - OGC(R)
10-100r3</a></p></li>
<li><p><a class="reference external" href="http://xml.apache.org/xerces2-j/index.html">Xerces</a></p></li>
<li><p><a class="reference internal" href="gmlas.html#vector-gmlas"><span class="std std-ref">GMLAS - Geography Markup Language (GML) driven by application
schemas</span></a></p></li>
<li><p><a class="reference internal" href="nas.html#vector-nas"><span class="std std-ref">NAS/ALKIS : specialized GML driver for cadastral data in
Germany</span></a></p></li>
</ul>
</div>
<div class="section" id="credits">
<h2>Credits<a class="headerlink" href="#credits" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Implementation for <strong>GML_SKIP_RESOLVE_ELEMS HUGE</strong> was contributed by
A.Furieri, with funding from Regione Toscana</p></li>
<li><p>Support for cadastral data in Finnish National Land Survey GML and
Inspire GML was funded by The Information Centre of the Ministry of
Agriculture and Forestry (Tike)</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gmt.html" class="btn btn-neutral float-right" title="GMT ASCII Vectors (.gmt)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gmlas_metadata_layers.html" class="btn btn-neutral float-left" title="GMLAS - Metadata layers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2021 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>