

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>rgb2pct &mdash; GDAL  documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://gdal.orgprograms/rgb2pct.html"/>
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/gdal.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pct2rgb" href="pct2rgb.html" />
    <link rel="prev" title="gdaldem" href="gdaldem.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/gdalicon.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../download.html">Download</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Programs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#raster-programs">Raster programs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="raster_common_options.html">Common options</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalinfo.html">gdalinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_translate.html">gdal_translate</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdaladdo.html">gdaladdo</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalwarp.html">gdalwarp</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdaltindex.html">gdaltindex</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalbuildvrt.html">gdalbuildvrt</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_contour.html">gdal_contour</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdaldem.html">gdaldem</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">rgb2pct</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pct2rgb.html">pct2rgb</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_merge.html">gdal_merge</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal2tiles.html">gdal2tiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_rasterize.html">gdal_rasterize</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdaltransform.html">gdaltransform</a></li>
<li class="toctree-l3"><a class="reference internal" href="nearblack.html">nearblack</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_retile.html">gdal_retile</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_grid.html">gdal_grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_proximity.html">gdal_proximity</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_polygonize.html">gdal_polygonize</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_sieve.html">gdal_sieve</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_fillnodata.html">gdal_fillnodata</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdallocationinfo.html">gdallocationinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalsrsinfo.html">gdalsrsinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalmove.html">gdalmove</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_edit.html">gdal_edit</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_calc.html">gdal_calc.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_pansharpen.html">gdal_pansharpen.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal-config.html">gdal-config</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalmanage.html">gdalmanage</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalcompare.html">gdalcompare</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_viewshed.html">gdal_viewshed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#multidimensional-raster-programs">Multidimensional Raster programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#vector-programs">Vector programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#geographic-network-programs">Geographic network programs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../drivers/raster/index.html">Raster drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drivers/vector/index.html">Vector drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">How to contribute?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GDAL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html"> GDAL  documentation </a> &raquo;</li>
      
          <li><a href="index.html">Programs</a> &raquo;</li>
      
      <li>rgb2pct</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/edit//master/gdal/doc/source/programs/rgb2pct.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="pct2rgb.html" class="btn btn-neutral float-right" title="pct2rgb" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gdaldem.html" class="btn btn-neutral float-left" title="gdaldem" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rgb2pct">
<span id="id1"></span><h1>rgb2pct<a class="headerlink" href="#rgb2pct" title="Permalink to this headline">¶</a></h1>
<p>Convert a 24bit RGB image to 8bit paletted.</p>
<div class="section" id="synopsis">
<span id="index-0"></span><h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rgb2pct</span><span class="o">.</span><span class="n">py</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span> <span class="n">colors</span> <span class="o">|</span> <span class="o">-</span><span class="n">pct</span> <span class="n">palette_file</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">of</span> <span class="nb">format</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">source_file</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">dest_file</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This utility will compute an optimal pseudo-color table for a given RGB image
using a median cut algorithm on a downsampled RGB histogram.   Then it
converts the image into a pseudo-colored image using the color table.
This conversion utilizes Floyd-Steinberg dithering (error diffusion) to
maximize output image visual quality.</p>
<dl class="option">
<dt id="cmdoption-gdaladdo-n">
<code class="descname">-n</code><code class="descclassname"> &lt;color&gt;</code><a class="headerlink" href="#cmdoption-gdaladdo-n" title="Permalink to this definition">¶</a></dt>
<dd><p>Select the number of colors in the generated
color table.  Defaults to 256.  Must be between 2 and 256.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdaladdo-pct">
<code class="descname">-pct</code><code class="descclassname"> &lt;palette_file&gt;</code><a class="headerlink" href="#cmdoption-gdaladdo-pct" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the color table from
&lt;palette_file&gt; instead of computing it. Can be used to have a consistent
color table for multiple files.  The&lt;palette_file&gt; must be a raster file
in a GDAL supported format with a palette.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdaladdo-of">
<code class="descname">-of</code><code class="descclassname"> &lt;format&gt;</code><a class="headerlink" href="#cmdoption-gdaladdo-of" title="Permalink to this definition">¶</a></dt>
<dd><p>Select the output format. Starting with
GDAL 2.3, if not specified, the format is guessed from the extension (previously
was GTiff). Use the short format name. Only output formats
supporting pseudo-color tables should be used.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdaladdo-arg-source-file">
<code class="descname">&lt;source_file&gt;</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-gdaladdo-arg-source-file" title="Permalink to this definition">¶</a></dt>
<dd><p>The input RGB file.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdaladdo-arg-dest-file">
<code class="descname">&lt;dest_file&gt;</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-gdaladdo-arg-dest-file" title="Permalink to this definition">¶</a></dt>
<dd><p>The output pseudo-colored file that will be created.</p>
</dd></dl>

<p>NOTE: rgb2pct.py is a Python script, and will only work if GDAL was built
with Python support.</p>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>If it is desired to hand create the palette, likely the simplest text format
is the GDAL VRT format.  In the following example a VRT was created in a
text editor with a small 4 color palette with the RGBA colors 238/238/238/255,
237/237/237/255, 236/236/236/255 and 229/229/229/255.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">rgb2pct</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">pct</span> <span class="n">palette</span><span class="o">.</span><span class="n">vrt</span> <span class="n">rgb</span><span class="o">.</span><span class="n">tif</span> <span class="n">pseudo</span><span class="o">-</span><span class="n">colored</span><span class="o">.</span><span class="n">tif</span>
<span class="o">%</span> <span class="n">more</span> <span class="o">&lt;</span> <span class="n">palette</span><span class="o">.</span><span class="n">vrt</span>
<span class="o">&lt;</span><span class="n">VRTDataset</span> <span class="n">rasterXSize</span><span class="o">=</span><span class="s2">&quot;226&quot;</span> <span class="n">rasterYSize</span><span class="o">=</span><span class="s2">&quot;271&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">VRTRasterBand</span> <span class="n">dataType</span><span class="o">=</span><span class="s2">&quot;Byte&quot;</span> <span class="n">band</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">ColorInterp</span><span class="o">&gt;</span><span class="n">Palette</span><span class="o">&lt;/</span><span class="n">ColorInterp</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">ColorTable</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">Entry</span> <span class="n">c1</span><span class="o">=</span><span class="s2">&quot;238&quot;</span> <span class="n">c2</span><span class="o">=</span><span class="s2">&quot;238&quot;</span> <span class="n">c3</span><span class="o">=</span><span class="s2">&quot;238&quot;</span> <span class="n">c4</span><span class="o">=</span><span class="s2">&quot;255&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">Entry</span> <span class="n">c1</span><span class="o">=</span><span class="s2">&quot;237&quot;</span> <span class="n">c2</span><span class="o">=</span><span class="s2">&quot;237&quot;</span> <span class="n">c3</span><span class="o">=</span><span class="s2">&quot;237&quot;</span> <span class="n">c4</span><span class="o">=</span><span class="s2">&quot;255&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">Entry</span> <span class="n">c1</span><span class="o">=</span><span class="s2">&quot;236&quot;</span> <span class="n">c2</span><span class="o">=</span><span class="s2">&quot;236&quot;</span> <span class="n">c3</span><span class="o">=</span><span class="s2">&quot;236&quot;</span> <span class="n">c4</span><span class="o">=</span><span class="s2">&quot;255&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">Entry</span> <span class="n">c1</span><span class="o">=</span><span class="s2">&quot;229&quot;</span> <span class="n">c2</span><span class="o">=</span><span class="s2">&quot;229&quot;</span> <span class="n">c3</span><span class="o">=</span><span class="s2">&quot;229&quot;</span> <span class="n">c4</span><span class="o">=</span><span class="s2">&quot;255&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">ColorTable</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">VRTRasterBand</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">VRTDataset</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pct2rgb.html" class="btn btn-neutral float-right" title="pct2rgb" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gdaldem.html" class="btn btn-neutral float-left" title="gdaldem" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2020 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>