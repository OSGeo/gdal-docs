

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>gdal_viewshed &mdash; GDAL  documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://gdal.orgprograms/gdal_viewshed.html"/>
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/gdal.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="gdalmdiminfo" href="gdalmdiminfo.html" />
    <link rel="prev" title="gdalcompare" href="gdalcompare.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/gdalicon.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../download.html">Download</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Programs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#raster-programs">Raster programs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="raster_common_options.html">Common options</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalinfo.html">gdalinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_translate.html">gdal_translate</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdaladdo.html">gdaladdo</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalwarp.html">gdalwarp</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdaltindex.html">gdaltindex</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalbuildvrt.html">gdalbuildvrt</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_contour.html">gdal_contour</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdaldem.html">gdaldem</a></li>
<li class="toctree-l3"><a class="reference internal" href="rgb2pct.html">rgb2pct</a></li>
<li class="toctree-l3"><a class="reference internal" href="pct2rgb.html">pct2rgb</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_merge.html">gdal_merge</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal2tiles.html">gdal2tiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_rasterize.html">gdal_rasterize</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdaltransform.html">gdaltransform</a></li>
<li class="toctree-l3"><a class="reference internal" href="nearblack.html">nearblack</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_retile.html">gdal_retile</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_grid.html">gdal_grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_proximity.html">gdal_proximity</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_polygonize.html">gdal_polygonize</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_sieve.html">gdal_sieve</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_fillnodata.html">gdal_fillnodata</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdallocationinfo.html">gdallocationinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalsrsinfo.html">gdalsrsinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalmove.html">gdalmove</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_edit.html">gdal_edit</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_calc.html">gdal_calc.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_pansharpen.html">gdal_pansharpen.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal-config.html">gdal-config</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalmanage.html">gdalmanage</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalcompare.html">gdalcompare</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">gdal_viewshed</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#c-api">C API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#multidimensional-raster-programs">Multidimensional Raster programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#vector-programs">Vector programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#geographic-network-programs">Geographic network programs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../drivers/raster/index.html">Raster drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drivers/vector/index.html">Vector drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">How to contribute?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GDAL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html"> GDAL  documentation </a> &raquo;</li>
      
          <li><a href="index.html">Programs</a> &raquo;</li>
      
      <li>gdal_viewshed</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/edit//master/gdal/doc/source/programs/gdal_viewshed.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="gdalmdiminfo.html" class="btn btn-neutral float-right" title="gdalmdiminfo" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gdalcompare.html" class="btn btn-neutral float-left" title="gdalcompare" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gdal-viewshed">
<span id="id1"></span><h1>gdal_viewshed<a class="headerlink" href="#gdal-viewshed" title="Permalink to this headline">Â¶</a></h1>
<p>Calculates a viewshed raster from an input raster DEM using method defined in <a class="reference internal" href="#wang2000" id="id2"><span>[Wang2000]</span></a> for a user defined point.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1.0.</span></p>
</div>
<div class="section" id="synopsis">
<span id="index-0"></span><h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdal_viewshed</span> <span class="p">[</span><span class="o">-</span><span class="n">b</span> <span class="o">&lt;</span><span class="n">band</span><span class="o">&gt;</span><span class="p">]</span>
              <span class="p">[</span><span class="o">-</span><span class="n">a_nodata</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="o">&lt;</span><span class="n">formatname</span><span class="o">&gt;</span><span class="p">]</span>
              <span class="p">[</span><span class="o">-</span><span class="n">oz</span> <span class="o">&lt;</span><span class="n">observer_height</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">tz</span> <span class="o">&lt;</span><span class="n">target_height</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">md</span> <span class="o">&lt;</span><span class="n">max_distance</span><span class="o">&gt;</span><span class="p">]</span>
              <span class="o">-</span><span class="n">ox</span> <span class="o">&lt;</span><span class="n">observer_x</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">oy</span> <span class="o">&lt;</span><span class="n">observer_y</span><span class="o">&gt;</span>
              <span class="p">[</span><span class="o">-</span><span class="n">vv</span> <span class="o">&lt;</span><span class="n">visibility</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">iv</span> <span class="o">&lt;</span><span class="n">invisibility</span><span class="o">&gt;</span><span class="p">]</span>
              <span class="p">[</span><span class="o">-</span><span class="n">ov</span> <span class="o">&lt;</span><span class="n">out_of_range</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">cc</span> <span class="o">&lt;</span><span class="n">curvature_coef</span><span class="o">&gt;</span><span class="p">]</span>
              <span class="p">[[</span><span class="o">-</span><span class="n">co</span> <span class="n">NAME</span><span class="o">=</span><span class="n">VALUE</span><span class="p">]</span> <span class="o">...</span><span class="p">]</span>
              <span class="p">[</span><span class="o">-</span><span class="n">q</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">om</span> <span class="o">&lt;</span><span class="n">output</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">]</span>
              <span class="o">&lt;</span><span class="n">src_filename</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">dst_filename</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">Â¶</a></h2>
<p>By default the <strong class="program">gdal_viewshed</strong> generates a binary visibility raster from one band
of the input raster elevation model (DEM). The output raster will be of type
Byte. With the -mode flag can also return a minimum visible height raster of type Float64.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The algorithm as implemented currently will only output meaningful results
if the georeferencing is in a projected coordinate reference system.</p>
</div>
<dl class="option">
<dt id="cmdoption-gdal-viewshed-co">
<code class="descname">-co</code><code class="descclassname"> &lt;NAME=VALUE&gt;</code><a class="headerlink" href="#cmdoption-gdal-viewshed-co" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Many formats have one or more optional creation options that can be
used to control particulars about the file created. For instance,
the GeoTIFF driver supports creation options to control compression,
and whether the file should be tiled.</p>
<p>The creation options available vary by format driver, and some
simple formats have no creation options at all. A list of options
supported for a format can be listed with the
<a class="reference internal" href="raster_common_options.html#raster-common-options-formats"><span class="std std-ref">âformats</span></a>
command line option but the documentation for the format is the
definitive source of information on driver creation options.
See <a class="reference internal" href="../drivers/raster/index.html#raster-drivers"><span class="std std-ref">Raster drivers</span></a> format
specific documentation for legal creation options for each format.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdal-viewshed-b">
<code class="descname">-b</code><code class="descclassname"> &lt;band&gt;</code><a class="headerlink" href="#cmdoption-gdal-viewshed-b" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Select an input band <strong>band</strong> containing the DEM data. Bands are numbered from 1.
Only a single band can be used. Only the part of the raster within the specified
maximum distance around the observer point is processed.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdal-viewshed-a-nodata">
<code class="descname">-a_nodata</code><code class="descclassname"> &lt;value&gt;</code><a class="headerlink" href="#cmdoption-gdal-viewshed-a-nodata" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The value to be set for the cells in the output raster that have no data.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently, no special processing of input cells at a nodata
value is done (which may result in erroneous results).</p>
</div>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdal-viewshed-ox">
<code class="descname">-ox</code><code class="descclassname"> &lt;value&gt;</code><a class="headerlink" href="#cmdoption-gdal-viewshed-ox" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The X position of the observer (in SRS units).</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdal-viewshed-oy">
<code class="descname">-oy</code><code class="descclassname"> &lt;value&gt;</code><a class="headerlink" href="#cmdoption-gdal-viewshed-oy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The Y position of the observer (in SRS units).</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdal-viewshed-oz">
<code class="descname">-oz</code><code class="descclassname"> &lt;value&gt;</code><a class="headerlink" href="#cmdoption-gdal-viewshed-oz" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The height of the observer above the DEM surface in the height unit of the DEM. Default: 2</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdal-viewshed-tz">
<code class="descname">-tz</code><code class="descclassname"> &lt;value&gt;</code><a class="headerlink" href="#cmdoption-gdal-viewshed-tz" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The height of the target above the DEM surface in the height unit of the DEM. Default: 0</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdal-viewshed-md">
<code class="descname">-md</code><code class="descclassname"> &lt;value&gt;</code><a class="headerlink" href="#cmdoption-gdal-viewshed-md" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Maximum distance from observer to compute visibiliy.
It is also used to clamp the extent of the output raster.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdal-viewshed-cc">
<code class="descname">-cc</code><code class="descclassname"> &lt;value&gt;</code><a class="headerlink" href="#cmdoption-gdal-viewshed-cc" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Coefficient to consider the effect of the curvature and refraction.
The height of the DEM is corrected according to the following formula:</p>
<div class="math notranslate nohighlight">
\[Height_{Corrected}=Height_{DEM}-{CurvCoeff}\frac{{TargetDistance}^2}{SphereDiameter}\]</div>
<p>For atmospheric refraction we can use 0.85714</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdal-viewshed-iv">
<code class="descname">-iv</code><code class="descclassname"> &lt;value&gt;</code><a class="headerlink" href="#cmdoption-gdal-viewshed-iv" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Pixel value to set for invisible areas. Default: 0</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdal-viewshed-ov">
<code class="descname">-ov</code><code class="descclassname"> &lt;value&gt;</code><a class="headerlink" href="#cmdoption-gdal-viewshed-ov" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Pixel value to set for the cells that fall outside of the range specified by
the observer location and the maximum distance. Default: 0</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdal-viewshed-vv">
<code class="descname">-vv</code><code class="descclassname"> &lt;value&gt;</code><a class="headerlink" href="#cmdoption-gdal-viewshed-vv" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Pixel value to set for visible areas. Default: 255</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-gdal-viewshed-om">
<code class="descname">-om</code><code class="descclassname"> &lt;output mode&gt;</code><a class="headerlink" href="#cmdoption-gdal-viewshed-om" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sets what information the output contains.</p>
<p>Possible values: VISIBLE, DEM, GROUND</p>
<p>VISIBLE returns a raster of type Byte containing visible locations.</p>
<p>DEM and GROUND will return a raster of type Float64 containing the minimum target
height for target to be visible from the DEM surface or ground level respectively.
Flags -tz, -iv and -vv will be ignored.</p>
<p>Default VISIBLE</p>
</dd></dl>

</div>
<div class="section" id="c-api">
<h2>C API<a class="headerlink" href="#c-api" title="Permalink to this headline">Â¶</a></h2>
<p>Functionality of this utility can be done from C with <a class="reference internal" href="../api/gdal_alg.html#_CPPv420GDALViewshedGenerate15GDALRasterBandHPKcPKc12CSLConstListddddddddd16GDALViewshedModed16GDALProgressFuncPv22GDALViewshedOutputType12CSLConstList" title="GDALViewshedGenerate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALViewshedGenerate()</span></code></a>.</p>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">Â¶</a></h2>
<p>Compute the visibility of an elevation raster data source with defaults</p>
<div class="figure align-center" id="id3">
<img alt="../_images/gdal_viewshed.png" src="../_images/gdal_viewshed.png" />
<p class="caption"><span class="caption-text">A computed visibility for two separate <cite>-ox</cite> and <cite>-oy</cite> points on a DEM.</span><a class="headerlink" href="#id3" title="Permalink to this image">Â¶</a></p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdal_viewshed</span> <span class="o">-</span><span class="n">md</span> <span class="mi">500</span> <span class="o">-</span><span class="n">ox</span> <span class="o">-</span><span class="mi">10147017</span> <span class="o">-</span><span class="n">oy</span> <span class="mi">5108065</span> <span class="n">source</span><span class="o">.</span><span class="n">tif</span> <span class="n">destination</span><span class="o">.</span><span class="n">tif</span>
</pre></div>
</div>
<dl class="citation">
<dt class="label" id="wang2000"><span class="brackets"><a class="fn-backref" href="#id2">Wang2000</a></span></dt>
<dd><p>Generating Viewsheds without Using Sightlines. Wang, Jianjun,
Robinson, Gary J., and White, Kevin. Photogrammetric Engineering and Remote
Sensing. p81. <a class="reference external" href="https://www.asprs.org/wp-content/uploads/pers/2000journal/january/2000_jan_87-90.pdf">https://www.asprs.org/wp-content/uploads/pers/2000journal/january/2000_jan_87-90.pdf</a></p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gdalmdiminfo.html" class="btn btn-neutral float-right" title="gdalmdiminfo" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gdalcompare.html" class="btn btn-neutral float-left" title="gdalcompare" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2020 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>