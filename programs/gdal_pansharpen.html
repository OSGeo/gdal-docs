

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>gdal_pansharpen.py &mdash; GDAL  documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://gdal.orgprograms/gdal_pansharpen.html"/>
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/gdal.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="gdal-config" href="gdal-config.html" />
    <link rel="prev" title="gdal_calc.py" href="gdal_calc.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/gdalicon.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../download.html">Download</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Programs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#raster-programs">Raster programs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="raster_common_options.html">Common options</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalinfo.html">gdalinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_translate.html">gdal_translate</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdaladdo.html">gdaladdo</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalwarp.html">gdalwarp</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdaltindex.html">gdaltindex</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalbuildvrt.html">gdalbuildvrt</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_contour.html">gdal_contour</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdaldem.html">gdaldem</a></li>
<li class="toctree-l3"><a class="reference internal" href="rgb2pct.html">rgb2pct</a></li>
<li class="toctree-l3"><a class="reference internal" href="pct2rgb.html">pct2rgb</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_merge.html">gdal_merge</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal2tiles.html">gdal2tiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_rasterize.html">gdal_rasterize</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdaltransform.html">gdaltransform</a></li>
<li class="toctree-l3"><a class="reference internal" href="nearblack.html">nearblack</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_retile.html">gdal_retile</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_grid.html">gdal_grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_proximity.html">gdal_proximity</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_polygonize.html">gdal_polygonize</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_sieve.html">gdal_sieve</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_fillnodata.html">gdal_fillnodata</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdallocationinfo.html">gdallocationinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalsrsinfo.html">gdalsrsinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalmove.html">gdalmove</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_edit.html">gdal_edit</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_calc.html">gdal_calc.py</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">gdal_pansharpen.py</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gdal-config.html">gdal-config</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalmanage.html">gdalmanage</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalcompare.html">gdalcompare</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_viewshed.html">gdal_viewshed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#multidimensional-raster-programs">Multidimensional Raster programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#vector-programs">Vector programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#geographic-network-programs">Geographic network programs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../drivers/raster/index.html">Raster drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drivers/vector/index.html">Vector drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">How to contribute?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GDAL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html"> GDAL  documentation </a> &raquo;</li>
      
          <li><a href="index.html">Programs</a> &raquo;</li>
      
      <li>gdal_pansharpen.py</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/edit//master/gdal/doc/source/programs/gdal_pansharpen.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="gdal-config.html" class="btn btn-neutral float-right" title="gdal-config" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gdal_calc.html" class="btn btn-neutral float-left" title="gdal_calc.py" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gdal-pansharpen-py">
<span id="gdal-pansharpen"></span><h1>gdal_pansharpen.py<a class="headerlink" href="#gdal-pansharpen-py" title="Permalink to this headline">¶</a></h1>
<p>Perform a pansharpen operation.</p>
<p>(Since GDAL 2.1)</p>
<div class="section" id="synopsis">
<span id="index-0"></span><h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdal_pansharpen</span> <span class="p">[</span><span class="o">--</span><span class="n">help</span><span class="o">-</span><span class="n">general</span><span class="p">]</span> <span class="n">pan_dataset</span> <span class="p">{</span><span class="n">spectral_dataset</span><span class="p">[,</span><span class="n">band</span><span class="o">=</span><span class="n">num</span><span class="p">]}</span><span class="o">+</span> <span class="n">out_dataset</span>
                <span class="p">[</span><span class="o">-</span><span class="n">of</span> <span class="nb">format</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">b</span> <span class="n">band</span><span class="p">]</span><span class="o">*</span> <span class="p">[</span><span class="o">-</span><span class="n">w</span> <span class="n">weight_val</span><span class="p">]</span><span class="o">*</span>
                <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="p">{</span><span class="n">nearest</span><span class="p">,</span><span class="n">bilinear</span><span class="p">,</span><span class="n">cubic</span><span class="p">,</span><span class="n">cubicspline</span><span class="p">,</span><span class="n">lanczos</span><span class="p">,</span><span class="n">average</span><span class="p">}]</span>
                <span class="p">[</span><span class="o">-</span><span class="n">threads</span> <span class="p">{</span><span class="n">ALL_CPUS</span><span class="o">|</span><span class="n">number</span><span class="p">}]</span> <span class="p">[</span><span class="o">-</span><span class="n">bitdepth</span> <span class="n">val</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">nodata</span> <span class="n">val</span><span class="p">]</span>
                <span class="p">[</span><span class="o">-</span><span class="n">spat_adjust</span> <span class="p">{</span><span class="n">union</span><span class="p">,</span><span class="n">intersection</span><span class="p">,</span><span class="n">none</span><span class="p">,</span><span class="n">nonewithoutwarning</span><span class="p">}]</span>
                <span class="p">[</span><span class="o">-</span><span class="n">co</span> <span class="n">NAME</span><span class="o">=</span><span class="n">VALUE</span><span class="p">]</span><span class="o">*</span> <span class="p">[</span><span class="o">-</span><span class="n">q</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The <strong class="program">gdal_pansharpen.py</strong> script performs a pan-sharpening operation. It
can create a “classic” output dataset (such as GeoTIFF), or a VRT
dataset describing the pan-sharpening operation.</p>
<p>More details can be found in the <a class="reference internal" href="../drivers/raster/vrt.html#gdal-vrttut-pansharpen"><span class="std std-ref">Pansharpened VRT</span></a> section.</p>
<dl class="option">
<dt id="cmdoption-of">
<code class="descname">-of</code><code class="descclassname"> &lt;format&gt;:</code><a class="headerlink" href="#cmdoption-of" title="Permalink to this definition">¶</a></dt>
<dd><p>Select the output format. Starting with GDAL 2.3, if not specified,
the format is guessed from the extension (previously was <code class="docutils literal notranslate"><span class="pre">GTiff</span></code>). Use
the short format name. <code class="docutils literal notranslate"><span class="pre">VRT</span></code> can also be used.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-b">
<code class="descname">-b</code><code class="descclassname"> &lt;band&gt;</code><a class="headerlink" href="#cmdoption-b" title="Permalink to this definition">¶</a></dt>
<dd><p>Select band <em>band</em> from the input spectral bands for output. Bands
are numbered from 1 in the order spectral bands are specified.
Multiple <strong>-b</strong> switches may be used. When no -b switch is used, all
input spectral bands are set for output.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-w">
<code class="descname">-w</code><code class="descclassname"> &lt;weight_val&gt;</code><a class="headerlink" href="#cmdoption-w" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a weight for the computation of the pseudo panchromatic
value. There must be as many -w switches as input spectral bands.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-r">
<code class="descname">-r</code><code class="descclassname"> {nearest,bilinear,cubic (default),cubicspline,lanczos,average}</code><a class="headerlink" href="#cmdoption-r" title="Permalink to this definition">¶</a></dt>
<dd><p>Select a resampling algorithm.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-threads">
<code class="descname">-threads</code><code class="descclassname"> {ALL_CPUS,number}</code><a class="headerlink" href="#cmdoption-threads" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify number of threads to use to do the resampling and
pan-sharpening itself. Can be an integer number or ALL_CPUS.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-bitdepth">
<code class="descname">-bitdepth</code><code class="descclassname"> &lt;val&gt;</code><a class="headerlink" href="#cmdoption-bitdepth" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the bit depth of the panchromatic and spectral bands (e.g.
12). If not specified, the NBITS metadata item from the panchromatic
band will be used if it exists.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-nodata">
<code class="descname">-nodata</code><code class="descclassname"> &lt;val&gt;</code><a class="headerlink" href="#cmdoption-nodata" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify nodata value for bands. Used for the resampling and
pan-sharpening computation itself. If not set, deduced from the
input bands, provided they have a consistent setting.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-spat-adjust">
<code class="descname">-spat_adjust</code><code class="descclassname"> {union(default),intersection,none,nonewithoutwarning}</code><a class="headerlink" href="#cmdoption-spat-adjust" title="Permalink to this definition">¶</a></dt>
<dd><p>Select behavior when bands have not the same extent. See
<em>SpatialExtentAdjustment</em> documentation in <a class="reference external" href="gdal_vrttut.html#gdal_vrttut_pansharpen">VRT
tutorial</a></p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-co">
<code class="descname">-co</code><code class="descclassname"> &lt;NAME=VALUE&gt;</code><a class="headerlink" href="#cmdoption-co" title="Permalink to this definition">¶</a></dt>
<dd><p>Many formats have one or more optional creation options that can be
used to control particulars about the file created. For instance,
the GeoTIFF driver supports creation options to control compression,
and whether the file should be tiled.</p>
<p>The creation options available vary by format driver, and some
simple formats have no creation options at all. A list of options
supported for a format can be listed with the
<a class="reference internal" href="raster_common_options.html#raster-common-options-formats"><span class="std std-ref">–formats</span></a>
command line option but the documentation for the format is the
definitive source of information on driver creation options.
See <a class="reference internal" href="../drivers/raster/index.html#raster-drivers"><span class="std std-ref">Raster drivers</span></a> format
specific documentation for legal creation options for each format.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-q">
<code class="descname">-q</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-q" title="Permalink to this definition">¶</a></dt>
<dd><p>Suppress progress monitor and other non-error output.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-arg-pan-dataset">
<code class="descname">&lt;pan_dataset&gt;</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-arg-pan-dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataset with panchromatic band (first band will be used).</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-arg-spectral-dataset-band">
<code class="descname">&lt;spectral_dataset&gt;[,band</code><code class="descclassname">=num]</code><a class="headerlink" href="#cmdoption-arg-spectral-dataset-band" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataset with one or several spectral bands. If the band option is
not specified, all bands of the datasets are taken into account.
Otherwise, only the specified (num)th band. The same dataset can be
repeated several times.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-arg-out-dataset">
<code class="descname">&lt;out_dataset&gt;</code><code class="descclassname"></code><a class="headerlink" href="#cmdoption-arg-out-dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Output dataset</p>
</dd></dl>

<p>Bands should be in the same projection.</p>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>With spectral bands in a single dataset :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdal_pansharpen</span><span class="o">.</span><span class="n">py</span> <span class="n">panchro</span><span class="o">.</span><span class="n">tif</span> <span class="n">multispectral</span><span class="o">.</span><span class="n">tif</span> <span class="n">pansharpened_out</span><span class="o">.</span><span class="n">tif</span>
</pre></div>
</div>
<p>With a few spectral bands from a single dataset, reordered :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdal_pansharpen</span><span class="o">.</span><span class="n">py</span> <span class="n">panchro</span><span class="o">.</span><span class="n">tif</span> <span class="n">multispectral</span><span class="o">.</span><span class="n">tif</span><span class="p">,</span><span class="n">band</span><span class="o">=</span><span class="mi">3</span> <span class="n">multispectral</span><span class="o">.</span><span class="n">tif</span><span class="p">,</span><span class="n">band</span><span class="o">=</span><span class="mi">2</span> <span class="n">multispectral</span><span class="o">.</span><span class="n">tif</span><span class="p">,</span><span class="n">band</span><span class="o">=</span><span class="mi">1</span> <span class="n">pansharpened_out</span><span class="o">.</span><span class="n">tif</span>
</pre></div>
</div>
<p>With spectral bands in several datasets :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdal_pansharpen</span><span class="o">.</span><span class="n">py</span> <span class="n">panchro</span><span class="o">.</span><span class="n">tif</span> <span class="n">band1</span><span class="o">.</span><span class="n">tif</span> <span class="n">band2</span><span class="o">.</span><span class="n">tif</span> <span class="n">band3</span><span class="o">.</span><span class="n">tif</span> <span class="n">pansharpened_out</span><span class="o">.</span><span class="n">tif</span>
</pre></div>
</div>
<p>Specify weights:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdal_pansharpen</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">w</span> <span class="mf">0.7</span> <span class="o">-</span><span class="n">w</span> <span class="mf">0.2</span> <span class="o">-</span><span class="n">w</span> <span class="mf">0.1</span> <span class="n">panchro</span><span class="o">.</span><span class="n">tif</span> <span class="n">multispectral</span><span class="o">.</span><span class="n">tif</span> <span class="n">pansharpened_out</span><span class="o">.</span><span class="n">tif</span>
</pre></div>
</div>
<p>Specify RGB bands from a RGBNir multispectral dataset while computing
the pseudo panchromatic intensity on the 4 RGBNir bands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdal_pansharpen</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">b</span> <span class="mi">1</span> <span class="o">-</span><span class="n">b</span> <span class="mi">2</span> <span class="o">-</span><span class="n">b</span> <span class="mi">3</span> <span class="n">panchro</span><span class="o">.</span><span class="n">tif</span> <span class="n">rgbnir</span><span class="o">.</span><span class="n">tif</span> <span class="n">pansharpened_out</span><span class="o">.</span><span class="n">tif</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gdal-config.html" class="btn btn-neutral float-right" title="gdal-config" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gdal_calc.html" class="btn btn-neutral float-left" title="gdal_calc.py" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2020 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>